!function(){"use strict";function e(e){function t(e){return function(t,l){throw e(t,l),t}}e.decorator("$exceptionHandler",t),t.$inject=["$delegate"]}function t(e){e.$on("$stateChangeSuccess",function(){document.body.scrollTop=document.documentElement.scrollTop=0}),e.$on("$stateChangeSuccess",function(t,l,r,o,n){e.previousState=o.name,e.currentState=l.name})}function l(e){e.theme("default").primaryPalette("teal").backgroundPalette("brown",{"default":"50"})}function r(e,t){function l(e,t){t.otherwise("/"),e.state("start",{url:"/",views:{main:{templateUrl:"../views/start.html",controller:"mainController"}}}).state("children",{url:"/children",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/children.html",controller:"mainController"}}}).state("childIncome",{url:"/childIncome",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/childIncome.html",controller:"mainController"}}}).state("household",{url:"/household",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/household.html",controller:"mainController"}}}).state("householdIncome",{url:"/household-income",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/householdIncome.html",controller:"householdIncome"}}}).state("disclosure",{url:"/disclosure",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/disclosure.html",controller:"mainController"}}}).state("signature",{url:"/signature",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/signature.html",controller:"mainController"}}}).state("confirmation",{url:"/confirmation",views:{main:{templateUrl:"../views/confirmation.html",controller:"mainController"}}}).state("export",{url:"/export",views:{main:{templateUrl:"../views/export.html",controller:"exportController"}}}).state("signup",{url:"/signup",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/signup.html",controller:"signupController"}}}).state("login",{url:"/login",views:{main:{templateUrl:"../views/login.html",controller:"loginController"}}}).state("soFar",{url:"/so-far",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/soFar.html",controller:"mainController"}}}).state("saveAndExit",{url:"/save-and-exit",views:{main:{templateUrl:"../views/save-and-exit.html",controller:"mainController"}}})}l(e,t)}angular.module("eatChallengeApp",["ngCookies","ngCsv","ngMaterial","ngSanitize","ui.router"]).config(r).config(l).config(e).run(t),e.$inject=["$provide"],t.$inject=["$rootScope"],l.$inject=["$mdThemingProvider"],r.$inject=["$stateProvider","$urlRouterProvider"]}();
!function(){"use strict";function t(t,e){t.get("/household/completed").then(function(t){e.completedApplications=t.data})}angular.module("eatChallengeApp").controller("exportController",t),t.$inject=["$http","$scope"]}();
!function(){"use strict";function e(e,o,t,n,a){function r(){t.save(s.household).then(function(){n.updateRequiredSections(s.household),n.navigateToNext()})}var s=e;s.household=t.household,e.$watch(function(){return t.household},function(){s.household=t.household}),s.navigateToNextSection=r;var l={categoryName:"work",headline:"Work Income",question:"earn money through work",sources:[{vaule:"work",checkboxLabel:"Work outside the home in a non-military capacity ",shortLabel:"Earnings from work",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"Please report gross income. This is the amount of income earned before any money is taken out for taxes or deductions. Include salary, wages, and cash bonuses."},{vaule:"selfEmployed",shortLabel:"Earnings from self employment",checkboxLabel:"Self-employed",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"For household members that are self-employed, report income from that work as a net amount. This is calculated by subtracting the total operating expenses of the business from its gross receipts or revenue."},{vaule:"onStrike",checkboxLabel:"On strike",shortLabel:"Strike Benefits",frequency:["weekly","every 2 weeks","2x month","monthly"]},{vaule:"military",checkboxLabel:"In the U.S. military",shortLabel:"Basic pay and cash bonuses",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"Please do not include combat pay, FSSA, or private housing allowances."}]},c={categoryName:"publicAssistance",headline:"Public Assistance",question:"receive any public assistance benefits",sources:[{vaule:"unemployment",checkboxLabel:"Unemployment benefits",shortLabel:"Unemployment benefits",frequency:["weekly","every 2 weeks","twice a month","monthly"]},{vaule:"workersComp",checkboxLabel:"Worker’s compensation",shortLabel:"Worker’s compensation",frequency:["weekly","every 2 weeks","twice a month","monthly"]},{vaule:"ssi",checkboxLabel:"Supplemental Security Income (SSI)",shortLabel:"Supplemental Security Income (SSI)",frequency:["weekly","every 2 weeks","twice a month","monthly"]},{vaule:"cashAssistance",checkboxLabel:"Cash assistance from State or local government",shortLabel:"Cash assistance",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"This could include TANF or General Assistance money."},{vaule:"veteransBenefits",checkboxLabel:"Veteran’s benefits",shortLabel:"Veteran’s benefits",frequency:["weekly","every 2 weeks","twice a month","monthly"]}]},i={categoryName:"alimony",headline:"Alimony",question:"receive alimony payments",sources:[{vaule:"alimony",checkboxLabel:"alimony payments",shortLabel:"Alimony payment",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"If income is received from alimony, only court-ordered payments should be reported here. Informal but regular payments should be reported later as “other” income."}]},h={categoryName:"childSupport",headline:"Child Support",question:"receive any child support",sources:[{vaule:"childSupport",checkboxLabel:"any child support",shortLabel:"Child support payment",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"If income is received from child support, only court-ordered payments should be reported here. Informal but regular payments should be reported later as “other” income."}]},u={categoryName:"retirement",headline:"Pension and Retirement",question:"receive any pension or retirement money",sources:[{vaule:"socialSecurity",checkboxLabel:"Social Security",shortLabel:"Social security",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"Please include railroad retirement and black lung benefits"},{vaule:"privatePension",checkboxLabel:"Private pensions or disability",shortLabel:"Private pensions or disability",frequency:["weekly","every 2 weeks","twice a month","monthly"]}]},m={categoryName:"otherIncome",headline:"Other Income",question:"recieve money through any other source",sources:[{vaule:"trusts",checkboxLabel:"Income from trusts or estates",shortLabel:"Income from trusts or estates",frequency:["weekly","every 2 weeks","twice a month","monthly"]},{vaule:"annuities",checkboxLabel:"Annuities",shortLabel:"Income from annuities",frequency:["weekly","every 2 weeks","twice a month","monthly"]},{vaule:"investment",checkboxLabel:"Investment income",shortLabel:"Investment income",frequency:["weekly","every 2 weeks","twice a month","monthly"]},{vaule:"interest",checkboxLabel:"Earned interest",shortLabel:"Earned interest",frequency:["weekly","every 2 weeks","twice a month","monthly"]},{vaule:"rentalIncome",checkboxLabel:"Rental income",shortLabel:"Rental income",frequency:["weekly","every 2 weeks","twice a month","monthly"]},{vaule:"otherCash",checkboxLabel:"Regular cash payments from outside household",shortLabel:"Regular cash payments from outside household",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"Such cash payments should include regular child support or alimony payments received by the household that are not court-ordered."}]};s.incomeCategories=[l,c,i,h,u,m]}angular.module("eatChallengeApp").controller("householdIncome",e),e.$inject=["$scope","$state","Household","Sections"]}();
!function(){"use strict";function e(e,n,o,t,s){function l(){function e(e){i.loginForm={},i.message="successfully logged in",n.go("soFar")}function t(e){i.message="Something went wrong. Please try again"}o.login(a.email,a.password).then(e,t)}var i=e,a={};i.submit=l,i.user=a}angular.module("eatChallengeApp").controller("loginController",e),e.$inject=["$scope","$state","auth","Household","Sections"]}();
!function(){"use strict";function e(e,o,h,t,n,l,u,i){function s(){1===b.household.children.length&&(b.childrenLabel="child"),1===b.household.otherMembers.length&&(b.adultsLabel="adult")}function d(o){o>b.household.children.length&&e.get("/child").then(function(e){var h=e.data;b.household.children.push(h),d(o)})}function c(o){o>b.household.otherMembers.length&&e.get("/household-member").then(function(e){var h=e.data;h={},b.household.otherMembers.push(h),c(o)})}function r(e){return e.children.length>e.childCount&&(e.children=e.children.slice(0,e.childCount)),e}function a(e){return e.otherMembers.length>e.otherMembersCount&&e.otherMembers.slice(0,e.otherMembersCount),e}function m(){u.save(b.household),i.updateRequiredSections(b.household),i.goBack()}function f(){r(b.household),a(b.household),u.save(b.household).then(function(){i.updateRequiredSections(b.household),i.navigateToNext()})}function g(){n.household.completed=!0,f()}var b=n;b.schoolDistrict="Oakland Unified School District",b.household=u.household,n.$watch(function(){return u.household},function(){b.household=u.household}),b.meansTest=i.meansTest,b.childrenLabel="children",b.adultsLabel="adults",b.goBack=m,b.navigateToNextSection=f,b.submitApplication=g,s(),n.$watch("household.childCount",d),n.$watch("household.otherMembersCount",c)}angular.module("eatChallengeApp").controller("mainController",e),e.$inject=["$http","$interval","$mdDialog","$mdMedia","$scope","$state","Household","Sections"]}();
!function(){"use strict";function e(e,t,n){var c=e;c.currentState=t.$current.self.name,c.sections=n.sections}angular.module("eatChallengeApp").controller("sideNavController",e),e.$inject=["$scope","$state","Sections"]}();
!function(){"use strict";function e(e,n,o){function s(){function e(){t.disabled=!1,t.signupForm={},t.message="successfully created an account",o.goBack()}function s(e){console.log(e),t.error=!0,t.message="Something went wrong. Please try again",t.disabled=!1}t.error=!1,t.disabled=!0,n.signup(a.email,a.password).then(e,s)}console.log(n.getUserStatus());var t=e,a={};t.submit=s,t.user=a}angular.module("eatChallengeApp").controller("signupController",e),e.$inject=["$scope","auth","Sections"]}();
!function(){"use strict";function t(t,e,o,u){function n(){u.logout(),r.loggedIn=u.getUserStatus(),o.go("saveAndExit")}var r=e;r.loggedIn=u.getUserStatus(),r.logout=n,r.user=t.user,t.$watch("user",function(){r.loggedIn=u.getUserStatus(),r.user=t.user})}angular.module("eatChallengeApp").controller("userControlsController",t),t.$inject=["$rootScope","$scope","$state","auth"]}();
!function(){"use strict";function e(){var e={scope:{member:"="},restrict:"A",replace:!0,templateUrl:"../views/income.html",link:o};return e}function o(e){e.incomeSources={work:{vaule:"work",label:"Earnings from work:",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"A child has a job where they earn salary or wages. Please report gross income. This is the amount of income earned before any money is taken out for taxes or deductions. Include salary, wages, and cash bonuses."},socialSecurity:{vaule:"socialSecurity",label:"Social Security Disability Payments or Survivor’s Benefits:",frequency:["monthly"]},otherPerson:{vaule:"otherPerson",label:"Income from persons outside the household:",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"A friend or extended family member regularly gives a child spending money."},otherSource:{vaule:"otherSource",label:"Income from any other source:",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"A child receives income from a private pension fund, annuity, or trust."}},0===e.member.incomeSources.length&&(e.member.incomeSources=[],Object.keys(e.incomeSources).forEach(function(o){e.member.incomeSources.push({type:o,amount:null,frequency:null})}))}angular.module("eatChallengeApp").directive("incomeQuestions",e)}();
!function(){"use strict";function e(){return{scope:{model:"="},restrict:"A",replace:!0,templateUrl:"../views/yesno.html"}}angular.module("eatChallengeApp").directive("yesNoInput",e)}();
!function(){"use strict";function e(e,n,t,u,r,o){function s(){var e=p();e&&(u.user=e,o.retrieveForUser(e))}function i(){return u.user?!0:!1}function c(){return u.user}function a(e,t){function u(e){g(e.data.user),o.save(o.household)}function r(e){console.log(e)}return n.post("/user/signup",{username:e,password:t}).then(u,r)}function l(e,t){function u(e){g(e.data.user),o.retrieveForUser(e.data.user)}function r(e,n){console.log(n),d()}var s={username:e,password:t};return n.post("/user/login",s).then(u,r)}function f(){function e(){d(),o.clear()}function t(){d(),o.clear()}return n.get("user/logout").then(e,t)}function g(n){return u.user=n,e.putObject("user",n)}function p(){return e.getObject("user")}function d(){return u.user=null,e.remove("user")}u.user=null,s();var h={};return h.isLoggedIn=i,h.getUserStatus=c,h.signup=a,h.login=l,h.logout=f,h.init=s,h}angular.module("eatChallengeApp").service("auth",e),e.$inject=["$cookies","$http","$q","$rootScope","$state","Household"]}();
!function(){function e(e,o){function t(){return l.household?l.household:void 0}function u(o){e.get("/household/"+o._id).then(function(e){l.household=e.data})}function n(t){return t=t||l.household,o.user&&(t.userId=o.user._id),e.post("/household",t)}function r(){l.household=Object.create(h)}var h={childCount:null,children:[],otherMembersCount:null,otherMembers:[],completedApplication:!1},l={};return l.get=t,l.retrieveForUser=u,l.save=n,l.clear=r,l.household=Object.create(h),l}angular.module("eatChallengeApp").service("Household",e),e.$inject=["$http","$rootScope"]}();
!function(){"use strict";function e(e,t){function r(e){c.meansTest=!0;var t=a(e),r=n(e);return t||r?(c.meansTest=!1,l.childIncome.required=!1,l.household.required=!1,void(l.householdIncome.required=!1)):void u.forEach(function(e){e.required=!0})}function a(e){for(var t,r=0;r<e.children.length;r++)if(t=e.children[r],t.assistanceProgram&&t.assistanceProgram.participant)return!0;return!1}function n(e){var t,r=_.filter(e.children,function(e){return e.enrolled===!0});if(0===r.length)return!1;for(var a=0;a<r.length;a++)if(t=e.children[a],!t.specialStatus.fosterChild&&!t.specialStatus.homelessMigrantRunaway&&!t.specialStatus.headStartParticipant)return!1;return!0}function o(e){for(var t=_.findIndex(u,function(t){return t.state===e}),r=t+1;r<u.length;r++)if(u[r].required)return u[r].state;return"confirmation"}function i(){var r,a=e.currentState||t.$current.self.name,n=e.previousState||"start";r="soFar"===a?n?o(n):"start":l[a].showSummaryAfter?"soFar":o(a),t.go(r)}function s(){var r=e.previousState||"start";t.go(r)}var u=[{label:"Let’s Get Started! ",state:"start",completed:!1,required:!0,showSummaryAfter:!1},{label:"Children",state:"children",completed:!1,required:!0,showSummaryAfter:!0},{label:"Household Members",state:"household",completed:!1,required:!0,showSummaryAfter:!0},{label:"Children's Income",state:"childIncome",completed:!1,required:!0,showSummaryAfter:!0},{label:"Household Income",state:"householdIncome",completed:!1,required:!0,showSummaryAfter:!0},{label:"Disclosure",state:"disclosure",completed:!1,required:!0,showSummaryAfter:!1},{label:"Sign and Confirm",state:"signature",completed:!1,required:!0,showSummaryAfter:!1}],l=_.indexBy(u,"state"),c={meansTest:!0,sections:u,indexedSections:l,navigateToNext:i,goBack:s,updateRequiredSections:r};return c}angular.module("eatChallengeApp").service("Sections",e),e.$inject=["$rootScope","$state"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2V4cG9ydC5qcyIsImNvbnRyb2xsZXJzL2hvdXNlaG9sZEluY29tZS5qcyIsImNvbnRyb2xsZXJzL2xvZ2luLmpzIiwiY29udHJvbGxlcnMvbWFpbi5qcyIsImNvbnRyb2xsZXJzL3NpZGVuYXYuanMiLCJjb250cm9sbGVycy9zaWdudXAuanMiLCJjb250cm9sbGVycy91c2VyQ29udHJvbHMuanMiLCJkaXJlY3RpdmVzL2luY29tZS5qcyIsImRpcmVjdGl2ZXMveWVzbm8uanMiLCJzZXJ2aWNlcy9hdXRoLmpzIiwic2VydmljZXMvaG91c2Vob2xkLmpzIiwic2VydmljZXMvc2VjdGlvbnMuanMiXSwibmFtZXMiOlsiZXJyb3JEZWNvcmF0b3IiLCIkcHJvdmlkZSIsImRlY29yYXRlRXJyb3IiLCIkZGVsZWdhdGUiLCJleGNlcHRpb24iLCJjYXVzZSIsImRlY29yYXRvciIsIiRpbmplY3QiLCJzY3JvbGxlciIsIiRyb290U2NvcGUiLCIkb24iLCJkb2N1bWVudCIsImJvZHkiLCJzY3JvbGxUb3AiLCJkb2N1bWVudEVsZW1lbnQiLCJldiIsInRvIiwidG9QYXJhbXMiLCJmcm9tIiwiZnJvbVBhcmFtcyIsInByZXZpb3VzU3RhdGUiLCJuYW1lIiwiY3VycmVudFN0YXRlIiwibWF0ZXJpYWxEZXNpZ25UaGVtZXIiLCIkbWRUaGVtaW5nUHJvdmlkZXIiLCJ0aGVtZSIsInByaW1hcnlQYWxldHRlIiwiYmFja2dyb3VuZFBhbGV0dGUiLCJkZWZhdWx0Iiwicm91dGVyQ29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJyb3V0ZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwibWFpbiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInVzZXItY29udHJvbHMiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwicnVuIiwiZXhwb3J0Q29udHJvbGxlciIsIiRodHRwIiwiJHNjb3BlIiwiZ2V0IiwidGhlbiIsInJlc3BvbnNlIiwiY29tcGxldGVkQXBwbGljYXRpb25zIiwiZGF0YSIsImhvdXNlaG9sZEluY29tZSIsIiRzdGF0ZSIsIkhvdXNlaG9sZCIsIlNlY3Rpb25zIiwiSG91c2Vob2xkSW5jb21lIiwibmF2aWdhdGVUb05leHRTZWN0aW9uIiwic2F2ZSIsInZtIiwiaG91c2Vob2xkIiwidXBkYXRlUmVxdWlyZWRTZWN0aW9ucyIsIm5hdmlnYXRlVG9OZXh0IiwiJHdhdGNoIiwid29yayIsImNhdGVnb3J5TmFtZSIsImhlYWRsaW5lIiwicXVlc3Rpb24iLCJzb3VyY2VzIiwidmF1bGUiLCJjaGVja2JveExhYmVsIiwic2hvcnRMYWJlbCIsImZyZXF1ZW5jeSIsImFubm90YXRpb24iLCJwdWJsaWNBc3Npc3RhbmNlIiwiYWxpbW9ueSIsImNoaWxkU3VwcG9ydCIsInJldGlyZW1lbnQiLCJvdGhlckluY29tZSIsImluY29tZUNhdGVnb3JpZXMiLCJsb2dpbkNvbnRyb2xsZXIiLCJhdXRoIiwic3VibWl0Iiwic3VjY2Vzc0hhbmRsZXIiLCJsb2dpbkZvcm0iLCJtZXNzYWdlIiwiZ28iLCJlcnJvckhhbmRsZXIiLCJsb2dpbiIsInVzZXIiLCJlbWFpbCIsInBhc3N3b3JkIiwibWFpbkNvbnRyb2xsZXIiLCIkaW50ZXJ2YWwiLCIkbWREaWFsb2ciLCIkbWRNZWRpYSIsImluaXQiLCJjaGlsZHJlbiIsImxlbmd0aCIsImNoaWxkcmVuTGFiZWwiLCJvdGhlck1lbWJlcnMiLCJhZHVsdHNMYWJlbCIsImFkZENoaWxkIiwibmV3VmFsIiwibmV3Q2hpbGQiLCJwdXNoIiwiYWRkT3RoZXJNZW1iZXIiLCJuZXdIb3VzZWhvbGRNZW1iZXIiLCJ0cmltQ2hpbGRyZW4iLCJjaGlsZENvdW50Iiwic2xpY2UiLCJ0cmltT3RoZXJNZW1iZXJzIiwib3RoZXJNZW1iZXJzQ291bnQiLCJnb0JhY2siLCJzdWJtaXRBcHBsaWNhdGlvbiIsImNvbXBsZXRlZCIsInNjaG9vbERpc3RyaWN0IiwibWVhbnNUZXN0Iiwic2lkZU5hdkNvbnRyb2xsZXIiLCIkY3VycmVudCIsInNlbGYiLCJzZWN0aW9ucyIsInNpZ251cENvbnRyb2xsZXIiLCJkaXNhYmxlZCIsInNpZ251cEZvcm0iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJzaWdudXAiLCJnZXRVc2VyU3RhdHVzIiwidXNlckNvbnRyb2xzQ29udHJvbGxlciIsImxvZ291dCIsImxvZ2dlZEluIiwiaW5jb21lRGlyZWN0aXZlIiwiZGlyZWN0aXZlIiwic2NvcGUiLCJtZW1iZXIiLCJyZXN0cmljdCIsInJlcGxhY2UiLCJsaW5rIiwiaW5jb21lU291cmNlcyIsImxhYmVsIiwic29jaWFsU2VjdXJpdHkiLCJvdGhlclBlcnNvbiIsIm90aGVyU291cmNlIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJpbmNvbWVTb3VyY2UiLCJ0eXBlIiwiYW1vdW50IiwieWVzTm9JbnB1dCIsIm1vZGVsIiwiQXV0aFNlcnZpY2UiLCIkY29va2llcyIsIiRxIiwiZ2V0Q3JlZGVudGlhbHMiLCJyZXRyaWV2ZUZvclVzZXIiLCJpc0xvZ2dlZEluIiwic2V0Q3JlZGVudGlhbHMiLCJwb3N0IiwidXNlcm5hbWUiLCJjbGVhckNyZWRlbnRpYWxzIiwiY2xlYXIiLCJwdXRPYmplY3QiLCJnZXRPYmplY3QiLCJyZW1vdmUiLCJzZXJ2aWNlIiwiaG91c2Vob2xkU2VydmljZSIsIl9pZCIsInVzZXJJZCIsImNyZWF0ZSIsImNvbXBsZXRlZEFwcGxpY2F0aW9uIiwic2VjdGlvbnNTZXJ2aWNlIiwiYXNzaXN0YW5jZVByb2dyYW1Ib3VzZWhvbGQiLCJpc0Fzc2lzdGFuY2VIb3VzZWhvbGQiLCJjYXRlZ29yaWNhbGx5UXVhbGlmaWVkIiwiYWxsU3R1ZGVudHNDYXRlZ29yaWNhbGx5UXVhbGlmeSIsImluZGV4ZWRTZWN0aW9ucyIsInJlcXVpcmVkIiwic2VjdGlvbiIsImN1cnJlbnRDaGlsZCIsImkiLCJhc3Npc3RhbmNlUHJvZ3JhbSIsInBhcnRpY2lwYW50IiwiZW5yb2xsZWRDaGlsZHJlbiIsIl8iLCJmaWx0ZXIiLCJjIiwiZW5yb2xsZWQiLCJzcGVjaWFsU3RhdHVzIiwiZm9zdGVyQ2hpbGQiLCJob21lbGVzc01pZ3JhbnRSdW5hd2F5IiwiaGVhZFN0YXJ0UGFydGljaXBhbnQiLCJmaW5kTmV4dCIsImN1cnJlbnRJbmRleCIsImZpbmRJbmRleCIsIm5leHRTZWN0aW9uIiwic2hvd1N1bW1hcnlBZnRlciIsImluZGV4QnkiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0ksWUFZQSxTQUFTQSxHQUFlQyxHQUdwQixRQUFTQyxHQUFjQyxHQUNuQixNQUFPLFVBQVNDLEVBQVdDLEdBRXZCLEtBREFGLEdBQVVDLEVBQVdDLEdBQ2ZELEdBTGRILEVBQVNLLFVBQVUsb0JBQXFCSixHQUN4Q0EsRUFBY0ssU0FBVyxhQVc3QixRQUFTQyxHQUFTQyxHQUVkQSxFQUFXQyxJQUFJLHNCQUF1QixXQUNsQ0MsU0FBU0MsS0FBS0MsVUFBWUYsU0FBU0csZ0JBQWdCRCxVQUFZLElBSW5FSixFQUFXQyxJQUFJLHNCQUF1QixTQUFTSyxFQUFJQyxFQUFJQyxFQUFVQyxFQUFNQyxHQUNuRVYsRUFBV1csY0FBZ0JGLEVBQUtHLEtBQ2hDWixFQUFXYSxhQUFlTixFQUFHSyxPQU1yQyxRQUFTRSxHQUFxQkMsR0FDMUJBLEVBQW1CQyxNQUFNLFdBQVdDLGVBQWUsUUFDaENDLGtCQUFrQixTQUFVQyxVQUFXLE9BSzlELFFBQVNDLEdBQWNDLEVBQWdCQyxHQUtuQyxRQUFTQyxHQUFPRixFQUFnQkMsR0FDNUJBLEVBQW1CRSxVQUFVLEtBRTdCSCxFQUNDSSxNQUFNLFNBQ0hDLElBQUssSUFDTEMsT0FTSUMsTUFDSUMsWUFBYSxzQkFDYkMsV0FBWSxxQkFJdkJMLE1BQU0sWUFDSEMsSUFBSyxZQUNMQyxPQUNJSSxpQkFDSUYsWUFBYSw4QkFDYkMsV0FBWSwwQkFNaEJGLE1BQ0FDLFlBQWEseUJBQ2JDLFdBQVkscUJBSW5CTCxNQUFNLGVBQ0hDLElBQUssZUFDTEMsT0FDSUksaUJBQ0lGLFlBQWEsOEJBQ2JDLFdBQVks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LE9BQ2hEa0MsR0FBT2lDLEdBQUduRSxHQXBLZCxHQUFJc0csS0FFSXFCLE1BQU8sc0JBQ1A3RyxNQUFPLFFBQ1BrRixXQUFXLEVBQ1hpRSxVQUFVLEVBQ1ZtQixrQkFBa0IsSUFFbEJ6RCxNQUFPLFdBQ1A3RyxNQUFPLFdBQ1BrRixXQUFXLEVBQ1hpRSxVQUFVLEVBQ1ZtQixrQkFBa0IsSUFHbEJ6RCxNQUFPLG9CQUNQN0csTUFBTyxZQUNQa0YsV0FBVyxFQUNYaUUsVUFBVSxFQUNWbUIsa0JBQWtCLElBR2xCekQsTUFBTyxvQkFDUDdHLE1BQU8sY0FDUGtGLFdBQVcsRUFDWGlFLFVBQVUsRUFDVm1CLGtCQUFrQixJQUdsQnpELE1BQU8sbUJBQ1A3RyxNQUFPLGtCQUNQa0YsV0FBVyxFQUNYaUUsVUFBVSxFQUNWbUIsa0JBQWtCLElBR2xCekQsTUFBTyxhQUNQN0csTUFBTyxhQUNQa0YsV0FBVyxFQUNYaUUsVUFBVSxFQUNWbUIsa0JBQWtCLElBR2xCekQsTUFBTyxtQkFDUDdHLE1BQU8sWUFDUGtGLFdBQVcsRUFDWGlFLFVBQVUsRUFDVm1CLGtCQUFrQixJQUl0QnBCLEVBQWtCUSxFQUFFYSxRQUFRL0UsRUFBVSxTQUV0QytDLEdBQ0FuRCxXQUFXLEVBQ1hJLFNBQVVBLEVBQ1YwRCxnQkFBaUJBLEVBQ2pCckgsZUFBZ0JBLEVBQ2hCbUQsT0FBUUEsRUFDUnBELHVCQUF3QkEsRUFHNUIsT0FBTzJHLEdBckVYaEksUUFDS0MsT0FBTyxtQkFDUCtILFFBQVEsV0FBWU0sR0FFekJBLEVBQWdCeEssU0FBVyxhQUFjIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcsWyduZ0Nvb2tpZXMnLCAnbmdDc3YnLCduZ01hdGVyaWFsJywgJ25nU2FuaXRpemUnLCAndWkucm91dGVyJ10pXG4gICAgLmNvbmZpZyhyb3V0ZXJDb25maWcpXG4gICAgLmNvbmZpZyhtYXRlcmlhbERlc2lnblRoZW1lcilcbiAgICAuY29uZmlnKGVycm9yRGVjb3JhdG9yKVxuICAgIC5ydW4oc2Nyb2xsZXIpO1xuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAvL1Nob3cgc291cmNlIG1hcHMgaW4gZXJyb3JzXG4gICAgZXJyb3JEZWNvcmF0b3IuJGluamVjdCA9IFsnJHByb3ZpZGUnXTtcbiAgICBmdW5jdGlvbiBlcnJvckRlY29yYXRvcigkcHJvdmlkZSkge1xuICAgICAgICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRleGNlcHRpb25IYW5kbGVyJywgZGVjb3JhdGVFcnJvcik7XG4gICAgICAgIGRlY29yYXRlRXJyb3IuJGluamVjdCA9IFsnJGRlbGVnYXRlJ107XG4gICAgICAgIGZ1bmN0aW9uIGRlY29yYXRlRXJyb3IoJGRlbGVnYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXhjZXB0aW9uLCBjYXVzZSkge1xuICAgICAgICAgICAgICAgICRkZWxlZ2F0ZShleGNlcHRpb24sIGNhdXNlKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy9Sb3V0aW5nIGVuaGFuY2VtZW50c1xuICAgIHNjcm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnXTtcbiAgICBmdW5jdGlvbiBzY3JvbGxlcigkcm9vdFNjb3BlKSB7XG4gICAgICAgIC8vIHNjcm9sbCB0byB0aGUgdG9wIG9uIHBhZ2UgdHJhbnNpdGlvblxuICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gS2VlcCB0cmFjayBvZiBoaXN0b3J5XG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oZXYsIHRvLCB0b1BhcmFtcywgZnJvbSwgZnJvbVBhcmFtcykge1xuICAgICAgICAgICAgJHJvb3RTY29wZS5wcmV2aW91c1N0YXRlID0gZnJvbS5uYW1lO1xuICAgICAgICAgICAgJHJvb3RTY29wZS5jdXJyZW50U3RhdGUgPSB0by5uYW1lO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvL0NvbG9yIHRoZW1lcyBmb3IgYnV0dG9uc1xuICAgIG1hdGVyaWFsRGVzaWduVGhlbWVyLiRpbmplY3QgPSBbJyRtZFRoZW1pbmdQcm92aWRlciddO1xuICAgIGZ1bmN0aW9uIG1hdGVyaWFsRGVzaWduVGhlbWVyKCRtZFRoZW1pbmdQcm92aWRlcikge1xuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RlZmF1bHQnKS5wcmltYXJ5UGFsZXR0ZSgndGVhbCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5iYWNrZ3JvdW5kUGFsZXR0ZSgnYnJvd24nLCB7J2RlZmF1bHQnOiAnNTAnfSk7XG4gICAgfVxuXG4gICAgLy8gVUkgcm91dGVyXG4gICAgcm91dGVyQ29uZmlnLiRpbmplY3QgPSBbJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlciddO1xuICAgIGZ1bmN0aW9uIHJvdXRlckNvbmZpZyAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xuXG4gICAgICAgIHJvdXRlcigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKTtcbiAgICAgICAgLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIHJvdXRlcigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XG4gICAgICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG5cbiAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAgICAgICAuc3RhdGUoJ3N0YXJ0Jywge1xuICAgICAgICAgICAgICAgIHVybDogJy8nLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc3RhcnQuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdjaGlsZHJlbicsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvY2hpbGRyZW4nLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvY2hpbGRyZW4uaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYWluQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnY2hpbGRJbmNvbWUnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2NoaWxkSW5jb21lJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgICd1c2VyLWNvbnRyb2xzJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy91c2VyLWNvbnRyb2xzLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJDb250cm9sc0NvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2NoaWxkSW5jb21lLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ2hvdXNlaG9sZCcsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvaG91c2Vob2xkJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgICd1c2VyLWNvbnRyb2xzJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy91c2VyLWNvbnRyb2xzLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJDb250cm9sc0NvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2hvdXNlaG9sZC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYWluQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ2hvdXNlaG9sZEluY29tZScsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvaG91c2Vob2xkLWluY29tZScsXG4gICAgICAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICAgICAgICAndXNlci1jb250cm9scyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvdXNlci1jb250cm9scy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1c2VyQ29udHJvbHNDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9ob3VzZWhvbGRJbmNvbWUuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaG91c2Vob2xkSW5jb21lJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnZGlzY2xvc3VyZScsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvZGlzY2xvc3VyZScsXG4gICAgICAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICAgICAgICAndXNlci1jb250cm9scyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvdXNlci1jb250cm9scy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1c2VyQ29udHJvbHNDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9kaXNjbG9zdXJlLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnc2lnbmF0dXJlJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9zaWduYXR1cmUnLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lnbmF0dXJlLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ2NvbmZpcm1hdGlvbicsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvY29uZmlybWF0aW9uJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgIC8vICd1c2VyLWNvbnRyb2xzJzoge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy91c2VyLWNvbnRyb2xzLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29udHJvbGxlcjogJ3VzZXJDb250cm9sc0NvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2NvbmZpcm1hdGlvbi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdleHBvcnQnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2V4cG9ydCcsXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvZXhwb3J0Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2V4cG9ydENvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdzaWdudXAnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3NpZ251cCcsXG4gICAgICAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICAgICAgICAndXNlci1jb250cm9scyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvdXNlci1jb250cm9scy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1c2VyQ29udHJvbHNDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWdudXAuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lnbnVwQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnbG9naW4nLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2xvZ2luJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgIC8vICd1c2VyLWNvbnRyb2xzJzoge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy91c2VyLWNvbnRyb2xzLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29udHJvbGxlcjogJ3VzZXJDb250cm9sc0NvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2xvZ2luLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2xvZ2luQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3NvRmFyJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9zby1mYXInLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NvRmFyLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnc2F2ZUFuZEV4aXQnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3NhdmUtYW5kLWV4aXQnLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NhdmUtYW5kLWV4aXQuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdleHBvcnRDb250cm9sbGVyJywgZXhwb3J0Q29udHJvbGxlcik7XG5cbiAgICBleHBvcnRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRodHRwJywgJyRzY29wZSddO1xuXG4gICAgZnVuY3Rpb24gZXhwb3J0Q29udHJvbGxlcigkaHR0cCwgJHNjb3BlKSB7XG4gICAgICAgICRodHRwLmdldCgnL2hvdXNlaG9sZC9jb21wbGV0ZWQnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAkc2NvcGUuY29tcGxldGVkQXBwbGljYXRpb25zID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2hvdXNlaG9sZEluY29tZScsIGhvdXNlaG9sZEluY29tZSk7XG5cbiAgICBob3VzZWhvbGRJbmNvbWUuJGluamVjdCA9IFtcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckc3RhdGUnLFxuICAgICAgICAnSG91c2Vob2xkJyxcbiAgICAgICAgJ1NlY3Rpb25zJ1xuICAgIF07XG5cbiAgICBmdW5jdGlvbiBob3VzZWhvbGRJbmNvbWUgKCRzY29wZSwgJHN0YXRlLCBIb3VzZWhvbGQsIFNlY3Rpb25zLCBIb3VzZWhvbGRJbmNvbWUpIHtcbiAgICAgICAgdmFyIHZtID0gJHNjb3BlO1xuICAgICAgICB2bS5ob3VzZWhvbGQgPSBIb3VzZWhvbGQuaG91c2Vob2xkO1xuICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIEhvdXNlaG9sZC5ob3VzZWhvbGQ7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdm0uaG91c2Vob2xkID0gSG91c2Vob2xkLmhvdXNlaG9sZDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZtLm5hdmlnYXRlVG9OZXh0U2VjdGlvbiA9IG5hdmlnYXRlVG9OZXh0U2VjdGlvbjtcblxuICAgICAgICB2YXIgd29yayA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogJ3dvcmsnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdXb3JrIEluY29tZScsXG4gICAgICAgICAgICBxdWVzdGlvbjogJ2Vhcm4gbW9uZXkgdGhyb3VnaCB3b3JrJyxcbiAgICAgICAgICAgIHNvdXJjZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOid3b3JrJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ1dvcmsgb3V0c2lkZSB0aGUgaG9tZSBpbiBhIG5vbi1taWxpdGFyeSBjYXBhY2l0eSAnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnRWFybmluZ3MgZnJvbSB3b3JrJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdldmVyeSAyIHdlZWtzJywgJ3R3aWNlIGEgbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uOiAnUGxlYXNlIHJlcG9ydCBncm9zcyBpbmNvbWUuIFRoaXMgaXMgdGhlIGFtb3VudCBvZiBpbmNvbWUgZWFybmVkIGJlZm9yZSBhbnkgbW9uZXkgaXMgdGFrZW4gb3V0IGZvciB0YXhlcyBvciBkZWR1Y3Rpb25zLiBJbmNsdWRlIHNhbGFyeSwgd2FnZXMsIGFuZCBjYXNoIGJvbnVzZXMuJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTonc2VsZkVtcGxveWVkJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ0Vhcm5pbmdzIGZyb20gc2VsZiBlbXBsb3ltZW50JyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ1NlbGYtZW1wbG95ZWQnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdGb3IgaG91c2Vob2xkIG1lbWJlcnMgdGhhdCBhcmUgc2VsZi1lbXBsb3llZCwgcmVwb3J0IGluY29tZSBmcm9tIHRoYXQgd29yayBhcyBhIG5ldCBhbW91bnQuIFRoaXMgaXMgY2FsY3VsYXRlZCBieSBzdWJ0cmFjdGluZyB0aGUgdG90YWwgb3BlcmF0aW5nIGV4cGVuc2VzIG9mIHRoZSBidXNpbmVzcyBmcm9tIGl0cyBncm9zcyByZWNlaXB0cyBvciByZXZlbnVlLidcblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTonb25TdHJpa2UnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnT24gc3RyaWtlJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ1N0cmlrZSBCZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIC8vIGFubm90YXRpb246XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGFkZCBzcGFjZSBmb3IgaG91c2luZyBhbGxvd2FuY2UgcGVyIGRvY1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTonbWlsaXRhcnknLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnSW4gdGhlIFUuUy4gbWlsaXRhcnknLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnQmFzaWMgcGF5IGFuZCBjYXNoIGJvbnVzZXMnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdQbGVhc2UgZG8gbm90IGluY2x1ZGUgY29tYmF0IHBheSwgRlNTQSwgb3IgcHJpdmF0ZSBob3VzaW5nIGFsbG93YW5jZXMuJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcHVibGljQXNzaXN0YW5jZSA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogJ3B1YmxpY0Fzc2lzdGFuY2UnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdQdWJsaWMgQXNzaXN0YW5jZScsXG4gICAgICAgICAgICBxdWVzdGlvbjogJ3JlY2VpdmUgYW55IHB1YmxpYyBhc3Npc3RhbmNlIGJlbmVmaXRzJyxcbiAgICAgICAgICAgIHNvdXJjZXM6W1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6J3VuZW1wbG95bWVudCcsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdVbmVtcGxveW1lbnQgYmVuZWZpdHMnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnVW5lbXBsb3ltZW50IGJlbmVmaXRzJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdldmVyeSAyIHdlZWtzJywgJ3R3aWNlIGEgbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTond29ya2Vyc0NvbXAnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnV29ya2Vy4oCZcyBjb21wZW5zYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnV29ya2Vy4oCZcyBjb21wZW5zYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIC8vIGFubm90YXRpb246ICcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOidzc2knLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnU3VwcGxlbWVudGFsIFNlY3VyaXR5IEluY29tZSAoU1NJKScsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdTdXBwbGVtZW50YWwgU2VjdXJpdHkgSW5jb21lIChTU0kpJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdldmVyeSAyIHdlZWtzJywgJ3R3aWNlIGEgbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTonY2FzaEFzc2lzdGFuY2UnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnQ2FzaCBhc3Npc3RhbmNlIGZyb20gU3RhdGUgb3IgbG9jYWwgZ292ZXJubWVudCcsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdDYXNoIGFzc2lzdGFuY2UnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdUaGlzIGNvdWxkIGluY2x1ZGUgVEFORiBvciBHZW5lcmFsIEFzc2lzdGFuY2UgbW9uZXkuJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTondmV0ZXJhbnNCZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdWZXRlcmFu4oCZcyBiZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdWZXRlcmFu4oCZcyBiZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICd0d2ljZSBhIG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJ1RoaXMgY291bGQgaW5jbHVkZSBUQU5GIG9yIEdlbmVyYWwgQXNzaXN0YW5jZSBtb25leSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGFsaW1vbnkgPSB7XG4gICAgICAgICAgICBjYXRlZ29yeU5hbWU6ICdhbGltb255JyxcbiAgICAgICAgICAgIGhlYWRsaW5lOiAnQWxpbW9ueScsXG4gICAgICAgICAgICBxdWVzdGlvbjogJ3JlY2VpdmUgYWxpbW9ueSBwYXltZW50cycsXG4gICAgICAgICAgICBzb3VyY2VzOltcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOiAnYWxpbW9ueScsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdhbGltb255IHBheW1lbnRzJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ0FsaW1vbnkgcGF5bWVudCcsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICd0d2ljZSBhIG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ0lmIGluY29tZSBpcyByZWNlaXZlZCBmcm9tIGFsaW1vbnksIG9ubHkgY291cnQtb3JkZXJlZCBwYXltZW50cyBzaG91bGQgYmUgcmVwb3J0ZWQgaGVyZS4gSW5mb3JtYWwgYnV0IHJlZ3VsYXIgcGF5bWVudHMgc2hvdWxkIGJlIHJlcG9ydGVkIGxhdGVyIGFzIOKAnG90aGVy4oCdIGluY29tZS4nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBjaGlsZFN1cHBvcnQgPSB7XG4gICAgICAgICAgICBjYXRlZ29yeU5hbWU6ICdjaGlsZFN1cHBvcnQnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdDaGlsZCBTdXBwb3J0JyxcbiAgICAgICAgICAgIHF1ZXN0aW9uOiAncmVjZWl2ZSBhbnkgY2hpbGQgc3VwcG9ydCcsXG4gICAgICAgICAgICBzb3VyY2VzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTogJ2NoaWxkU3VwcG9ydCcsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdhbnkgY2hpbGQgc3VwcG9ydCcsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdDaGlsZCBzdXBwb3J0IHBheW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdJZiBpbmNvbWUgaXMgcmVjZWl2ZWQgZnJvbSBjaGlsZCBzdXBwb3J0LCBvbmx5IGNvdXJ0LW9yZGVyZWQgcGF5bWVudHMgc2hvdWxkIGJlIHJlcG9ydGVkIGhlcmUuIEluZm9ybWFsIGJ1dCByZWd1bGFyIHBheW1lbnRzIHNob3VsZCBiZSByZXBvcnRlZCBsYXRlciBhcyDigJxvdGhlcuKAnSBpbmNvbWUuJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmV0aXJlbWVudCA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogJ3JldGlyZW1lbnQnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdQZW5zaW9uIGFuZCBSZXRpcmVtZW50JyxcbiAgICAgICAgICAgIHF1ZXN0aW9uOiAncmVjZWl2ZSBhbnkgcGVuc2lvbiBvciByZXRpcmVtZW50IG1vbmV5JyxcbiAgICAgICAgICAgIHNvdXJjZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOiAnc29jaWFsU2VjdXJpdHknLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnU29jaWFsIFNlY3VyaXR5JyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ1NvY2lhbCBzZWN1cml0eScsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICd0d2ljZSBhIG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ1BsZWFzZSBpbmNsdWRlIHJhaWxyb2FkIHJldGlyZW1lbnQgYW5kIGJsYWNrIGx1bmcgYmVuZWZpdHMnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOiAncHJpdmF0ZVBlbnNpb24nLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnUHJpdmF0ZSBwZW5zaW9ucyBvciBkaXNhYmlsaXR5JyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ1ByaXZhdGUgcGVuc2lvbnMgb3IgZGlzYWJpbGl0eScsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICd0d2ljZSBhIG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG90aGVySW5jb21lID0ge1xuICAgICAgICAgICAgY2F0ZWdvcnlOYW1lOiAnb3RoZXJJbmNvbWUnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdPdGhlciBJbmNvbWUnLFxuICAgICAgICAgICAgcXVlc3Rpb246ICdyZWNpZXZlIG1vbmV5IHRocm91Z2ggYW55IG90aGVyIHNvdXJjZScsXG4gICAgICAgICAgICBzb3VyY2VzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTogJ3RydXN0cycsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdJbmNvbWUgZnJvbSB0cnVzdHMgb3IgZXN0YXRlcycsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdJbmNvbWUgZnJvbSB0cnVzdHMgb3IgZXN0YXRlcycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICd0d2ljZSBhIG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6ICdhbm51aXRpZXMnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnQW5udWl0aWVzJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ0luY29tZSBmcm9tIGFubnVpdGllcycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICd0d2ljZSBhIG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6ICdpbnZlc3RtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ0ludmVzdG1lbnQgaW5jb21lJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ0ludmVzdG1lbnQgaW5jb21lJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdldmVyeSAyIHdlZWtzJywgJ3R3aWNlIGEgbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTogJ2ludGVyZXN0JyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ0Vhcm5lZCBpbnRlcmVzdCcsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdFYXJuZWQgaW50ZXJlc3QnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIC8vIGFubm90YXRpb246ICcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOiAncmVudGFsSW5jb21lJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ1JlbnRhbCBpbmNvbWUnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnUmVudGFsIGluY29tZScsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICd0d2ljZSBhIG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6ICdvdGhlckNhc2gnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnUmVndWxhciBjYXNoIHBheW1lbnRzIGZyb20gb3V0c2lkZSBob3VzZWhvbGQnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnUmVndWxhciBjYXNoIHBheW1lbnRzIGZyb20gb3V0c2lkZSBob3VzZWhvbGQnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdTdWNoIGNhc2ggcGF5bWVudHMgc2hvdWxkIGluY2x1ZGUgcmVndWxhciBjaGlsZCBzdXBwb3J0IG9yIGFsaW1vbnkgcGF5bWVudHMgcmVjZWl2ZWQgYnkgdGhlIGhvdXNlaG9sZCB0aGF0IGFyZSBub3QgY291cnQtb3JkZXJlZC4nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUT0RPOiBkdXBsaWNhdGVkIHdpdGggbWFpbi5qcy4gU2hhcmUgaW4gYSBiZXR0ZXIgd2F5XG4gICAgICAgIGZ1bmN0aW9uIG5hdmlnYXRlVG9OZXh0U2VjdGlvbigpIHtcbiAgICAgICAgICAgIEhvdXNlaG9sZC5zYXZlKHZtLmhvdXNlaG9sZCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBTZWN0aW9ucy51cGRhdGVSZXF1aXJlZFNlY3Rpb25zKHZtLmhvdXNlaG9sZCk7XG4gICAgICAgICAgICAgICAgU2VjdGlvbnMubmF2aWdhdGVUb05leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdm0uaW5jb21lQ2F0ZWdvcmllcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29yayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGljQXNzaXN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpbW9ueSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRTdXBwb3J0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRpcmVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlckluY29tZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcblxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgLmNvbnRyb2xsZXIoJ2xvZ2luQ29udHJvbGxlcicsIGxvZ2luQ29udHJvbGxlcik7XG4gICAgbG9naW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckc3RhdGUnLCAnYXV0aCcsICdIb3VzZWhvbGQnLCAnU2VjdGlvbnMnXTtcbiAgICBmdW5jdGlvbiBsb2dpbkNvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIGF1dGgsIEhvdXNlaG9sZCwgU2VjdGlvbnMpIHtcbiAgICAgICAgdmFyIHZtID0gJHNjb3BlO1xuICAgICAgICB2YXIgdXNlciA9IHt9O1xuICAgICAgICB2bS5zdWJtaXQgPSBzdWJtaXQ7XG4gICAgICAgIHZtLnVzZXIgPSB1c2VyO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gc3VibWl0KCkge1xuICAgICAgICAgICAgLy8gdm0uZGlzYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBhdXRoXG4gICAgICAgICAgICAubG9naW4odXNlci5lbWFpbCwgdXNlci5wYXNzd29yZClcbiAgICAgICAgICAgIC50aGVuKHN1Y2Nlc3NIYW5kbGVyLCBlcnJvckhhbmRsZXIpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzSGFuZGxlcihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIC8vIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdm0ubG9naW5Gb3JtID0ge307XG4gICAgICAgICAgICAgICAgdm0ubWVzc2FnZSA9ICdzdWNjZXNzZnVsbHkgbG9nZ2VkIGluJztcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3NvRmFyJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9ySGFuZGxlcihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZtLm1lc3NhZ2UgPSAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4nO1xuICAgICAgICAgICAgICAgIC8vIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdtYWluQ29udHJvbGxlcicsIG1haW5Db250cm9sbGVyKTtcblxuICAgIG1haW5Db250cm9sbGVyLiRpbmplY3QgPSBbXG4gICAgICAgICckaHR0cCcsXG4gICAgICAgICckaW50ZXJ2YWwnLFxuICAgICAgICAnJG1kRGlhbG9nJyxcbiAgICAgICAgJyRtZE1lZGlhJyxcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckc3RhdGUnLFxuICAgICAgICAnSG91c2Vob2xkJyxcbiAgICAgICAgJ1NlY3Rpb25zJ1xuICAgIF07XG5cbiAgICBmdW5jdGlvbiBtYWluQ29udHJvbGxlciAoJGh0dHAsICRpbnRlcnZhbCwgJG1kRGlhbG9nLCAkbWRNZWRpYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLCAkc3RhdGUsIEhvdXNlaG9sZCwgU2VjdGlvbnMpIHtcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgICB2YXIgdm0gPSAkc2NvcGU7XG4gICAgICAgIHZtLnNjaG9vbERpc3RyaWN0ID0gJ09ha2xhbmQgVW5pZmllZCBTY2hvb2wgRGlzdHJpY3QnO1xuXG4gICAgICAgIHZtLmhvdXNlaG9sZCA9IEhvdXNlaG9sZC5ob3VzZWhvbGQ7XG4gICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gSG91c2Vob2xkLmhvdXNlaG9sZDtcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2bS5ob3VzZWhvbGQgPSBIb3VzZWhvbGQuaG91c2Vob2xkO1xuICAgICAgICB9KTtcbiAgICAgICAgdm0ubWVhbnNUZXN0ID0gU2VjdGlvbnMubWVhbnNUZXN0O1xuICAgICAgICAvLyB2bS5lc3RpbWF0ZWRJbmNvbWUgPSBlc3RpbWF0ZUluY29tZShob3VzZWhvbGQpO1xuXG4gICAgICAgIHZtLmNoaWxkcmVuTGFiZWwgPSAnY2hpbGRyZW4nO1xuICAgICAgICB2bS5hZHVsdHNMYWJlbCA9ICdhZHVsdHMnO1xuXG4gICAgICAgIC8vIG5hdmlnYXRpb25cbiAgICAgICAgdm0uZ29CYWNrID0gZ29CYWNrO1xuICAgICAgICB2bS5uYXZpZ2F0ZVRvTmV4dFNlY3Rpb24gPSBuYXZpZ2F0ZVRvTmV4dFNlY3Rpb247XG4gICAgICAgIHZtLnN1Ym1pdEFwcGxpY2F0aW9uID0gc3VibWl0QXBwbGljYXRpb247XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICAgICAgaWYgKHZtLmhvdXNlaG9sZC5jaGlsZHJlbi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICB2bS5jaGlsZHJlbkxhYmVsID0gJ2NoaWxkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2bS5ob3VzZWhvbGQub3RoZXJNZW1iZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHZtLmFkdWx0c0xhYmVsID0gJ2FkdWx0JztcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgaW5pdCgpO1xuXG4gICAgICAgIC8vTmV3IGNoaWxkcmVuIGFuZCBob3VzZWhvbGQgbWVtYmVycyBhcmUgY3JlYXRlZFxuICAgICAgICAvL2J5IGNhbGxpbmcgdGhlIHNlcnZlciB0byBtYWtlIHVzZSBvZiBtb25nb29zZSBtb2RlbHNcbiAgICAgICAgZnVuY3Rpb24gYWRkQ2hpbGQobmV3VmFsKSB7XG4gICAgICAgICAgICAvLyB2YXIgbmV3Q2hpbGQgPSB7XG4gICAgICAgICAgICAvLyAgICAgZmlyc3ROYW1lOicnLFxuICAgICAgICAgICAgLy8gICAgIG1pZGRsZUluaXRpYWw6ICcnLFxuICAgICAgICAgICAgLy8gICAgIGxhc3ROYW1lOiAnJyxcbiAgICAgICAgICAgIC8vICAgICBlbnJvbGxlZDogbnVsbCxcbiAgICAgICAgICAgIC8vICAgICBzcGVjaWFsU3RhdHVzOiB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGZvc3RlckNoaWxkOiBmYWxzZSxcbiAgICAgICAgICAgIC8vICAgICAgICAgaGVhZFN0YXJ0UGFydGljaXBhbnQ6IGZhbHNlLFxuICAgICAgICAgICAgLy8gICAgICAgICBob21lbGVzc01pZ3JhbnRSdW5hd2F5OiBmYWxzZVxuICAgICAgICAgICAgLy8gICAgIH0sXG4gICAgICAgICAgICAvLyAgICAgYXNzaXN0YW5jZVByb2dyYW06IHt9LFxuICAgICAgICAgICAgLy8gICAgIGluY29tZVNvdXJjZXM6IFtdXG4gICAgICAgICAgICAvLyB9O1xuXG4gICAgICAgICAgICAvLyB3aGlsZSAobmV3VmFsID4gJHNjb3BlLmhvdXNlaG9sZC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vICAgICAkc2NvcGUuaG91c2Vob2xkLmNoaWxkcmVuLnB1c2goT2JqZWN0LmNyZWF0ZShuZXdDaGlsZCkpO1xuICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICBpZiAobmV3VmFsID4gdm0uaG91c2Vob2xkLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICRodHRwLmdldCgnL2NoaWxkJykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3Q2hpbGQgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB2bS5ob3VzZWhvbGQuY2hpbGRyZW4ucHVzaChuZXdDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlY3Vyc2UgaWYgbmVjZXNzYXJ5XG4gICAgICAgICAgICAgICAgICAgIGFkZENoaWxkKG5ld1ZhbCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhZGRPdGhlck1lbWJlcihuZXdWYWwpIHtcbiAgICAgICAgICAgIGlmIChuZXdWYWwgPiB2bS5ob3VzZWhvbGQub3RoZXJNZW1iZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICRodHRwLmdldCgnL2hvdXNlaG9sZC1tZW1iZXInKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdIb3VzZWhvbGRNZW1iZXIgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBuZXdIb3VzZWhvbGRNZW1iZXIgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdm0uaG91c2Vob2xkLm90aGVyTWVtYmVycy5wdXNoKG5ld0hvdXNlaG9sZE1lbWJlcik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlY3Vyc2UgaWYgbmVjZXNzYXJ5XG4gICAgICAgICAgICAgICAgICAgIGFkZE90aGVyTWVtYmVyKG5ld1ZhbCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBmaW5pc2ggdGhpcyBmdW5jdGlvblxuICAgICAgICBmdW5jdGlvbiBlc3RpbWF0ZUluY29tZShob3VzZWhvbGQpIHtcbiAgICAgICAgICAgIHJldHVybiA0NztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHRyaW1DaGlsZHJlbihob3VzZWhvbGQpIHtcbiAgICAgICAgICAgIC8vIGdldCByaWQgb2YgZXh0cmEgZW1wdHkgY2hpbGQgb2JlamNldHMgY3JlYXRlZCBpbiBwcm9jZXNzXG4gICAgICAgICAgICBpZiAoaG91c2Vob2xkLmNoaWxkcmVuLmxlbmd0aCA+IGhvdXNlaG9sZC5jaGlsZENvdW50KSB7XG4gICAgICAgICAgICAgICAgaG91c2Vob2xkLmNoaWxkcmVuID0gaG91c2Vob2xkLmNoaWxkcmVuLnNsaWNlKDAsIGhvdXNlaG9sZC5jaGlsZENvdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBob3VzZWhvbGQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0cmltT3RoZXJNZW1iZXJzKGhvdXNlaG9sZCkge1xuICAgICAgICAgICAgLy8gZ2V0IHJpZCBvZiBleHRyYSBlbXB0eSBvdGhlck1lbWJlciBvYmVqY2V0cyBjcmVhdGVkIGluIHByb2Nlc3NcbiAgICAgICAgICAgIGlmIChob3VzZWhvbGQub3RoZXJNZW1iZXJzLmxlbmd0aCA+IGhvdXNlaG9sZC5vdGhlck1lbWJlcnNDb3VudCkge1xuICAgICAgICAgICAgICAgIGhvdXNlaG9sZC5vdGhlck1lbWJlcnMuc2xpY2UoMCwgaG91c2Vob2xkLm90aGVyTWVtYmVyc0NvdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBob3VzZWhvbGQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgICAgICAgICBIb3VzZWhvbGQuc2F2ZSh2bS5ob3VzZWhvbGQpO1xuICAgICAgICAgICAgU2VjdGlvbnMudXBkYXRlUmVxdWlyZWRTZWN0aW9ucyh2bS5ob3VzZWhvbGQpO1xuICAgICAgICAgICAgU2VjdGlvbnMuZ29CYWNrKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBuYXZpZ2F0ZVRvTmV4dFNlY3Rpb24oKSB7XG4gICAgICAgICAgICB0cmltQ2hpbGRyZW4odm0uaG91c2Vob2xkKTtcbiAgICAgICAgICAgIHRyaW1PdGhlck1lbWJlcnModm0uaG91c2Vob2xkKTtcblxuICAgICAgICAgICAgSG91c2Vob2xkLnNhdmUodm0uaG91c2Vob2xkKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIFNlY3Rpb25zLnVwZGF0ZVJlcXVpcmVkU2VjdGlvbnModm0uaG91c2Vob2xkKTtcbiAgICAgICAgICAgICAgICBTZWN0aW9ucy5uYXZpZ2F0ZVRvTmV4dCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzdWJtaXRBcHBsaWNhdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5ob3VzZWhvbGQuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIG5hdmlnYXRlVG9OZXh0U2VjdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2F0Y2hlcnNcbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnaG91c2Vob2xkLmNoaWxkQ291bnQnLCBhZGRDaGlsZCk7XG4gICAgICAgICRzY29wZS4kd2F0Y2goJ2hvdXNlaG9sZC5vdGhlck1lbWJlcnNDb3VudCcsIGFkZE90aGVyTWVtYmVyKTtcbiAgICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgICAuY29udHJvbGxlcignc2lkZU5hdkNvbnRyb2xsZXInLCBzaWRlTmF2Q29udHJvbGxlcik7XG5cbiAgICBzaWRlTmF2Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJHN0YXRlJywgJ1NlY3Rpb25zJ107XG5cbiAgICBmdW5jdGlvbiBzaWRlTmF2Q29udHJvbGxlciAoJHNjb3BlLCAkc3RhdGUsIFNlY3Rpb25zKSB7XG4gICAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgICAgdmFyIHZtID0gJHNjb3BlO1xuXG4gICAgICAgIHZtLmN1cnJlbnRTdGF0ZSA9ICRzdGF0ZS4kY3VycmVudC5zZWxmLm5hbWU7XG4gICAgICAgIHZtLnNlY3Rpb25zID0gU2VjdGlvbnMuc2VjdGlvbnM7XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAuY29udHJvbGxlcignc2lnbnVwQ29udHJvbGxlcicsIHNpZ251cENvbnRyb2xsZXIpO1xuICAgIHNpZ251cENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJ2F1dGgnLCAnU2VjdGlvbnMnXTtcblxuICAgIGZ1bmN0aW9uIHNpZ251cENvbnRyb2xsZXIoJHNjb3BlLCBhdXRoLCBTZWN0aW9ucykge1xuICAgICAgICBjb25zb2xlLmxvZyhhdXRoLmdldFVzZXJTdGF0dXMoKSk7XG4gICAgICAgIHZhciB2bSA9ICRzY29wZTtcbiAgICAgICAgdmFyIHVzZXIgPSB7fTtcbiAgICAgICAgdm0uc3VibWl0ID0gc3VibWl0O1xuICAgICAgICB2bS51c2VyID0gdXNlcjtcblxuICAgICAgICBmdW5jdGlvbiBzdWJtaXQoKSB7XG4gICAgICAgICAgICB2bS5lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gVE9ETzogYWRkIGxvYWRpbmcgaWNvbiB0byBVSSB3aGVuIGRpc2FibGVkID09PSB0cnVlXG4gICAgICAgICAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIGF1dGguc2lnbnVwKHVzZXIuZW1haWwsIHVzZXIucGFzc3dvcmQpXG4gICAgICAgICAgICAudGhlbihzdWNjZXNzSGFuZGxlciwgZXJyb3JIYW5kbGVyKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2Vzc0hhbmRsZXIoKSB7XG4gICAgICAgICAgICAgICAgdm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2bS5zaWdudXBGb3JtID0ge307IC8vUmVzZXQgZm9ybVxuICAgICAgICAgICAgICAgIHZtLm1lc3NhZ2UgPSAnc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgYW4gYWNjb3VudCc7XG4gICAgICAgICAgICAgICAgU2VjdGlvbnMuZ29CYWNrKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9ySGFuZGxlcihlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIHZtLmVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2bS5tZXNzYWdlID0gJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluJztcbiAgICAgICAgICAgICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIHZtLnNpZ251cEZvcm0gPSB7fVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgIC5jb250cm9sbGVyKCd1c2VyQ29udHJvbHNDb250cm9sbGVyJywgdXNlckNvbnRyb2xzQ29udHJvbGxlcik7XG4gICAgdXNlckNvbnRyb2xzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckc3RhdGUnLCAnYXV0aCddO1xuICAgIGZ1bmN0aW9uIHVzZXJDb250cm9sc0NvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHNjb3BlLCAkc3RhdGUsIGF1dGgpIHtcbiAgICAgICAgdmFyIHZtID0gJHNjb3BlO1xuICAgICAgICB2bS5sb2dnZWRJbiA9IGF1dGguZ2V0VXNlclN0YXR1cygpO1xuICAgICAgICB2bS5sb2dvdXQgPSBsb2dvdXQ7XG4gICAgICAgIHZtLnVzZXIgPSAkcm9vdFNjb3BlLnVzZXI7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgZnVuY3Rpb24gbG9nb3V0KCkge1xuICAgICAgICAgICAgYXV0aC5sb2dvdXQoKTtcbiAgICAgICAgICAgIHZtLmxvZ2dlZEluID0gYXV0aC5nZXRVc2VyU3RhdHVzKCk7XG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3NhdmVBbmRFeGl0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAkcm9vdFNjb3BlLiR3YXRjaCgndXNlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdm0ubG9nZ2VkSW4gPSBhdXRoLmdldFVzZXJTdGF0dXMoKTtcbiAgICAgICAgICAgIHZtLnVzZXIgPSAkcm9vdFNjb3BlLnVzZXI7XG4gICAgICAgIH0pO1xuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2luY29tZVF1ZXN0aW9ucycsIGluY29tZURpcmVjdGl2ZSk7XG5cbiAgICBmdW5jdGlvbiBpbmNvbWVEaXJlY3RpdmUoKSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIG1lbWJlcjogJz0nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2luY29tZS5odG1sJyxcbiAgICAgICAgICAgIGxpbms6IGxpbmtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuICAgIH1cblxuICAgIC8vIGxpbmsuJGluamVjdCA9IFsnc2NvcGUnXTtcblxuICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUpIHtcbiAgICAgICAgc2NvcGUuaW5jb21lU291cmNlcyA9IHtcbiAgICAgICAgICAgIHdvcms6IHtcbiAgICAgICAgICAgICAgICB2YXVsZTond29yaycsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdFYXJuaW5ncyBmcm9tIHdvcms6JyxcbiAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ0EgY2hpbGQgaGFzIGEgam9iIHdoZXJlIHRoZXkgZWFybiBzYWxhcnkgb3Igd2FnZXMuIFBsZWFzZSByZXBvcnQgZ3Jvc3MgaW5jb21lLiBUaGlzIGlzIHRoZSBhbW91bnQgb2YgaW5jb21lIGVhcm5lZCBiZWZvcmUgYW55IG1vbmV5IGlzIHRha2VuIG91dCBmb3IgdGF4ZXMgb3IgZGVkdWN0aW9ucy4gSW5jbHVkZSBzYWxhcnksIHdhZ2VzLCBhbmQgY2FzaCBib251c2VzLicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc29jaWFsU2VjdXJpdHk6IHtcbiAgICAgICAgICAgICAgICB2YXVsZTonc29jaWFsU2VjdXJpdHknLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnU29jaWFsIFNlY3VyaXR5IERpc2FiaWxpdHkgUGF5bWVudHMgb3IgU3Vydml2b3LigJlzIEJlbmVmaXRzOicsXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnQSBjaGlsZCBpcyBibGluZCBvciBkaXNhYmxlZCBhbmQgcmVjZWl2ZXMgU29jaWFsIFNlY3VyaXR5IGJlbmVmaXRzLicsXG4gICAgICAgICAgICAgICAgLy8gJyBBIHBhcmVudCBpcyBkaXNhYmxlZCwgcmV0aXJlZCwgb3IgZGVjZWFzZWQsIGFuZCB0aGVpciBjaGlsZCByZWNlaXZlcyBzb2NpYWwgc2VjdXJpdHkgYmVuZWZpdHMnLFxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3RoZXJQZXJzb246IHtcbiAgICAgICAgICAgICAgICB2YXVsZTonb3RoZXJQZXJzb24nLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnSW5jb21lIGZyb20gcGVyc29ucyBvdXRzaWRlIHRoZSBob3VzZWhvbGQ6JyxcbiAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ0EgZnJpZW5kIG9yIGV4dGVuZGVkIGZhbWlseSBtZW1iZXIgcmVndWxhcmx5IGdpdmVzIGEgY2hpbGQgc3BlbmRpbmcgbW9uZXkuJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvdGhlclNvdXJjZToge1xuICAgICAgICAgICAgICAgIHZhdWxlOidvdGhlclNvdXJjZScsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdJbmNvbWUgZnJvbSBhbnkgb3RoZXIgc291cmNlOicsXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdldmVyeSAyIHdlZWtzJywgJ3R3aWNlIGEgbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdBIGNoaWxkIHJlY2VpdmVzIGluY29tZSBmcm9tIGEgcHJpdmF0ZSBwZW5zaW9uIGZ1bmQsIGFubnVpdHksIG9yIHRydXN0LicsXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHNjb3BlLm1lbWJlci5pbmNvbWVTb3VyY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc2NvcGUubWVtYmVyLmluY29tZVNvdXJjZXMgPSBbXTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNjb3BlLmluY29tZVNvdXJjZXMpLmZvckVhY2goZnVuY3Rpb24oaW5jb21lU291cmNlKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUubWVtYmVyLmluY29tZVNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGluY29tZVNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IG51bGxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgneWVzTm9JbnB1dCcsIHllc05vSW5wdXQpO1xuXG4gICAgZnVuY3Rpb24geWVzTm9JbnB1dCAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIG1vZGVsOiAnPSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MveWVzbm8uaHRtbCcsXG4gICAgICAgIH07XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLnNlcnZpY2UoJ2F1dGgnLCBBdXRoU2VydmljZSk7XG5cbiAgICBBdXRoU2VydmljZS4kaW5qZWN0ID0gWyckY29va2llcycsICckaHR0cCcsICckcScsICckcm9vdFNjb3BlJywgJyRzdGF0ZScsICdIb3VzZWhvbGQnXTtcblxuICAgIGZ1bmN0aW9uIEF1dGhTZXJ2aWNlKCRjb29raWVzLCAkaHR0cCwgJHEsICRyb290U2NvcGUsICRzdGF0ZSwgSG91c2Vob2xkKSB7XG4gICAgICAgICRyb290U2NvcGUudXNlciA9IG51bGw7XG4gICAgICAgIGluaXQoKTtcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7fTtcbiAgICAgICAgc2VydmljZS5pc0xvZ2dlZEluID0gaXNMb2dnZWRJbjtcbiAgICAgICAgc2VydmljZS5nZXRVc2VyU3RhdHVzID0gZ2V0VXNlclN0YXR1cztcbiAgICAgICAgc2VydmljZS5zaWdudXAgPSBzaWdudXA7XG4gICAgICAgIHNlcnZpY2UubG9naW4gPSBsb2dpbjtcbiAgICAgICAgc2VydmljZS5sb2dvdXQgPSBsb2dvdXQ7XG4gICAgICAgIHNlcnZpY2UuaW5pdCA9IGluaXQ7XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHVzZXIgb24gc3RhcnRcbiAgICAgICAgICAgIHZhciB1c2VyID0gZ2V0Q3JlZGVudGlhbHMoKTtcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2VyID0gdXNlcjtcbiAgICAgICAgICAgICAgICBIb3VzZWhvbGQucmV0cmlldmVGb3JVc2VyKHVzZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpc0xvZ2dlZEluKCkge1xuICAgICAgICAgICAgaWYgKCRyb290U2NvcGUudXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0VXNlclN0YXR1cygpIHtcbiAgICAgICAgICAgIHJldHVybiAkcm9vdFNjb3BlLnVzZXI7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzaWdudXAoZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucG9zdCgnL3VzZXIvc2lnbnVwJywge3VzZXJuYW1lOiBlbWFpbCwgcGFzc3dvcmQ6IHBhc3N3b3JkfSlcbiAgICAgICAgICAgICAgICAudGhlbihzdWNjZXNzSGFuZGxlciwgZXJyb3JIYW5kbGVyKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2Vzc0hhbmRsZXIocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZXRDcmVkZW50aWFscyhyZXNwb25zZS5kYXRhLnVzZXIpO1xuICAgICAgICAgICAgICAgIEhvdXNlaG9sZC5zYXZlKEhvdXNlaG9sZC5ob3VzZWhvbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBlcnJvckhhbmRsZXIoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGxvZ2luKGVtYWlsLCBwYXNzd29yZCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IGVtYWlsLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy91c2VyL2xvZ2luJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihzdWNjZXNzSGFuZGxlciwgZXJyb3JIYW5kbGVyKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2Vzc0hhbmRsZXIocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZXRDcmVkZW50aWFscyhyZXNwb25zZS5kYXRhLnVzZXIpO1xuICAgICAgICAgICAgICAgIEhvdXNlaG9sZC5yZXRyaWV2ZUZvclVzZXIocmVzcG9uc2UuZGF0YS51c2VyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3JIYW5kbGVyKHJlc3BvbnNlLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIGNsZWFyQ3JlZGVudGlhbHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGxvZ291dCgpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5nZXQoJ3VzZXIvbG9nb3V0JylcbiAgICAgICAgICAgICAgICAudGhlbihzdWNjZXNzSGFuZGxlciwgZXJyb3JIYW5kbGVyKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2Vzc0hhbmRsZXIoKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJDcmVkZW50aWFscygpO1xuICAgICAgICAgICAgICAgIEhvdXNlaG9sZC5jbGVhcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBlcnJvckhhbmRsZXIoKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJDcmVkZW50aWFscygpO1xuICAgICAgICAgICAgICAgIEhvdXNlaG9sZC5jbGVhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0Q3JlZGVudGlhbHModXNlcikge1xuICAgICAgICAgICAgJHJvb3RTY29wZS51c2VyID0gdXNlcjtcbiAgICAgICAgICAgIHJldHVybiAkY29va2llcy5wdXRPYmplY3QoJ3VzZXInLCB1c2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldENyZWRlbnRpYWxzKCkge1xuICAgICAgICAgICAgcmV0dXJuICRjb29raWVzLmdldE9iamVjdCgndXNlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2xlYXJDcmVkZW50aWFscygpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUudXNlciA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gJGNvb2tpZXMucmVtb3ZlKCd1c2VyJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgICAuc2VydmljZSgnSG91c2Vob2xkJywgaG91c2Vob2xkU2VydmljZSk7XG5cbiAgICBob3VzZWhvbGRTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRyb290U2NvcGUnXTtcblxuICAgIGZ1bmN0aW9uIGhvdXNlaG9sZFNlcnZpY2UoJGh0dHAsICRyb290U2NvcGUpIHtcbiAgICAgICAgLy8gVG9kbzogY29uc2lkZXIgbW92aW5nIHRvIHNlcnZlcj8/XG4gICAgICAgIHZhciBIb3VzZWhvbGQgPSAge1xuICAgICAgICAgICAgY2hpbGRDb3VudDogbnVsbCxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgICAgIG90aGVyTWVtYmVyc0NvdW50OiBudWxsLFxuICAgICAgICAgICAgb3RoZXJNZW1iZXJzOiBbXSxcbiAgICAgICAgICAgIGNvbXBsZXRlZEFwcGxpY2F0aW9uOiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBzZXJ2aWNlID0ge307XG4gICAgICAgIHNlcnZpY2UuZ2V0ID0gZ2V0O1xuICAgICAgICBzZXJ2aWNlLnJldHJpZXZlRm9yVXNlciA9IHJldHJpZXZlRm9yVXNlcjtcbiAgICAgICAgc2VydmljZS5zYXZlID0gc2F2ZTtcbiAgICAgICAgc2VydmljZS5jbGVhciA9IGNsZWFyO1xuICAgICAgICBzZXJ2aWNlLmhvdXNlaG9sZCA9IE9iamVjdC5jcmVhdGUoSG91c2Vob2xkKTtcblxuICAgICAgICByZXR1cm4gc2VydmljZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIGlmIChzZXJ2aWNlLmhvdXNlaG9sZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlLmhvdXNlaG9sZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJldHJpZXZlRm9yVXNlcih1c2VyKSB7XG4gICAgICAgICAgICAkaHR0cC5nZXQoJy9ob3VzZWhvbGQvJyArIHVzZXIuX2lkKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2UuaG91c2Vob2xkID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNhdmUoaG91c2Vob2xkKSB7XG4gICAgICAgICAgICBob3VzZWhvbGQgPSBob3VzZWhvbGQgfHwgc2VydmljZS5ob3VzZWhvbGQ7XG4gICAgICAgICAgICBpZiAoJHJvb3RTY29wZS51c2VyKSB7XG4gICAgICAgICAgICAgICAgaG91c2Vob2xkLnVzZXJJZCA9ICRyb290U2NvcGUudXNlci5faWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvaG91c2Vob2xkJywgaG91c2Vob2xkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICAgICAgICAgIHNlcnZpY2UuaG91c2Vob2xkID0gT2JqZWN0LmNyZWF0ZShIb3VzZWhvbGQpO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLnNlcnZpY2UoJ1NlY3Rpb25zJywgc2VjdGlvbnNTZXJ2aWNlKTtcblxuICAgIHNlY3Rpb25zU2VydmljZS4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJyAsJyRzdGF0ZSddO1xuXG4gICAgZnVuY3Rpb24gc2VjdGlvbnNTZXJ2aWNlKCRyb290U2NvcGUsICRzdGF0ZSkge1xuICAgICAgICB2YXIgc2VjdGlvbnMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdMZXRcXOKAmXMgR2V0IFN0YXJ0ZWQhICcsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdzdGFydCcsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93U3VtbWFyeUFmdGVyOiBmYWxzZVxuICAgICAgICAgICAgfSwgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdDaGlsZHJlbicsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdjaGlsZHJlbicsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93U3VtbWFyeUFmdGVyOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnSG91c2Vob2xkIE1lbWJlcnMnLFxuICAgICAgICAgICAgICAgIHN0YXRlOiAnaG91c2Vob2xkJyxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTdW1tYXJ5QWZ0ZXI6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdDaGlsZHJlblxcJ3MgSW5jb21lJyxcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2NoaWxkSW5jb21lJyxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTdW1tYXJ5QWZ0ZXI6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdIb3VzZWhvbGQgSW5jb21lJyxcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2hvdXNlaG9sZEluY29tZScsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93U3VtbWFyeUFmdGVyOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnRGlzY2xvc3VyZScsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdkaXNjbG9zdXJlJyxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTdW1tYXJ5QWZ0ZXI6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnU2lnbiBhbmQgQ29uZmlybScsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdzaWduYXR1cmUnLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvd1N1bW1hcnlBZnRlcjogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgdmFyIGluZGV4ZWRTZWN0aW9ucyA9IF8uaW5kZXhCeShzZWN0aW9ucywgJ3N0YXRlJyk7XG5cbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgICAgICBtZWFuc1Rlc3Q6IHRydWUsXG4gICAgICAgICAgICBzZWN0aW9uczogc2VjdGlvbnMsXG4gICAgICAgICAgICBpbmRleGVkU2VjdGlvbnM6IGluZGV4ZWRTZWN0aW9ucyxcbiAgICAgICAgICAgIG5hdmlnYXRlVG9OZXh0OiBuYXZpZ2F0ZVRvTmV4dCxcbiAgICAgICAgICAgIGdvQmFjazogZ29CYWNrLFxuICAgICAgICAgICAgdXBkYXRlUmVxdWlyZWRTZWN0aW9uczogdXBkYXRlUmVxdWlyZWRTZWN0aW9uc1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlUmVxdWlyZWRTZWN0aW9ucyhob3VzZWhvbGQpIHtcbiAgICAgICAgICAgIHNlcnZpY2UubWVhbnNUZXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBhc3Npc3RhbmNlUHJvZ3JhbUhvdXNlaG9sZCA9IGlzQXNzaXN0YW5jZUhvdXNlaG9sZChob3VzZWhvbGQpO1xuICAgICAgICAgICAgdmFyIGNhdGVnb3JpY2FsbHlRdWFsaWZpZWQgPSBhbGxTdHVkZW50c0NhdGVnb3JpY2FsbHlRdWFsaWZ5KGhvdXNlaG9sZCk7XG5cbiAgICAgICAgICAgIGlmIChhc3Npc3RhbmNlUHJvZ3JhbUhvdXNlaG9sZCB8fCBjYXRlZ29yaWNhbGx5UXVhbGlmaWVkKSB7XG4gICAgICAgICAgICAgICAgc2VydmljZS5tZWFuc1Rlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpbmRleGVkU2VjdGlvbnNbJ2NoaWxkSW5jb21lJ10ucmVxdWlyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpbmRleGVkU2VjdGlvbnNbJ2hvdXNlaG9sZCddLnJlcXVpcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaW5kZXhlZFNlY3Rpb25zWydob3VzZWhvbGRJbmNvbWUnXS5yZXF1aXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VjdGlvbnMuZm9yRWFjaChmdW5jdGlvbihzZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgc2VjdGlvbi5yZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGlzQXNzaXN0YW5jZUhvdXNlaG9sZChob3VzZWhvbGQpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50Q2hpbGQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBob3VzZWhvbGQuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2hpbGQgPSBob3VzZWhvbGQuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGlsZC5hc3Npc3RhbmNlUHJvZ3JhbSAmJiBjdXJyZW50Q2hpbGQuYXNzaXN0YW5jZVByb2dyYW0ucGFydGljaXBhbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWxsU3R1ZGVudHNDYXRlZ29yaWNhbGx5UXVhbGlmeShob3VzZWhvbGQpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50Q2hpbGQsIGNoaWxkUXVhbGlmaWVzO1xuXG4gICAgICAgICAgICB2YXIgZW5yb2xsZWRDaGlsZHJlbiA9IF8uZmlsdGVyKGhvdXNlaG9sZC5jaGlsZHJlbiwgZnVuY3Rpb24oYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjLmVucm9sbGVkID09PSB0cnVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIG11c3QgaGF2ZSBraWRzIHRvIHF1YWxpZnlcbiAgICAgICAgICAgIGlmIChlbnJvbGxlZENoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9hbGwgY2hpbGRyZW4gYXJlIGNhdGVnb3JpY2FsbHkgcXVhbGlmaWVkXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBlbnJvbGxlZENoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudENoaWxkID0gaG91c2Vob2xkLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmICghY3VycmVudENoaWxkLnNwZWNpYWxTdGF0dXMuZm9zdGVyQ2hpbGQgJiZcbiAgICAgICAgICAgICAgICAgICAgIWN1cnJlbnRDaGlsZC5zcGVjaWFsU3RhdHVzLmhvbWVsZXNzTWlncmFudFJ1bmF3YXkgJiZcbiAgICAgICAgICAgICAgICAgICAgIWN1cnJlbnRDaGlsZC5zcGVjaWFsU3RhdHVzLmhlYWRTdGFydFBhcnRpY2lwYW50XG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmaW5kTmV4dChjdXJyZW50U3RhdGUpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50SW5kZXggPSBfLmZpbmRJbmRleChzZWN0aW9ucywgZnVuY3Rpb24oc2VjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWN0aW9uLnN0YXRlID09PSBjdXJyZW50U3RhdGU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gTG9vayBmb3IgdGhlIG5leHQgcmVxdWlyZWQgc2VjdGlvblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGN1cnJlbnRJbmRleCArIDE7IGkgPCBzZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChzZWN0aW9uc1tpXS5yZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VjdGlvbnNbaV0uc3RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmUgbm8gbW9yZSByZXF1aXJlZCBzZWN0aW9ucywgd2UncmUgZG9uZS5cbiAgICAgICAgICAgIHJldHVybiAnY29uZmlybWF0aW9uJztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG5hdmlnYXRlVG9OZXh0KCkge1xuICAgICAgICAgICAgdmFyIG5leHRTZWN0aW9uO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9ICRyb290U2NvcGUuY3VycmVudFN0YXRlIHx8ICRzdGF0ZS4kY3VycmVudC5zZWxmLm5hbWU7XG4gICAgICAgICAgICB2YXIgcHJldmlvdXNTdGF0ZSA9ICRyb290U2NvcGUucHJldmlvdXNTdGF0ZSB8fCAnc3RhcnQnO1xuICAgICAgICAgICAgLy8gSWYgb24gdGhlIHN1bW1hcnkgcGFnZSBnbyB0byB0aGUgbmV4dCBmb3JtIHBhZ2VcbiAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT09ICdzb0ZhcicpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0U2VjdGlvbiAgPSBmaW5kTmV4dChwcmV2aW91c1N0YXRlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGhhcHBlbnMgaWYgeW91IHJlZnJlc2ggdGhlIHBhZ2Ugb24gdGhlIHNvIGZhciBzY3JlZW4uXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbWUgdXAgd2l0aCBzb21ldGhpbmcgYmV0dGVyPyBzdGFzaCBpbiB1cmw/XG4gICAgICAgICAgICAgICAgICAgIG5leHRTZWN0aW9uID0gJ3N0YXJ0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4ZWRTZWN0aW9uc1tjdXJyZW50U3RhdGVdLnNob3dTdW1tYXJ5QWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBvbiBhIGZvcm0gcGFnZSwgZ28gdG8gc3VtbWFyeSBwYWdlXG4gICAgICAgICAgICAgICAgbmV4dFNlY3Rpb24gPSAnc29GYXInO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB5b3UncmUgb24gc29tZSBvdGhlciBwYWdlIGxpa2Ugc3RhcnQgb3Igc2lnbmF0dXJlXG4gICAgICAgICAgICAgICAgLy8gTW92ZSBhaGVhZCBhcyBub3JtYWxcbiAgICAgICAgICAgICAgICBuZXh0U2VjdGlvbiAgPSBmaW5kTmV4dChjdXJyZW50U3RhdGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc3RhdGUuZ28obmV4dFNlY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzU3RhdGUgPSAkcm9vdFNjb3BlLnByZXZpb3VzU3RhdGUgfHwgJ3N0YXJ0JztcbiAgICAgICAgICAgICRzdGF0ZS5nbyhwcmV2aW91c1N0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
