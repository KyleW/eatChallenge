!function(){"use strict";function e(e){function t(e){return function(t,l){throw e(t,l),t}}e.decorator("$exceptionHandler",t),t.$inject=["$delegate"]}function t(e){e.$on("$stateChangeSuccess",function(){document.body.scrollTop=document.documentElement.scrollTop=0}),e.$on("$stateChangeSuccess",function(t,l,r,o,n){e.previousState=o.name,e.currentState=l.name})}function l(e){e.theme("default").primaryPalette("teal").backgroundPalette("brown",{"default":"50"}).foregroundPalette[3]="rgba(0,0,0,0.67)"}function r(e,t){function l(e,t){t.otherwise("/"),e.state("start",{url:"/",views:{main:{templateUrl:"../views/start.html",controller:"mainController"}}}).state("children",{url:"/children",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/children.html",controller:"mainController"}}}).state("childIncome",{url:"/childIncome",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/childIncome.html",controller:"mainController"}}}).state("household",{url:"/household",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/household.html",controller:"mainController"}}}).state("householdIncome",{url:"/household-income",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/householdIncome.html",controller:"householdIncome"}}}).state("disclosure",{url:"/disclosure",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/disclosure.html",controller:"mainController"}}}).state("signature",{url:"/signature",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/signature.html",controller:"mainController"}}}).state("confirmation",{url:"/confirmation",views:{main:{templateUrl:"../views/confirmation.html",controller:"mainController"}}}).state("export",{url:"/export",views:{main:{templateUrl:"../views/export.html",controller:"exportController"}}}).state("signup",{url:"/signup",views:{main:{templateUrl:"../views/signup.html",controller:"signupController"}}}).state("login",{url:"/login",views:{main:{templateUrl:"../views/login.html",controller:"loginController"}}}).state("soFar",{url:"/so-far",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/soFar.html",controller:"soFarController"}}}).state("saveAndExit",{url:"/save-and-exit",views:{main:{templateUrl:"../views/save-and-exit.html",controller:"mainController"}}})}l(e,t)}angular.module("eatChallengeApp",["ngCookies","ngCsv","ngMaterial","ngSanitize","ui.router"]).config(r).config(l).config(e).run(t),e.$inject=["$provide"],t.$inject=["$rootScope"],l.$inject=["$mdThemingProvider"],r.$inject=["$stateProvider","$urlRouterProvider"]}();
!function(){"use strict";function t(t,e){t.get("/household/completed").then(function(t){e.completedApplications=t.data})}angular.module("eatChallengeApp").controller("exportController",t),t.$inject=["$http","$scope"]}();
!function(){"use strict";function e(e,o,t,n,a,r){function s(){n.save(),a.updateRequiredSections(),a.navigateToNext()}var l=o;l.navigateToNextSection=s;var c={categoryName:"work",headline:"Work Income",question:"earn money through work",sources:[{value:"work",checkboxLabel:"Work outside the home in a non-military capacity ",shortLabel:"Earnings from work",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"Please report gross income. This is the amount of income earned before any money is taken out for taxes or deductions. Include salary, wages, and cash bonuses."},{value:"selfEmployed",shortLabel:"Earnings from self employment",checkboxLabel:"Self-employed",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"For household members that are self-employed, report income from that work as a net amount. This is calculated by subtracting the total operating expenses of the business from its gross receipts or revenue."},{value:"onStrike",checkboxLabel:"On strike",shortLabel:"Strike Benefits",frequency:["weekly","every 2 weeks","2x month","monthly"]},{value:"military",checkboxLabel:"In the U.S. military",shortLabel:"Basic pay and cash bonuses",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"Please do not include combat pay, FSSA, or private housing allowances."}]},i={categoryName:"publicAssistance",headline:"Public Assistance",question:"receive any public assistance benefits",sources:[{value:"unemployment",checkboxLabel:"Unemployment benefits",shortLabel:"Unemployment benefits",frequency:["weekly","every 2 weeks","twice a month","monthly"]},{value:"workersComp",checkboxLabel:"Worker’s compensation",shortLabel:"Worker’s compensation",frequency:["weekly","every 2 weeks","twice a month","monthly"]},{value:"ssi",checkboxLabel:"Supplemental Security Income (SSI)",shortLabel:"Supplemental Security Income (SSI)",frequency:["weekly","every 2 weeks","twice a month","monthly"]},{value:"cashAssistance",checkboxLabel:"Cash assistance from State or local government",shortLabel:"Cash assistance",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"This could include TANF or General Assistance money."},{value:"veteransBenefits",checkboxLabel:"Veteran’s benefits",shortLabel:"Veteran’s benefits",frequency:["weekly","every 2 weeks","twice a month","monthly"]}]},h={categoryName:"alimony",headline:"Alimony",question:"receive alimony payments",sources:[{value:"alimony",checkboxLabel:"alimony payments",shortLabel:"Alimony payment",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"If income is received from alimony, only court-ordered payments should be reported here. Informal but regular payments should be reported later as “other” income."}]},m={categoryName:"childSupport",headline:"Child Support",question:"receive any child support",sources:[{value:"childSupport",checkboxLabel:"any child support",shortLabel:"Child support payment",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"If income is received from child support, only court-ordered payments should be reported here. Informal but regular payments should be reported later as “other” income."}]},y={categoryName:"retirement",headline:"Pension and Retirement",question:"receive any pension or retirement money",sources:[{value:"socialSecurity",checkboxLabel:"Social Security",shortLabel:"Social security",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"Please include railroad retirement and black lung benefits"},{value:"privatePension",checkboxLabel:"Private pensions or disability",shortLabel:"Private pensions or disability",frequency:["weekly","every 2 weeks","twice a month","monthly"]}]},u={categoryName:"otherIncome",headline:"Other Income",question:"recieve money through any other source",sources:[{value:"trusts",checkboxLabel:"Income from trusts or estates",shortLabel:"Income from trusts or estates",frequency:["weekly","every 2 weeks","twice a month","monthly"]},{value:"annuities",checkboxLabel:"Annuities",shortLabel:"Income from annuities",frequency:["weekly","every 2 weeks","twice a month","monthly"]},{value:"investment",checkboxLabel:"Investment income",shortLabel:"Investment income",frequency:["weekly","every 2 weeks","twice a month","monthly"]},{value:"interest",checkboxLabel:"Earned interest",shortLabel:"Earned interest",frequency:["weekly","every 2 weeks","twice a month","monthly"]},{value:"rentalIncome",checkboxLabel:"Rental income",shortLabel:"Rental income",frequency:["weekly","every 2 weeks","twice a month","monthly"]},{value:"otherCash",checkboxLabel:"Regular cash payments from outside household",shortLabel:"Regular cash payments from outside household",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"Such cash payments should include regular child support or alimony payments received by the household that are not court-ordered."}]};l.incomeCategories=[c,i,h,m,y,u]}angular.module("eatChallengeApp").controller("householdIncome",e),e.$inject=["$rootScope","$scope","$state","Household","Sections"]}();
!function(){"use strict";function e(e,n,o,t,s){function l(){function e(e){i.loginForm={},i.message="successfully logged in",n.go("soFar")}function t(e){i.message="Something went wrong. Please try again"}o.login(a.email,a.password).then(e,t)}var i=e,a={};i.submit=l,i.user=a}angular.module("eatChallengeApp").controller("loginController",e),e.$inject=["$scope","$state","auth","Household","Sections"]}();
!function(){"use strict";function e(e,o,t,n,r,i,h,l,c,u){function d(o){o>r.household.children.length&&e.get("/child").then(function(e){var t=e.data;r.household.children.push(t),d(o)})}function s(o){o>r.household.otherMembers.length&&e.get("/household-member").then(function(e){var t=e.data;t={},r.household.otherMembers.push(t),s(o)})}function a(e){return e.children.length>e.childCount&&(e.children=e.children.slice(0,e.childCount)),e}function f(e){return e.otherMembers.length>e.otherMembersCount&&e.otherMembers.slice(0,e.otherMembersCount),e}function m(e){var o=t.confirm().title("Ready to go on?").textContent("It looks like you have some errors or missing information in this section. Do you want to fix it now?").ariaLabel("Ready to go on?").targetEvent(e).ok("Move Ahead Anyway").cancel("Go Back and Fix It Now");return t.show(o)}function g(){c.save(),u.updateRequiredSections(),u.goBack()}function v(){if(C.form&&(!C.form.$valid||C.form.$pristine))return!0;if("children"===r.currentState)for(var e,o=0;o<r.household.children.length;o++)if(e=r.household.children[o],void 0===e.enrolled)return!0;if("childIncome"===r.currentState)for(var e,o=0;o<r.household.children.length;o++)if(e=r.household.children[o],void 0===e.earnsIncome)return!0;return!1}function p(){C.showErrors=!0,document.body.scrollTop=document.documentElement.scrollTop=0}function $(){c.save(),u.updateRequiredSections(),u.navigateToNext()}function b(){v()?m().then($,p):$()}function w(){a(r.household),f(r.household),r.household.completed=!0,b()}var C=i;C.schoolDistrict="Oakland Unified School District",C.goBack=g,C.navigateToNextSection=b,C.submitApplication=w,C.showErrors=!1,i.$watch("household.childCount",d),i.$watch("household.otherMembersCount",s)}angular.module("eatChallengeApp").controller("mainController",e),e.$inject=["$http","$interval","$mdDialog","$mdMedia","$rootScope","$scope","$state","$timeout","Household","Sections"]}();
!function(){"use strict";function e(e,t,n){var c=e;c.currentState=t.$current.self.name,c.sections=n.sections}angular.module("eatChallengeApp").controller("sideNavController",e),e.$inject=["$scope","$state","Sections"]}();
!function(){"use strict";function e(e,n,o){function s(){function e(){a.disabled=!1,a.signupForm={},a.message="successfully created an account",o.goBack()}function s(e){console.log(e),a.error=!0,a.message="Something went wrong. Please try again",a.disabled=!1}a.error=!1,a.disabled=!0,n.signup(t.email,t.password).then(e,s)}var a=e,t={};a.submit=s,a.user=t}angular.module("eatChallengeApp").controller("signupController",e),e.$inject=["$scope","auth","Sections"]}();
!function(){"use strict";function e(e,o,n,t,r,a,c,i,u){function h(){1===r.household.children.length&&(m.childrenLabel="child"),1===r.household.otherMembers.length&&(m.adultsLabel="adult")}function l(){function e(e){return e.amount*o[e.frequency]}var o={weekly:52,"every 2 weeks":26,"twice a month":24,monthly:12},n=0;return r.household.children.forEach(function(o){o.earnsIncome&&o.incomeSources.forEach(function(o){o.amount>0&&(n+=e(o))})}),r.household.otherMembers.forEach(function(o){if(o.incomeCategory){var t;for(var r in o.incomeCategory){t=o.incomeCategory[r];for(var a in t)if("showCheckboxes"!==a){var c=t[a];n+=e(c)}}}}),Math.round(n)}function s(e){var o=0;return r.household.children.forEach(function(e){e.earnsIncome&&o++}),r.household.otherMembers.forEach(function(e){e.incomeCategory&&Object.keys(e.incomeCategory)>0&&o++}),o}function d(){i.save(),u.updateRequiredSections(),u.goBack()}function f(){i.save(),u.updateRequiredSections(),u.navigateToNext()}var m=a;m.meansTest=u.meansTest,m.childrenLabel="children",m.adultsLabel="adults",m.incomeEarnersCount=s(r.household),m.incomeEstimate=l(r.household),m.goBack=d,m.navigateToNextSection=f,h()}angular.module("eatChallengeApp").controller("soFarController",e),e.$inject=["$http","$interval","$mdDialog","$mdMedia","$rootScope","$scope","$state","Household","Sections"]}();
!function(){"use strict";function t(t,e,o,u){function n(){u.logout(),r.loggedIn=u.getUserStatus(),o.go("saveAndExit")}var r=e;r.loggedIn=u.getUserStatus(),r.logout=n,r.user=t.user,t.$watch("user",function(){r.loggedIn=u.getUserStatus(),r.user=t.user})}angular.module("eatChallengeApp").controller("userControlsController",t),t.$inject=["$rootScope","$scope","$state","auth"]}();
!function(){"use strict";function e(){var e={scope:{member:"="},restrict:"A",replace:!0,templateUrl:"../views/income.html",link:o};return e}function o(e){e.incomeSources={work:{vaule:"work",label:"Earnings from work:",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"A child has a job where they earn salary or wages. Please report gross income. This is the amount of income earned before any money is taken out for taxes or deductions. Include salary, wages, and cash bonuses."},socialSecurity:{vaule:"socialSecurity",label:"Social Security Disability Payments or Survivor’s Benefits:",frequency:["monthly"]},otherPerson:{vaule:"otherPerson",label:"Income from persons outside the household:",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"A friend or extended family member regularly gives a child spending money."},otherSource:{vaule:"otherSource",label:"Income from any other source:",frequency:["weekly","every 2 weeks","twice a month","monthly"],annotation:"A child receives income from a private pension fund, annuity, or trust."}},0===e.member.incomeSources.length&&(e.member.incomeSources=[],Object.keys(e.incomeSources).forEach(function(o){e.member.incomeSources.push({type:o,amount:null,frequency:null})}))}angular.module("eatChallengeApp").directive("incomeQuestions",e)}();
!function(){"use strict";function e(){return{scope:{model:"="},restrict:"A",replace:!0,templateUrl:"../views/yesno.html"}}angular.module("eatChallengeApp").directive("yesNoInput",e)}();
!function(){"use strict";function e(e,n,t,r,u,o){function s(){var e=p();e&&(r.user=e,o.retrieveForUser(e))}function i(){return r.user?!0:!1}function c(){return r.user}function a(e,t){function r(e){g(e.data.user),o.save()}function u(e){console.log(e)}return n.post("/user/signup",{username:e,password:t}).then(r,u)}function l(e,t){function r(e){g(e.data.user),o.retrieveForUser(e.data.user)}function u(e,n){console.log(n),d()}var s={username:e,password:t};return n.post("/user/login",s).then(r,u)}function f(){function e(){d(),o.clear()}function t(){d(),o.clear()}return n.get("user/logout").then(e,t)}function g(n){return r.user=n,e.putObject("user",n)}function p(){return e.getObject("user")}function d(){return r.user=null,e.remove("user")}r.user=null,s();var v={};return v.isLoggedIn=i,v.getUserStatus=c,v.signup=a,v.login=l,v.logout=f,v.init=s,v}angular.module("eatChallengeApp").service("auth",e),e.$inject=["$cookies","$http","$q","$rootScope","$state","Household"]}();
!function(){function e(e,o){function u(u){e.get("/household/"+u._id).then(function(e){o.household=e.data})}function t(){return o.user?(o.household.userId=o.user._id,e.post("/household",o.household)):void 0}function r(){return o.user&&(o.household.userId=o.user._id),e.post("/household",o.household)}function h(){o.household=Object.create(n)}var n={childCount:null,children:[],otherMembersCount:null,otherMembers:[],completedApplication:!1};o.household=angular.copy(n);var l={};return l.retrieveForUser=u,l.save=t,l.clear=h,l.submit=r,l}angular.module("eatChallengeApp").service("Household",e),e.$inject=["$http","$rootScope"]}();
!function(){"use strict";function e(e,r){function t(){var r=e.household;c.meansTest=!0;var t=a(r),o=n(r);return t||o?(c.meansTest=!1,l.childIncome.required=!1,l.household.required=!1,void(l.householdIncome.required=!1)):void u.forEach(function(e){e.required=!0})}function a(e){for(var r,t=0;t<e.children.length;t++)if(r=e.children[t],r.assistanceProgram&&r.assistanceProgram.participant)return!0;return!1}function n(e){var r,t=_.filter(e.children,function(e){return e.enrolled===!0});if(0===t.length)return!1;for(var a=0;a<t.length;a++)if(r=e.children[a],!r.specialStatus.fosterChild&&!r.specialStatus.homelessMigrantRunaway&&!r.specialStatus.headStartParticipant)return!1;return!0}function o(e){for(var r=_.findIndex(u,function(r){return r.state===e}),t=r+1;t<u.length;t++)if(u[t].required)return u[t].state;return"confirmation"}function s(){var t,a=e.currentState||r.$current.self.name,n=e.previousState||"start";t="soFar"===a?n?o(n):"start":l[a].showSummaryAfter?"soFar":o(a),r.go(t)}function i(){var t=e.previousState||"start";r.go(t)}var u=[{label:"Let’s Get Started! ",state:"start",completed:!1,required:!0,showSummaryAfter:!1},{label:"Children",state:"children",completed:!1,required:!0,showSummaryAfter:!1},{label:"Household Members",state:"household",completed:!1,required:!0,showSummaryAfter:!0},{label:"Children's Income",state:"childIncome",completed:!1,required:!0,showSummaryAfter:!1},{label:"Household Income",state:"householdIncome",completed:!1,required:!0,showSummaryAfter:!0},{label:"Disclosure",state:"disclosure",completed:!1,required:!0,showSummaryAfter:!1},{label:"Sign and Confirm",state:"signature",completed:!1,required:!0,showSummaryAfter:!1}],l=_.indexBy(u,"state"),c={meansTest:!0,sections:u,indexedSections:l,navigateToNext:s,goBack:i,updateRequiredSections:t};return c}angular.module("eatChallengeApp").service("Sections",e),e.$inject=["$rootScope","$state"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2V4cG9ydC5qcyIsImNvbnRyb2xsZXJzL2hvdXNlaG9sZEluY29tZS5qcyIsImNvbnRyb2xsZXJzL2xvZ2luLmpzIiwiY29udHJvbGxlcnMvbWFpbi5qcyIsImNvbnRyb2xsZXJzL3NpZGVuYXYuanMiLCJjb250cm9sbGVycy9zaWdudXAuanMiLCJjb250cm9sbGVycy9zb0Zhci5qcyIsImNvbnRyb2xsZXJzL3VzZXJDb250cm9scy5qcyIsImRpcmVjdGl2ZXMvaW5jb21lLmpzIiwiZGlyZWN0aXZlcy95ZXNuby5qcyIsInNlcnZpY2VzL2F1dGguanMiLCJzZXJ2aWNlcy9ob3VzZWhvbGQuanMiLCJzZXJ2aWNlcy9zZWN0aW9ucy5qcyJdLCJuYW1lcyI6WyJlcnJvckRlY29yYXRvciIsIiRwcm92aWRlIiwiZGVjb3JhdGVFcnJvciIsIiRkZWxlZ2F0ZSIsImV4Y2VwdGlvbiIsImNhdXNlIiwiZGVjb3JhdG9yIiwiJGluamVjdCIsInNjcm9sbGVyIiwiJHJvb3RTY29wZSIsIiRvbiIsImRvY3VtZW50IiwiYm9keSIsInNjcm9sbFRvcCIsImRvY3VtZW50RWxlbWVudCIsImV2IiwidG8iLCJ0b1BhcmFtcyIsImZyb20iLCJmcm9tUGFyYW1zIiwicHJldmlvdXNTdGF0ZSIsIm5hbWUiLCJjdXJyZW50U3RhdGUiLCJtYXRlcmlhbERlc2lnblRoZW1lciIsIiRtZFRoZW1pbmdQcm92aWRlciIsInRoZW1lIiwicHJpbWFyeVBhbGV0dGUiLCJiYWNrZ3JvdW5kUGFsZXR0ZSIsImRlZmF1bHQiLCJmb3JlZ3JvdW5kUGFsZXR0ZSIsInJvdXRlckNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwicm91dGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ2aWV3cyIsIm1haW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJ1c2VyLWNvbnRyb2xzIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsInJ1biIsImV4cG9ydENvbnRyb2xsZXIiLCIkaHR0cCIsIiRzY29wZSIsImdldCIsInRoZW4iLCJyZXNwb25zZSIsImNvbXBsZXRlZEFwcGxpY2F0aW9ucyIsImRhdGEiLCJob3VzZWhvbGRJbmNvbWUiLCIkc3RhdGUiLCJIb3VzZWhvbGQiLCJTZWN0aW9ucyIsIkhvdXNlaG9sZEluY29tZSIsIm5hdmlnYXRlVG9OZXh0U2VjdGlvbiIsInNhdmUiLCJ1cGRhdGVSZXF1aXJlZFNlY3Rpb25zIiwibmF2aWdhdGVUb05leHQiLCJ2bSIsIndvcmsiLCJjYXRlZ29yeU5hbWUiLCJoZWFkbGluZSIsInF1ZXN0aW9uIiwic291cmNlcyIsInZhbHVlIiwiY2hlY2tib3hMYWJlbCIsInNob3J0TGFiZWwiLCJmcmVxdWVuY3kiLCJhbm5vdGF0aW9uIiwicHVibGljQXNzaXN0YW5jZSIsImFsaW1vbnkiLCJjaGlsZFN1cHBvcnQiLCJyZXRpcmVtZW50Iiwib3RoZXJJbmNvbWUiLCJpbmNvbWVDYXRlZ29yaWVzIiwibG9naW5Db250cm9sbGVyIiwiYXV0aCIsInN1Ym1pdCIsInN1Y2Nlc3NIYW5kbGVyIiwibG9naW5Gb3JtIiwibWVzc2FnZSIsImdvIiwiZXJyb3JIYW5kbGVyIiwibG9naW4iLCJ1c2VyIiwiZW1haWwiLCJwYXNzd29yZCIsIm1haW5Db250cm9sbGVyIiwiJGludGVydmFsIiwiJG1kRGlhbG9nIiwiJG1kTWVkaWEiLCIkdGltZW91dCIsImFkZENoaWxkIiwibmV3VmFsIiwiaG91c2Vob2xkIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJuZXdDaGlsZCIsInB1c2giLCJhZGRPdGhlck1lbWJlciIsIm90aGVyTWVtYmVycyIsIm5ld0hvdXNlaG9sZE1lbWJlciIsInRyaW1DaGlsZHJlbiIsImNoaWxkQ291bnQiLCJzbGljZSIsInRyaW1PdGhlck1lbWJlcnMiLCJvdGhlck1lbWJlcnNDb3VudCIsInNob3dDb25maXJtIiwiY29uZmlybSIsInRpdGxlIiwidGV4dENvbnRlbnQiLCJhcmlhTGFiZWwiLCJ0YXJnZXRFdmVudCIsIm9rIiwiY2FuY2VsIiwic2hvdyIsImdvQmFjayIsImlzSW52YWxpZEZvcm0iLCJmb3JtIiwiJHZhbGlkIiwiJHByaXN0aW5lIiwiY2hpbGQiLCJpIiwidW5kZWZpbmVkIiwiZW5yb2xsZWQiLCJlYXJuc0luY29tZSIsImZpeEl0SGFuZGxlciIsInNob3dFcnJvcnMiLCJtb3ZlQWhlYWRIYW5kbGVyIiwic3VibWl0QXBwbGljYXRpb24iLCJjb21wbGV0ZWQiLCJzY2hvb2xEaXN0cmljdCIsIiR3YXRjaCIsInNpZGVOYXZDb250cm9sbGVyIiwiJGN1cnJlbnQiLCJzZWxmIiwic2VjdGlvbnMiLCJzaWdudXBDb250cm9sbGVyIiwiZGlzYWJsZWQiLCJzaWdudXBGb3JtIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwic2lnbnVwIiwic29GYXJDb250cm9sbGVyIiwiaW5pdCIsImNoaWxkcmVuTGFiZWwiLCJhZHVsdHNMYWJlbCIsImVzdGltYXRlSW5jb21lIiwiZ2V0VG90YWxmb3JTb3VyY2UiLCJzb3VyY2UiLCJhbW91bnQiLCJmcmVxdWVuY3lNdWxpdHBsaWVyIiwid2Vla2x5IiwiZXZlcnkgMiB3ZWVrcyIsInR3aWNlIGEgbW9udGgiLCJtb250aGx5IiwiZXN0aW1hdGVkQW5udWFsSW5jb21lIiwiZm9yRWFjaCIsImluY29tZVNvdXJjZXMiLCJpbmNvbWVTb3VyY2UiLCJtZW1iZXIiLCJpbmNvbWVDYXRlZ29yeSIsImtleSIsImsiLCJNYXRoIiwicm91bmQiLCJjb3VudEVhcm5lcnMiLCJlYXJuZXJzQ291bnQiLCJPYmplY3QiLCJrZXlzIiwibWVhbnNUZXN0IiwiaW5jb21lRWFybmVyc0NvdW50IiwiaW5jb21lRXN0aW1hdGUiLCJ1c2VyQ29udHJvbHNDb250cm9sbGVyIiwibG9nb3V0IiwibG9nZ2VkSW4iLCJnZXRVc2VyU3RhdHVzIiwiaW5jb21lRGlyZWN0aXZlIiwiZGlyZWN0aXZlIiwic2NvcGUiLCJyZXN0cmljdCIsInJlcGxhY2UiLCJsaW5rIiwidmF1bGUiLCJsYWJlbCIsInNvY2lhbFNlY3VyaXR5Iiwib3RoZXJQZXJzb24iLCJvdGhlclNvdXJjZSIsInR5cGUiLCJ5ZXNOb0lucHV0IiwibW9kZWwiLCJBdXRoU2VydmljZSIsIiRjb29raWVzIiwiJHEiLCJnZXRDcmVkZW50aWFscyIsInJldHJpZXZlRm9yVXNlciIsImlzTG9nZ2VkSW4iLCJzZXRDcmVkZW50aWFscyIsInBvc3QiLCJ1c2VybmFtZSIsImNsZWFyQ3JlZGVudGlhbHMiLCJjbGVhciIsInB1dE9iamVjdCIsImdldE9iamVjdCIsInJlbW92ZSIsInNlcnZpY2UiLCJob3VzZWhvbGRTZXJ2aWNlIiwiX2lkIiwidXNlcklkIiwiY3JlYXRlIiwiY29tcGxldGVkQXBwbGljYXRpb24iLCJjb3B5Iiwic2VjdGlvbnNTZXJ2aWNlIiwiYXNzaXN0YW5jZVByb2dyYW1Ib3VzZWhvbGQiLCJpc0Fzc2lzdGFuY2VIb3VzZWhvbGQiLCJjYXRlZ29yaWNhbGx5UXVhbGlmaWVkIiwiYWxsU3R1ZGVudHNDYXRlZ29yaWNhbGx5UXVhbGlmeSIsImluZGV4ZWRTZWN0aW9ucyIsInJlcXVpcmVkIiwic2VjdGlvbiIsImN1cnJlbnRDaGlsZCIsImFzc2lzdGFuY2VQcm9ncmFtIiwicGFydGljaXBhbnQiLCJlbnJvbGxlZENoaWxkcmVuIiwiXyIsImZpbHRlciIsImMiLCJzcGVjaWFsU3RhdHVzIiwiZm9zdGVyQ2hpbGQiLCJob21lbGVzc01pZ3JhbnRSdW5hd2F5IiwiaGVhZFN0YXJ0UGFydGljaXBhbnQiLCJmaW5kTmV4dCIsImN1cnJlbnRJbmRleCIsImZpbmRJbmRleCIsIm5leHRTZWN0aW9uIiwic2hvd1N1bW1hcnlBZnRlciIsImluZGV4QnkiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0ksWUFZQSxTQUFTQSxHQUFlQyxHQUdwQixRQUFTQyxHQUFjQyxHQUNuQixNQUFPLFVBQVNDLEVBQVdDLEdBRXZCLEtBREFGLEdBQVVDLEVBQVdDLEdBQ2ZELEdBTGRILEVBQVNLLFVBQVUsb0JBQXFCSixHQUN4Q0EsRUFB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RUFDVm1GLGdCQUFpQkEsRUFDakJsSyxlQUFnQkEsRUFDaEIyRCxPQUFRQSxFQUNSNUQsdUJBQXdCQSxFQUc1QixPQUFPdUosR0FyRVgxSyxRQUNLQyxPQUFPLG1CQUNQeUssUUFBUSxXQUFZTyxHQUV6QkEsRUFBZ0JwTixTQUFXLGFBQWMiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJyxbJ25nQ29va2llcycsICduZ0NzdicsJ25nTWF0ZXJpYWwnLCAnbmdTYW5pdGl6ZScsICd1aS5yb3V0ZXInXSlcbiAgICAuY29uZmlnKHJvdXRlckNvbmZpZylcbiAgICAuY29uZmlnKG1hdGVyaWFsRGVzaWduVGhlbWVyKVxuICAgIC5jb25maWcoZXJyb3JEZWNvcmF0b3IpXG4gICAgLnJ1bihzY3JvbGxlcik7XG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIC8vU2hvdyBzb3VyY2UgbWFwcyBpbiBlcnJvcnNcbiAgICBlcnJvckRlY29yYXRvci4kaW5qZWN0ID0gWyckcHJvdmlkZSddO1xuICAgIGZ1bmN0aW9uIGVycm9yRGVjb3JhdG9yKCRwcm92aWRlKSB7XG4gICAgICAgICRwcm92aWRlLmRlY29yYXRvcignJGV4Y2VwdGlvbkhhbmRsZXInLCBkZWNvcmF0ZUVycm9yKTtcbiAgICAgICAgZGVjb3JhdGVFcnJvci4kaW5qZWN0ID0gWyckZGVsZWdhdGUnXTtcbiAgICAgICAgZnVuY3Rpb24gZGVjb3JhdGVFcnJvcigkZGVsZWdhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihleGNlcHRpb24sIGNhdXNlKSB7XG4gICAgICAgICAgICAgICAgJGRlbGVnYXRlKGV4Y2VwdGlvbiwgY2F1c2UpO1xuICAgICAgICAgICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvL1JvdXRpbmcgZW5oYW5jZW1lbnRzXG4gICAgc2Nyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZSddO1xuICAgIGZ1bmN0aW9uIHNjcm9sbGVyKCRyb290U2NvcGUpIHtcbiAgICAgICAgLy8gc2Nyb2xsIHRvIHRoZSB0b3Agb24gcGFnZSB0cmFuc2l0aW9uXG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBLZWVwIHRyYWNrIG9mIGhpc3RvcnlcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbihldiwgdG8sIHRvUGFyYW1zLCBmcm9tLCBmcm9tUGFyYW1zKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLnByZXZpb3VzU3RhdGUgPSBmcm9tLm5hbWU7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLmN1cnJlbnRTdGF0ZSA9IHRvLm5hbWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vQ29sb3IgdGhlbWVzIGZvciBidXR0b25zXG4gICAgbWF0ZXJpYWxEZXNpZ25UaGVtZXIuJGluamVjdCA9IFsnJG1kVGhlbWluZ1Byb3ZpZGVyJ107XG4gICAgZnVuY3Rpb24gbWF0ZXJpYWxEZXNpZ25UaGVtZXIoJG1kVGhlbWluZ1Byb3ZpZGVyKSB7XG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpLnByaW1hcnlQYWxldHRlKCd0ZWFsJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmJhY2tncm91bmRQYWxldHRlKCdicm93bicsIHsnZGVmYXVsdCc6ICc1MCd9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9yZWdyb3VuZFBhbGV0dGVbM10gPSAncmdiYSgwLDAsMCwwLjY3KSc7XG4gICAgfVxuXG4gICAgLy8gVUkgcm91dGVyXG4gICAgcm91dGVyQ29uZmlnLiRpbmplY3QgPSBbJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlciddO1xuICAgIGZ1bmN0aW9uIHJvdXRlckNvbmZpZyAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xuXG4gICAgICAgIHJvdXRlcigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKTtcbiAgICAgICAgLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIHJvdXRlcigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XG4gICAgICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG5cbiAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAgICAgICAuc3RhdGUoJ3N0YXJ0Jywge1xuICAgICAgICAgICAgICAgIHVybDogJy8nLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc3RhcnQuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdjaGlsZHJlbicsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvY2hpbGRyZW4nLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvY2hpbGRyZW4uaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYWluQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnY2hpbGRJbmNvbWUnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2NoaWxkSW5jb21lJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgICd1c2VyLWNvbnRyb2xzJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy91c2VyLWNvbnRyb2xzLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJDb250cm9sc0NvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2NoaWxkSW5jb21lLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ2hvdXNlaG9sZCcsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvaG91c2Vob2xkJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgICd1c2VyLWNvbnRyb2xzJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy91c2VyLWNvbnRyb2xzLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJDb250cm9sc0NvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2hvdXNlaG9sZC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYWluQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ2hvdXNlaG9sZEluY29tZScsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvaG91c2Vob2xkLWluY29tZScsXG4gICAgICAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICAgICAgICAndXNlci1jb250cm9scyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvdXNlci1jb250cm9scy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1c2VyQ29udHJvbHNDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9ob3VzZWhvbGRJbmNvbWUuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaG91c2Vob2xkSW5jb21lJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnZGlzY2xvc3VyZScsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvZGlzY2xvc3VyZScsXG4gICAgICAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICAgICAgICAndXNlci1jb250cm9scyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvdXNlci1jb250cm9scy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1c2VyQ29udHJvbHNDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9kaXNjbG9zdXJlLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnc2lnbmF0dXJlJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9zaWduYXR1cmUnLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lnbmF0dXJlLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ2NvbmZpcm1hdGlvbicsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvY29uZmlybWF0aW9uJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgIC8vICd1c2VyLWNvbnRyb2xzJzoge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy91c2VyLWNvbnRyb2xzLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29udHJvbGxlcjogJ3VzZXJDb250cm9sc0NvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2NvbmZpcm1hdGlvbi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdleHBvcnQnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2V4cG9ydCcsXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvZXhwb3J0Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2V4cG9ydENvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdzaWdudXAnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3NpZ251cCcsXG4gICAgICAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICAgICAgICAvLyAndXNlci1jb250cm9scyc6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvdXNlci1jb250cm9scy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICd1c2VyQ29udHJvbHNDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgICAgICAvLyAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWdudXAuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lnbnVwQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnbG9naW4nLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2xvZ2luJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgIC8vICd1c2VyLWNvbnRyb2xzJzoge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy91c2VyLWNvbnRyb2xzLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29udHJvbGxlcjogJ3VzZXJDb250cm9sc0NvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2xvZ2luLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2xvZ2luQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3NvRmFyJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9zby1mYXInLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc29GYXIuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc29GYXJDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnc2F2ZUFuZEV4aXQnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3NhdmUtYW5kLWV4aXQnLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NhdmUtYW5kLWV4aXQuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdleHBvcnRDb250cm9sbGVyJywgZXhwb3J0Q29udHJvbGxlcik7XG5cbiAgICBleHBvcnRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRodHRwJywgJyRzY29wZSddO1xuXG4gICAgZnVuY3Rpb24gZXhwb3J0Q29udHJvbGxlcigkaHR0cCwgJHNjb3BlKSB7XG4gICAgICAgICRodHRwLmdldCgnL2hvdXNlaG9sZC9jb21wbGV0ZWQnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAkc2NvcGUuY29tcGxldGVkQXBwbGljYXRpb25zID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2hvdXNlaG9sZEluY29tZScsIGhvdXNlaG9sZEluY29tZSk7XG5cbiAgICBob3VzZWhvbGRJbmNvbWUuJGluamVjdCA9IFtcbiAgICAgICAgJyRyb290U2NvcGUnLFxuICAgICAgICAnJHNjb3BlJyxcbiAgICAgICAgJyRzdGF0ZScsXG4gICAgICAgICdIb3VzZWhvbGQnLFxuICAgICAgICAnU2VjdGlvbnMnXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIGhvdXNlaG9sZEluY29tZSAoJHJvb3RTY29wZSwgJHNjb3BlLCAkc3RhdGUsIEhvdXNlaG9sZCwgU2VjdGlvbnMsIEhvdXNlaG9sZEluY29tZSkge1xuICAgICAgICB2YXIgdm0gPSAkc2NvcGU7XG4gICAgICAgIHZtLm5hdmlnYXRlVG9OZXh0U2VjdGlvbiA9IG5hdmlnYXRlVG9OZXh0U2VjdGlvbjtcblxuICAgICAgICB2YXIgd29yayA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogJ3dvcmsnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdXb3JrIEluY29tZScsXG4gICAgICAgICAgICBxdWVzdGlvbjogJ2Vhcm4gbW9uZXkgdGhyb3VnaCB3b3JrJyxcbiAgICAgICAgICAgIHNvdXJjZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOid3b3JrJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ1dvcmsgb3V0c2lkZSB0aGUgaG9tZSBpbiBhIG5vbi1taWxpdGFyeSBjYXBhY2l0eSAnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnRWFybmluZ3MgZnJvbSB3b3JrJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdldmVyeSAyIHdlZWtzJywgJ3R3aWNlIGEgbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uOiAnUGxlYXNlIHJlcG9ydCBncm9zcyBpbmNvbWUuIFRoaXMgaXMgdGhlIGFtb3VudCBvZiBpbmNvbWUgZWFybmVkIGJlZm9yZSBhbnkgbW9uZXkgaXMgdGFrZW4gb3V0IGZvciB0YXhlcyBvciBkZWR1Y3Rpb25zLiBJbmNsdWRlIHNhbGFyeSwgd2FnZXMsIGFuZCBjYXNoIGJvbnVzZXMuJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTonc2VsZkVtcGxveWVkJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ0Vhcm5pbmdzIGZyb20gc2VsZiBlbXBsb3ltZW50JyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ1NlbGYtZW1wbG95ZWQnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdGb3IgaG91c2Vob2xkIG1lbWJlcnMgdGhhdCBhcmUgc2VsZi1lbXBsb3llZCwgcmVwb3J0IGluY29tZSBmcm9tIHRoYXQgd29yayBhcyBhIG5ldCBhbW91bnQuIFRoaXMgaXMgY2FsY3VsYXRlZCBieSBzdWJ0cmFjdGluZyB0aGUgdG90YWwgb3BlcmF0aW5nIGV4cGVuc2VzIG9mIHRoZSBidXNpbmVzcyBmcm9tIGl0cyBncm9zcyByZWNlaXB0cyBvciByZXZlbnVlLidcblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTonb25TdHJpa2UnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnT24gc3RyaWtlJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ1N0cmlrZSBCZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIC8vIGFubm90YXRpb246XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGFkZCBzcGFjZSBmb3IgaG91c2luZyBhbGxvd2FuY2UgcGVyIGRvY1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTonbWlsaXRhcnknLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnSW4gdGhlIFUuUy4gbWlsaXRhcnknLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnQmFzaWMgcGF5IGFuZCBjYXNoIGJvbnVzZXMnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdQbGVhc2UgZG8gbm90IGluY2x1ZGUgY29tYmF0IHBheSwgRlNTQSwgb3IgcHJpdmF0ZSBob3VzaW5nIGFsbG93YW5jZXMuJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcHVibGljQXNzaXN0YW5jZSA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogJ3B1YmxpY0Fzc2lzdGFuY2UnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdQdWJsaWMgQXNzaXN0YW5jZScsXG4gICAgICAgICAgICBxdWVzdGlvbjogJ3JlY2VpdmUgYW55IHB1YmxpYyBhc3Npc3RhbmNlIGJlbmVmaXRzJyxcbiAgICAgICAgICAgIHNvdXJjZXM6W1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6J3VuZW1wbG95bWVudCcsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdVbmVtcGxveW1lbnQgYmVuZWZpdHMnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnVW5lbXBsb3ltZW50IGJlbmVmaXRzJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdldmVyeSAyIHdlZWtzJywgJ3R3aWNlIGEgbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTond29ya2Vyc0NvbXAnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnV29ya2Vy4oCZcyBjb21wZW5zYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnV29ya2Vy4oCZcyBjb21wZW5zYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIC8vIGFubm90YXRpb246ICcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOidzc2knLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnU3VwcGxlbWVudGFsIFNlY3VyaXR5IEluY29tZSAoU1NJKScsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdTdXBwbGVtZW50YWwgU2VjdXJpdHkgSW5jb21lIChTU0kpJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdldmVyeSAyIHdlZWtzJywgJ3R3aWNlIGEgbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTonY2FzaEFzc2lzdGFuY2UnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnQ2FzaCBhc3Npc3RhbmNlIGZyb20gU3RhdGUgb3IgbG9jYWwgZ292ZXJubWVudCcsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdDYXNoIGFzc2lzdGFuY2UnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdUaGlzIGNvdWxkIGluY2x1ZGUgVEFORiBvciBHZW5lcmFsIEFzc2lzdGFuY2UgbW9uZXkuJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTondmV0ZXJhbnNCZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdWZXRlcmFu4oCZcyBiZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdWZXRlcmFu4oCZcyBiZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICd0d2ljZSBhIG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJ1RoaXMgY291bGQgaW5jbHVkZSBUQU5GIG9yIEdlbmVyYWwgQXNzaXN0YW5jZSBtb25leSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGFsaW1vbnkgPSB7XG4gICAgICAgICAgICBjYXRlZ29yeU5hbWU6ICdhbGltb255JyxcbiAgICAgICAgICAgIGhlYWRsaW5lOiAnQWxpbW9ueScsXG4gICAgICAgICAgICBxdWVzdGlvbjogJ3JlY2VpdmUgYWxpbW9ueSBwYXltZW50cycsXG4gICAgICAgICAgICBzb3VyY2VzOltcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnYWxpbW9ueScsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdhbGltb255IHBheW1lbnRzJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ0FsaW1vbnkgcGF5bWVudCcsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICd0d2ljZSBhIG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ0lmIGluY29tZSBpcyByZWNlaXZlZCBmcm9tIGFsaW1vbnksIG9ubHkgY291cnQtb3JkZXJlZCBwYXltZW50cyBzaG91bGQgYmUgcmVwb3J0ZWQgaGVyZS4gSW5mb3JtYWwgYnV0IHJlZ3VsYXIgcGF5bWVudHMgc2hvdWxkIGJlIHJlcG9ydGVkIGxhdGVyIGFzIOKAnG90aGVy4oCdIGluY29tZS4nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBjaGlsZFN1cHBvcnQgPSB7XG4gICAgICAgICAgICBjYXRlZ29yeU5hbWU6ICdjaGlsZFN1cHBvcnQnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdDaGlsZCBTdXBwb3J0JyxcbiAgICAgICAgICAgIHF1ZXN0aW9uOiAncmVjZWl2ZSBhbnkgY2hpbGQgc3VwcG9ydCcsXG4gICAgICAgICAgICBzb3VyY2VzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ2NoaWxkU3VwcG9ydCcsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdhbnkgY2hpbGQgc3VwcG9ydCcsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdDaGlsZCBzdXBwb3J0IHBheW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdJZiBpbmNvbWUgaXMgcmVjZWl2ZWQgZnJvbSBjaGlsZCBzdXBwb3J0LCBvbmx5IGNvdXJ0LW9yZGVyZWQgcGF5bWVudHMgc2hvdWxkIGJlIHJlcG9ydGVkIGhlcmUuIEluZm9ybWFsIGJ1dCByZWd1bGFyIHBheW1lbnRzIHNob3VsZCBiZSByZXBvcnRlZCBsYXRlciBhcyDigJxvdGhlcuKAnSBpbmNvbWUuJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmV0aXJlbWVudCA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogJ3JldGlyZW1lbnQnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdQZW5zaW9uIGFuZCBSZXRpcmVtZW50JyxcbiAgICAgICAgICAgIHF1ZXN0aW9uOiAncmVjZWl2ZSBhbnkgcGVuc2lvbiBvciByZXRpcmVtZW50IG1vbmV5JyxcbiAgICAgICAgICAgIHNvdXJjZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnc29jaWFsU2VjdXJpdHknLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnU29jaWFsIFNlY3VyaXR5JyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ1NvY2lhbCBzZWN1cml0eScsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICd0d2ljZSBhIG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ1BsZWFzZSBpbmNsdWRlIHJhaWxyb2FkIHJldGlyZW1lbnQgYW5kIGJsYWNrIGx1bmcgYmVuZWZpdHMnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAncHJpdmF0ZVBlbnNpb24nLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnUHJpdmF0ZSBwZW5zaW9ucyBvciBkaXNhYmlsaXR5JyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ1ByaXZhdGUgcGVuc2lvbnMgb3IgZGlzYWJpbGl0eScsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICd0d2ljZSBhIG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG90aGVySW5jb21lID0ge1xuICAgICAgICAgICAgY2F0ZWdvcnlOYW1lOiAnb3RoZXJJbmNvbWUnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdPdGhlciBJbmNvbWUnLFxuICAgICAgICAgICAgcXVlc3Rpb246ICdyZWNpZXZlIG1vbmV5IHRocm91Z2ggYW55IG90aGVyIHNvdXJjZScsXG4gICAgICAgICAgICBzb3VyY2VzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ3RydXN0cycsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdJbmNvbWUgZnJvbSB0cnVzdHMgb3IgZXN0YXRlcycsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdJbmNvbWUgZnJvbSB0cnVzdHMgb3IgZXN0YXRlcycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICd0d2ljZSBhIG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdhbm51aXRpZXMnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnQW5udWl0aWVzJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ0luY29tZSBmcm9tIGFubnVpdGllcycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICd0d2ljZSBhIG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdpbnZlc3RtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ0ludmVzdG1lbnQgaW5jb21lJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ0ludmVzdG1lbnQgaW5jb21lJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdldmVyeSAyIHdlZWtzJywgJ3R3aWNlIGEgbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ2ludGVyZXN0JyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ0Vhcm5lZCBpbnRlcmVzdCcsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdFYXJuZWQgaW50ZXJlc3QnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIC8vIGFubm90YXRpb246ICcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAncmVudGFsSW5jb21lJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ1JlbnRhbCBpbmNvbWUnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnUmVudGFsIGluY29tZScsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICd0d2ljZSBhIG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdvdGhlckNhc2gnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnUmVndWxhciBjYXNoIHBheW1lbnRzIGZyb20gb3V0c2lkZSBob3VzZWhvbGQnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnUmVndWxhciBjYXNoIHBheW1lbnRzIGZyb20gb3V0c2lkZSBob3VzZWhvbGQnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdTdWNoIGNhc2ggcGF5bWVudHMgc2hvdWxkIGluY2x1ZGUgcmVndWxhciBjaGlsZCBzdXBwb3J0IG9yIGFsaW1vbnkgcGF5bWVudHMgcmVjZWl2ZWQgYnkgdGhlIGhvdXNlaG9sZCB0aGF0IGFyZSBub3QgY291cnQtb3JkZXJlZC4nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUT0RPOiBkdXBsaWNhdGVkIHdpdGggbWFpbi5qcy4gU2hhcmUgaW4gYSBiZXR0ZXIgd2F5XG4gICAgICAgIGZ1bmN0aW9uIG5hdmlnYXRlVG9OZXh0U2VjdGlvbigpIHtcbiAgICAgICAgICAgIEhvdXNlaG9sZC5zYXZlKCk7XG4gICAgICAgICAgICBTZWN0aW9ucy51cGRhdGVSZXF1aXJlZFNlY3Rpb25zKCk7XG4gICAgICAgICAgICBTZWN0aW9ucy5uYXZpZ2F0ZVRvTmV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdm0uaW5jb21lQ2F0ZWdvcmllcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29yayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGljQXNzaXN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpbW9ueSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRTdXBwb3J0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRpcmVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlckluY29tZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcblxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgLmNvbnRyb2xsZXIoJ2xvZ2luQ29udHJvbGxlcicsIGxvZ2luQ29udHJvbGxlcik7XG4gICAgbG9naW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckc3RhdGUnLCAnYXV0aCcsICdIb3VzZWhvbGQnLCAnU2VjdGlvbnMnXTtcbiAgICBmdW5jdGlvbiBsb2dpbkNvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIGF1dGgsIEhvdXNlaG9sZCwgU2VjdGlvbnMpIHtcbiAgICAgICAgdmFyIHZtID0gJHNjb3BlO1xuICAgICAgICB2YXIgdXNlciA9IHt9O1xuICAgICAgICB2bS5zdWJtaXQgPSBzdWJtaXQ7XG4gICAgICAgIHZtLnVzZXIgPSB1c2VyO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gc3VibWl0KCkge1xuICAgICAgICAgICAgLy8gdm0uZGlzYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBhdXRoXG4gICAgICAgICAgICAubG9naW4odXNlci5lbWFpbCwgdXNlci5wYXNzd29yZClcbiAgICAgICAgICAgIC50aGVuKHN1Y2Nlc3NIYW5kbGVyLCBlcnJvckhhbmRsZXIpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzSGFuZGxlcihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIC8vIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdm0ubG9naW5Gb3JtID0ge307XG4gICAgICAgICAgICAgICAgdm0ubWVzc2FnZSA9ICdzdWNjZXNzZnVsbHkgbG9nZ2VkIGluJztcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3NvRmFyJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9ySGFuZGxlcihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZtLm1lc3NhZ2UgPSAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4nO1xuICAgICAgICAgICAgICAgIC8vIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdtYWluQ29udHJvbGxlcicsIG1haW5Db250cm9sbGVyKTtcblxuICAgIG1haW5Db250cm9sbGVyLiRpbmplY3QgPSBbXG4gICAgICAgICckaHR0cCcsXG4gICAgICAgICckaW50ZXJ2YWwnLFxuICAgICAgICAnJG1kRGlhbG9nJyxcbiAgICAgICAgJyRtZE1lZGlhJyxcbiAgICAgICAgJyRyb290U2NvcGUnLFxuICAgICAgICAnJHNjb3BlJyxcbiAgICAgICAgJyRzdGF0ZScsXG4gICAgICAgICckdGltZW91dCcsXG4gICAgICAgICdIb3VzZWhvbGQnLFxuICAgICAgICAnU2VjdGlvbnMnXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIG1haW5Db250cm9sbGVyICgkaHR0cCwgJGludGVydmFsLCAkbWREaWFsb2csICRtZE1lZGlhLCAkcm9vdFNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUsICRzdGF0ZSwgJHRpbWVvdXQsIEhvdXNlaG9sZCwgU2VjdGlvbnMpIHtcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgICB2YXIgdm0gPSAkc2NvcGU7XG4gICAgICAgIHZtLnNjaG9vbERpc3RyaWN0ID0gJ09ha2xhbmQgVW5pZmllZCBTY2hvb2wgRGlzdHJpY3QnO1xuXG4gICAgICAgIC8vIG5hdmlnYXRpb25cbiAgICAgICAgdm0uZ29CYWNrID0gZ29CYWNrO1xuICAgICAgICB2bS5uYXZpZ2F0ZVRvTmV4dFNlY3Rpb24gPSBuYXZpZ2F0ZVRvTmV4dFNlY3Rpb247XG4gICAgICAgIHZtLnN1Ym1pdEFwcGxpY2F0aW9uID0gc3VibWl0QXBwbGljYXRpb247XG4gICAgICAgIHZtLnNob3dFcnJvcnMgPSBmYWxzZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8vTmV3IGNoaWxkcmVuIGFuZCBob3VzZWhvbGQgbWVtYmVycyBhcmUgY3JlYXRlZFxuICAgICAgICAvL2J5IGNhbGxpbmcgdGhlIHNlcnZlciB0byBtYWtlIHVzZSBvZiBtb25nb29zZSBtb2RlbHNcbiAgICAgICAgZnVuY3Rpb24gYWRkQ2hpbGQobmV3VmFsKSB7XG4gICAgICAgICAgICBpZiAobmV3VmFsID4gJHJvb3RTY29wZS5ob3VzZWhvbGQuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgJGh0dHAuZ2V0KCcvY2hpbGQnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdDaGlsZCA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuaG91c2Vob2xkLmNoaWxkcmVuLnB1c2gobmV3Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWN1cnNlIGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgICAgICBhZGRDaGlsZChuZXdWYWwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkT3RoZXJNZW1iZXIobmV3VmFsKSB7XG4gICAgICAgICAgICBpZiAobmV3VmFsID4gJHJvb3RTY29wZS5ob3VzZWhvbGQub3RoZXJNZW1iZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICRodHRwLmdldCgnL2hvdXNlaG9sZC1tZW1iZXInKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdIb3VzZWhvbGRNZW1iZXIgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBuZXdIb3VzZWhvbGRNZW1iZXIgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5ob3VzZWhvbGQub3RoZXJNZW1iZXJzLnB1c2gobmV3SG91c2Vob2xkTWVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVjdXJzZSBpZiBuZWNlc3NhcnlcbiAgICAgICAgICAgICAgICAgICAgYWRkT3RoZXJNZW1iZXIobmV3VmFsKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHRyaW1DaGlsZHJlbihob3VzZWhvbGQpIHtcbiAgICAgICAgICAgIC8vIGdldCByaWQgb2YgZXh0cmEgZW1wdHkgY2hpbGQgb2JlamNldHMgY3JlYXRlZCBpbiBwcm9jZXNzXG4gICAgICAgICAgICBpZiAoaG91c2Vob2xkLmNoaWxkcmVuLmxlbmd0aCA+IGhvdXNlaG9sZC5jaGlsZENvdW50KSB7XG4gICAgICAgICAgICAgICAgaG91c2Vob2xkLmNoaWxkcmVuID0gaG91c2Vob2xkLmNoaWxkcmVuLnNsaWNlKDAsIGhvdXNlaG9sZC5jaGlsZENvdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBob3VzZWhvbGQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0cmltT3RoZXJNZW1iZXJzKGhvdXNlaG9sZCkge1xuICAgICAgICAgICAgLy8gZ2V0IHJpZCBvZiBleHRyYSBlbXB0eSBvdGhlck1lbWJlciBvYmVqY2V0cyBjcmVhdGVkIGluIHByb2Nlc3NcbiAgICAgICAgICAgIGlmIChob3VzZWhvbGQub3RoZXJNZW1iZXJzLmxlbmd0aCA+IGhvdXNlaG9sZC5vdGhlck1lbWJlcnNDb3VudCkge1xuICAgICAgICAgICAgICAgIGhvdXNlaG9sZC5vdGhlck1lbWJlcnMuc2xpY2UoMCwgaG91c2Vob2xkLm90aGVyTWVtYmVyc0NvdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBob3VzZWhvbGQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzaG93Q29uZmlybShldikge1xuICAgICAgICAgICAgLy8gQXBwZW5kaW5nIGRpYWxvZyB0byBkb2N1bWVudC5ib2R5IHRvIGNvdmVyIHNpZGVuYXYgaW4gZG9jcyBhcHBcbiAgICAgICAgICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxuICAgICAgICAgICAgICAgICAgLnRpdGxlKCdSZWFkeSB0byBnbyBvbj8nKVxuICAgICAgICAgICAgICAgICAgLnRleHRDb250ZW50KCdJdCBsb29rcyBsaWtlIHlvdSBoYXZlIHNvbWUgZXJyb3JzIG9yIG1pc3NpbmcgaW5mb3JtYXRpb24gaW4gdGhpcyBzZWN0aW9uLiBEbyB5b3Ugd2FudCB0byBmaXggaXQgbm93PycpXG4gICAgICAgICAgICAgICAgICAuYXJpYUxhYmVsKCdSZWFkeSB0byBnbyBvbj8nKVxuICAgICAgICAgICAgICAgICAgLnRhcmdldEV2ZW50KGV2KVxuICAgICAgICAgICAgICAgICAgLm9rKCdNb3ZlIEFoZWFkIEFueXdheScpXG4gICAgICAgICAgICAgICAgICAuY2FuY2VsKCdHbyBCYWNrIGFuZCBGaXggSXQgTm93Jyk7XG4gICAgICAgICAgICByZXR1cm4gJG1kRGlhbG9nLnNob3coY29uZmlybSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgICAgICAgICBIb3VzZWhvbGQuc2F2ZSgpO1xuICAgICAgICAgICAgU2VjdGlvbnMudXBkYXRlUmVxdWlyZWRTZWN0aW9ucygpO1xuICAgICAgICAgICAgU2VjdGlvbnMuZ29CYWNrKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL0Zvcm0gVmFsaWRhdGlvblxuICAgICAgICBmdW5jdGlvbiBpc0ludmFsaWRGb3JtKCkge1xuICAgICAgICAgICAgaWYgKHZtLmZvcm0gJiYgKCF2bS5mb3JtLiR2YWxpZCB8fCB2bS5mb3JtLiRwcmlzdGluZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCRyb290U2NvcGUuY3VycmVudFN0YXRlID09PSAnY2hpbGRyZW4nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHJvb3RTY29wZS5ob3VzZWhvbGQuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSAkcm9vdFNjb3BlLmhvdXNlaG9sZC5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLmVucm9sbGVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgkcm9vdFNjb3BlLmN1cnJlbnRTdGF0ZSA9PT0gJ2NoaWxkSW5jb21lJykge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRyb290U2NvcGUuaG91c2Vob2xkLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkID0gJHJvb3RTY29wZS5ob3VzZWhvbGQuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5lYXJuc0luY29tZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmaXhJdEhhbmRsZXIoKSB7XG4gICAgICAgICAgICB2bS5zaG93RXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBtb3ZlQWhlYWRIYW5kbGVyKCkge1xuICAgICAgICAgICAgSG91c2Vob2xkLnNhdmUoKTtcbiAgICAgICAgICAgIFNlY3Rpb25zLnVwZGF0ZVJlcXVpcmVkU2VjdGlvbnMoKTtcbiAgICAgICAgICAgIFNlY3Rpb25zLm5hdmlnYXRlVG9OZXh0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBuYXZpZ2F0ZVRvTmV4dFNlY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNJbnZhbGlkRm9ybSgpKSB7XG4gICAgICAgICAgICAgICAgLy8gb3BlbiBjb25maXJtYXRpb24gbW9kYWxcbiAgICAgICAgICAgICAgICBzaG93Q29uZmlybSgpLnRoZW4obW92ZUFoZWFkSGFuZGxlcixmaXhJdEhhbmRsZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb3ZlQWhlYWRIYW5kbGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzdWJtaXRBcHBsaWNhdGlvbigpIHtcbiAgICAgICAgICAgIHRyaW1DaGlsZHJlbigkcm9vdFNjb3BlLmhvdXNlaG9sZCk7XG4gICAgICAgICAgICB0cmltT3RoZXJNZW1iZXJzKCRyb290U2NvcGUuaG91c2Vob2xkKTtcbiAgICAgICAgICAgICRyb290U2NvcGUuaG91c2Vob2xkLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICBuYXZpZ2F0ZVRvTmV4dFNlY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdhdGNoZXJzXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ2hvdXNlaG9sZC5jaGlsZENvdW50JywgYWRkQ2hpbGQpO1xuICAgICAgICAkc2NvcGUuJHdhdGNoKCdob3VzZWhvbGQub3RoZXJNZW1iZXJzQ291bnQnLCBhZGRPdGhlck1lbWJlcik7XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3NpZGVOYXZDb250cm9sbGVyJywgc2lkZU5hdkNvbnRyb2xsZXIpO1xuXG4gICAgc2lkZU5hdkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRzdGF0ZScsICdTZWN0aW9ucyddO1xuXG4gICAgZnVuY3Rpb24gc2lkZU5hdkNvbnRyb2xsZXIgKCRzY29wZSwgJHN0YXRlLCBTZWN0aW9ucykge1xuICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgICAgIHZhciB2bSA9ICRzY29wZTtcblxuICAgICAgICB2bS5jdXJyZW50U3RhdGUgPSAkc3RhdGUuJGN1cnJlbnQuc2VsZi5uYW1lO1xuICAgICAgICB2bS5zZWN0aW9ucyA9IFNlY3Rpb25zLnNlY3Rpb25zO1xuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgLmNvbnRyb2xsZXIoJ3NpZ251cENvbnRyb2xsZXInLCBzaWdudXBDb250cm9sbGVyKTtcbiAgICBzaWdudXBDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICdhdXRoJywgJ1NlY3Rpb25zJ107XG5cbiAgICBmdW5jdGlvbiBzaWdudXBDb250cm9sbGVyKCRzY29wZSwgYXV0aCwgU2VjdGlvbnMpIHtcbiAgICAgICAgdmFyIHZtID0gJHNjb3BlO1xuICAgICAgICB2YXIgdXNlciA9IHt9O1xuICAgICAgICB2bS5zdWJtaXQgPSBzdWJtaXQ7XG4gICAgICAgIHZtLnVzZXIgPSB1c2VyO1xuXG4gICAgICAgIGZ1bmN0aW9uIHN1Ym1pdCgpIHtcbiAgICAgICAgICAgIHZtLmVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBUT0RPOiBhZGQgbG9hZGluZyBpY29uIHRvIFVJIHdoZW4gZGlzYWJsZWQgPT09IHRydWVcbiAgICAgICAgICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgYXV0aC5zaWdudXAodXNlci5lbWFpbCwgdXNlci5wYXNzd29yZClcbiAgICAgICAgICAgIC50aGVuKHN1Y2Nlc3NIYW5kbGVyLCBlcnJvckhhbmRsZXIpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzSGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZtLnNpZ251cEZvcm0gPSB7fTsgLy9SZXNldCBmb3JtXG4gICAgICAgICAgICAgICAgdm0ubWVzc2FnZSA9ICdzdWNjZXNzZnVsbHkgY3JlYXRlZCBhbiBhY2NvdW50JztcbiAgICAgICAgICAgICAgICBTZWN0aW9ucy5nb0JhY2soKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgdm0uZXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZtLm1lc3NhZ2UgPSAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4nO1xuICAgICAgICAgICAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gdm0uc2lnbnVwRm9ybSA9IHt9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdzb0ZhckNvbnRyb2xsZXInLCBzb0ZhckNvbnRyb2xsZXIpO1xuXG4gICAgc29GYXJDb250cm9sbGVyLiRpbmplY3QgPSBbXG4gICAgICAgICckaHR0cCcsXG4gICAgICAgICckaW50ZXJ2YWwnLFxuICAgICAgICAnJG1kRGlhbG9nJyxcbiAgICAgICAgJyRtZE1lZGlhJyxcbiAgICAgICAgJyRyb290U2NvcGUnLFxuICAgICAgICAnJHNjb3BlJyxcbiAgICAgICAgJyRzdGF0ZScsXG4gICAgICAgICdIb3VzZWhvbGQnLFxuICAgICAgICAnU2VjdGlvbnMnXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIHNvRmFyQ29udHJvbGxlciAoJGh0dHAsICRpbnRlcnZhbCwgJG1kRGlhbG9nLCAkbWRNZWRpYSwgJHJvb3RTY29wZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLCAkc3RhdGUsIEhvdXNlaG9sZCwgU2VjdGlvbnMpIHtcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgICB2YXIgdm0gPSAkc2NvcGU7XG4gICAgICAgIHZtLm1lYW5zVGVzdCA9IFNlY3Rpb25zLm1lYW5zVGVzdDtcblxuICAgICAgICB2bS5jaGlsZHJlbkxhYmVsID0gJ2NoaWxkcmVuJztcbiAgICAgICAgdm0uYWR1bHRzTGFiZWwgPSAnYWR1bHRzJztcblxuICAgICAgICB2bS5pbmNvbWVFYXJuZXJzQ291bnQgPSBjb3VudEVhcm5lcnMoJHJvb3RTY29wZS5ob3VzZWhvbGQpO1xuICAgICAgICB2bS5pbmNvbWVFc3RpbWF0ZSA9IGVzdGltYXRlSW5jb21lKCRyb290U2NvcGUuaG91c2Vob2xkKTtcblxuICAgICAgICAvLyBuYXZpZ2F0aW9uXG4gICAgICAgIHZtLmdvQmFjayA9IGdvQmFjaztcbiAgICAgICAgdm0ubmF2aWdhdGVUb05leHRTZWN0aW9uID0gbmF2aWdhdGVUb05leHRTZWN0aW9uO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICAgICAgaWYgKCRyb290U2NvcGUuaG91c2Vob2xkLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHZtLmNoaWxkcmVuTGFiZWwgPSAnY2hpbGQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCRyb290U2NvcGUuaG91c2Vob2xkLm90aGVyTWVtYmVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICB2bS5hZHVsdHNMYWJlbCA9ICdhZHVsdCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpbml0KCk7XG5cbiAgICAgICAgXG5cbiAgICAgICAgZnVuY3Rpb24gZXN0aW1hdGVJbmNvbWUoKSB7XG4gICAgICAgICAgICB2YXIgZnJlcXVlbmN5TXVsaXRwbGllciA9IHtcbiAgICAgICAgICAgICAgICB3ZWVrbHk6IDUyLFxuICAgICAgICAgICAgICAgICdldmVyeSAyIHdlZWtzJzogMjYsXG4gICAgICAgICAgICAgICAgJ3R3aWNlIGEgbW9udGgnOiAyNCxcbiAgICAgICAgICAgICAgICBtb250aGx5OiAxMlxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0VG90YWxmb3JTb3VyY2Uoc291cmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5hbW91bnQgKiBmcmVxdWVuY3lNdWxpdHBsaWVyW3NvdXJjZS5mcmVxdWVuY3ldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZXN0aW1hdGVkQW5udWFsSW5jb21lID0gMDtcblxuICAgICAgICAgICAgJHJvb3RTY29wZS5ob3VzZWhvbGQuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5lYXJuc0luY29tZSkge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC5pbmNvbWVTb3VyY2VzLmZvckVhY2goZnVuY3Rpb24oaW5jb21lU291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5jb21lU291cmNlLmFtb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc3RpbWF0ZWRBbm51YWxJbmNvbWUgKz0gZ2V0VG90YWxmb3JTb3VyY2UoaW5jb21lU291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRyb290U2NvcGUuaG91c2Vob2xkLm90aGVyTWVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKG1lbWJlcikge1xuICAgICAgICAgICAgICAgIGlmICghbWVtYmVyLmluY29tZUNhdGVnb3J5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGluY29tZVNvdXJjZTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gbWVtYmVyLmluY29tZUNhdGVnb3J5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgdmFsdWUgZ2V0cyBzdGFzaGVkIGluIHRoZSBzYW1lIHBsYWNlXG4gICAgICAgICAgICAgICAgICAgIGluY29tZVNvdXJjZSA9IG1lbWJlci5pbmNvbWVDYXRlZ29yeVtrZXldO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrIGluIGluY29tZVNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGsgIT09ICdzaG93Q2hlY2tib3hlcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gaW5jb21lU291cmNlW2tdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzdGltYXRlZEFubnVhbEluY29tZSArPSBnZXRUb3RhbGZvclNvdXJjZShzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGVzdGltYXRlZEFubnVhbEluY29tZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb3VudEVhcm5lcnMoaG91c2Vob2xkKSB7XG4gICAgICAgICAgICB2YXIgZWFybmVyc0NvdW50ID0gMDtcbiAgICAgICAgICAgICRyb290U2NvcGUuaG91c2Vob2xkLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuZWFybnNJbmNvbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZWFybmVyc0NvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRyb290U2NvcGUuaG91c2Vob2xkLm90aGVyTWVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKG1lbWJlcikge1xuICAgICAgICAgICAgICAgIGlmIChtZW1iZXIuaW5jb21lQ2F0ZWdvcnkgJiYgT2JqZWN0LmtleXMobWVtYmVyLmluY29tZUNhdGVnb3J5KSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZWFybmVyc0NvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBlYXJuZXJzQ291bnQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgICAgICAgICBIb3VzZWhvbGQuc2F2ZSgpO1xuICAgICAgICAgICAgU2VjdGlvbnMudXBkYXRlUmVxdWlyZWRTZWN0aW9ucygpO1xuICAgICAgICAgICAgU2VjdGlvbnMuZ29CYWNrKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBuYXZpZ2F0ZVRvTmV4dFNlY3Rpb24oKSB7XG4gICAgICAgICAgICBIb3VzZWhvbGQuc2F2ZSgpO1xuICAgICAgICAgICAgU2VjdGlvbnMudXBkYXRlUmVxdWlyZWRTZWN0aW9ucygpO1xuICAgICAgICAgICAgU2VjdGlvbnMubmF2aWdhdGVUb05leHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgLmNvbnRyb2xsZXIoJ3VzZXJDb250cm9sc0NvbnRyb2xsZXInLCB1c2VyQ29udHJvbHNDb250cm9sbGVyKTtcbiAgICB1c2VyQ29udHJvbHNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyRzdGF0ZScsICdhdXRoJ107XG4gICAgZnVuY3Rpb24gdXNlckNvbnRyb2xzQ29udHJvbGxlcigkcm9vdFNjb3BlLCAkc2NvcGUsICRzdGF0ZSwgYXV0aCkge1xuICAgICAgICB2YXIgdm0gPSAkc2NvcGU7XG4gICAgICAgIHZtLmxvZ2dlZEluID0gYXV0aC5nZXRVc2VyU3RhdHVzKCk7XG4gICAgICAgIHZtLmxvZ291dCA9IGxvZ291dDtcbiAgICAgICAgdm0udXNlciA9ICRyb290U2NvcGUudXNlcjtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICBmdW5jdGlvbiBsb2dvdXQoKSB7XG4gICAgICAgICAgICBhdXRoLmxvZ291dCgpO1xuICAgICAgICAgICAgdm0ubG9nZ2VkSW4gPSBhdXRoLmdldFVzZXJTdGF0dXMoKTtcbiAgICAgICAgICAgICRzdGF0ZS5nbygnc2F2ZUFuZEV4aXQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRyb290U2NvcGUuJHdhdGNoKCd1c2VyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2bS5sb2dnZWRJbiA9IGF1dGguZ2V0VXNlclN0YXR1cygpO1xuICAgICAgICAgICAgdm0udXNlciA9ICRyb290U2NvcGUudXNlcjtcbiAgICAgICAgfSk7XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnaW5jb21lUXVlc3Rpb25zJywgaW5jb21lRGlyZWN0aXZlKTtcblxuICAgIGZ1bmN0aW9uIGluY29tZURpcmVjdGl2ZSgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgbWVtYmVyOiAnPSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvaW5jb21lLmh0bWwnLFxuICAgICAgICAgICAgbGluazogbGlua1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgfVxuXG4gICAgLy8gbGluay4kaW5qZWN0ID0gWydzY29wZSddO1xuXG4gICAgZnVuY3Rpb24gbGluayhzY29wZSkge1xuICAgICAgICBzY29wZS5pbmNvbWVTb3VyY2VzID0ge1xuICAgICAgICAgICAgd29yazoge1xuICAgICAgICAgICAgICAgIHZhdWxlOid3b3JrJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0Vhcm5pbmdzIGZyb20gd29yazonLFxuICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICd0d2ljZSBhIG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uOiAnQSBjaGlsZCBoYXMgYSBqb2Igd2hlcmUgdGhleSBlYXJuIHNhbGFyeSBvciB3YWdlcy4gUGxlYXNlIHJlcG9ydCBncm9zcyBpbmNvbWUuIFRoaXMgaXMgdGhlIGFtb3VudCBvZiBpbmNvbWUgZWFybmVkIGJlZm9yZSBhbnkgbW9uZXkgaXMgdGFrZW4gb3V0IGZvciB0YXhlcyBvciBkZWR1Y3Rpb25zLiBJbmNsdWRlIHNhbGFyeSwgd2FnZXMsIGFuZCBjYXNoIGJvbnVzZXMuJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzb2NpYWxTZWN1cml0eToge1xuICAgICAgICAgICAgICAgIHZhdWxlOidzb2NpYWxTZWN1cml0eScsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdTb2NpYWwgU2VjdXJpdHkgRGlzYWJpbGl0eSBQYXltZW50cyBvciBTdXJ2aXZvcuKAmXMgQmVuZWZpdHM6JyxcbiAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnbW9udGhseSddLFxuICAgICAgICAgICAgICAgIC8vIGFubm90YXRpb246ICdBIGNoaWxkIGlzIGJsaW5kIG9yIGRpc2FibGVkIGFuZCByZWNlaXZlcyBTb2NpYWwgU2VjdXJpdHkgYmVuZWZpdHMuJyxcbiAgICAgICAgICAgICAgICAvLyAnIEEgcGFyZW50IGlzIGRpc2FibGVkLCByZXRpcmVkLCBvciBkZWNlYXNlZCwgYW5kIHRoZWlyIGNoaWxkIHJlY2VpdmVzIHNvY2lhbCBzZWN1cml0eSBiZW5lZml0cycsXG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvdGhlclBlcnNvbjoge1xuICAgICAgICAgICAgICAgIHZhdWxlOidvdGhlclBlcnNvbicsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdJbmNvbWUgZnJvbSBwZXJzb25zIG91dHNpZGUgdGhlIGhvdXNlaG9sZDonLFxuICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnZXZlcnkgMiB3ZWVrcycsICd0d2ljZSBhIG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uOiAnQSBmcmllbmQgb3IgZXh0ZW5kZWQgZmFtaWx5IG1lbWJlciByZWd1bGFybHkgZ2l2ZXMgYSBjaGlsZCBzcGVuZGluZyBtb25leS4nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG90aGVyU291cmNlOiB7XG4gICAgICAgICAgICAgICAgdmF1bGU6J290aGVyU291cmNlJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0luY29tZSBmcm9tIGFueSBvdGhlciBzb3VyY2U6JyxcbiAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2V2ZXJ5IDIgd2Vla3MnLCAndHdpY2UgYSBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ0EgY2hpbGQgcmVjZWl2ZXMgaW5jb21lIGZyb20gYSBwcml2YXRlIHBlbnNpb24gZnVuZCwgYW5udWl0eSwgb3IgdHJ1c3QuJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoc2NvcGUubWVtYmVyLmluY29tZVNvdXJjZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBzY29wZS5tZW1iZXIuaW5jb21lU291cmNlcyA9IFtdO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc2NvcGUuaW5jb21lU291cmNlcykuZm9yRWFjaChmdW5jdGlvbihpbmNvbWVTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5tZW1iZXIuaW5jb21lU291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogaW5jb21lU291cmNlLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogbnVsbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgICAuZGlyZWN0aXZlKCd5ZXNOb0lucHV0JywgeWVzTm9JbnB1dCk7XG5cbiAgICBmdW5jdGlvbiB5ZXNOb0lucHV0ICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6ICc9J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy95ZXNuby5odG1sJyxcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgICAuc2VydmljZSgnYXV0aCcsIEF1dGhTZXJ2aWNlKTtcblxuICAgIEF1dGhTZXJ2aWNlLiRpbmplY3QgPSBbJyRjb29raWVzJywgJyRodHRwJywgJyRxJywgJyRyb290U2NvcGUnLCAnJHN0YXRlJywgJ0hvdXNlaG9sZCddO1xuXG4gICAgZnVuY3Rpb24gQXV0aFNlcnZpY2UoJGNvb2tpZXMsICRodHRwLCAkcSwgJHJvb3RTY29wZSwgJHN0YXRlLCBIb3VzZWhvbGQpIHtcbiAgICAgICAgJHJvb3RTY29wZS51c2VyID0gbnVsbDtcbiAgICAgICAgaW5pdCgpO1xuICAgICAgICB2YXIgc2VydmljZSA9IHt9O1xuICAgICAgICBzZXJ2aWNlLmlzTG9nZ2VkSW4gPSBpc0xvZ2dlZEluO1xuICAgICAgICBzZXJ2aWNlLmdldFVzZXJTdGF0dXMgPSBnZXRVc2VyU3RhdHVzO1xuICAgICAgICBzZXJ2aWNlLnNpZ251cCA9IHNpZ251cDtcbiAgICAgICAgc2VydmljZS5sb2dpbiA9IGxvZ2luO1xuICAgICAgICBzZXJ2aWNlLmxvZ291dCA9IGxvZ291dDtcbiAgICAgICAgc2VydmljZS5pbml0ID0gaW5pdDtcblxuICAgICAgICByZXR1cm4gc2VydmljZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgdXNlciBvbiBzdGFydFxuICAgICAgICAgICAgdmFyIHVzZXIgPSBnZXRDcmVkZW50aWFscygpO1xuICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnVzZXIgPSB1c2VyO1xuICAgICAgICAgICAgICAgIEhvdXNlaG9sZC5yZXRyaWV2ZUZvclVzZXIodXNlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGlzTG9nZ2VkSW4oKSB7XG4gICAgICAgICAgICBpZiAoJHJvb3RTY29wZS51c2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRVc2VyU3RhdHVzKCkge1xuICAgICAgICAgICAgcmV0dXJuICRyb290U2NvcGUudXNlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNpZ251cChlbWFpbCwgcGFzc3dvcmQpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvdXNlci9zaWdudXAnLCB7dXNlcm5hbWU6IGVtYWlsLCBwYXNzd29yZDogcGFzc3dvcmR9KVxuICAgICAgICAgICAgICAgIC50aGVuKHN1Y2Nlc3NIYW5kbGVyLCBlcnJvckhhbmRsZXIpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzSGFuZGxlcihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNldENyZWRlbnRpYWxzKHJlc3BvbnNlLmRhdGEudXNlcik7XG4gICAgICAgICAgICAgICAgSG91c2Vob2xkLnNhdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBsb2dpbihlbWFpbCwgcGFzc3dvcmQpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBlbWFpbCxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvdXNlci9sb2dpbicsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oc3VjY2Vzc0hhbmRsZXIsIGVycm9ySGFuZGxlcik7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3NIYW5kbGVyKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgc2V0Q3JlZGVudGlhbHMocmVzcG9uc2UuZGF0YS51c2VyKTtcbiAgICAgICAgICAgICAgICBIb3VzZWhvbGQucmV0cmlldmVGb3JVc2VyKHJlc3BvbnNlLmRhdGEudXNlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9ySGFuZGxlcihyZXNwb25zZSwgZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICBjbGVhckNyZWRlbnRpYWxzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBsb2dvdXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAuZ2V0KCd1c2VyL2xvZ291dCcpXG4gICAgICAgICAgICAgICAgLnRoZW4oc3VjY2Vzc0hhbmRsZXIsIGVycm9ySGFuZGxlcik7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3NIYW5kbGVyKCkge1xuICAgICAgICAgICAgICAgIGNsZWFyQ3JlZGVudGlhbHMoKTtcbiAgICAgICAgICAgICAgICBIb3VzZWhvbGQuY2xlYXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3JIYW5kbGVyKCkge1xuICAgICAgICAgICAgICAgIGNsZWFyQ3JlZGVudGlhbHMoKTtcbiAgICAgICAgICAgICAgICBIb3VzZWhvbGQuY2xlYXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldENyZWRlbnRpYWxzKHVzZXIpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUudXNlciA9IHVzZXI7XG4gICAgICAgICAgICByZXR1cm4gJGNvb2tpZXMucHV0T2JqZWN0KCd1c2VyJywgdXNlcik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRDcmVkZW50aWFscygpIHtcbiAgICAgICAgICAgIHJldHVybiAkY29va2llcy5nZXRPYmplY3QoJ3VzZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNsZWFyQ3JlZGVudGlhbHMoKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLnVzZXIgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuICRjb29raWVzLnJlbW92ZSgndXNlcicpO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLnNlcnZpY2UoJ0hvdXNlaG9sZCcsIGhvdXNlaG9sZFNlcnZpY2UpO1xuXG4gICAgaG91c2Vob2xkU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckcm9vdFNjb3BlJ107XG5cbiAgICBmdW5jdGlvbiBob3VzZWhvbGRTZXJ2aWNlKCRodHRwLCAkcm9vdFNjb3BlKSB7XG4gICAgICAgIC8vIFRvZG86IGNvbnNpZGVyIG1vdmluZyB0byBzZXJ2ZXI/P1xuICAgICAgICB2YXIgSG91c2Vob2xkID0gIHtcbiAgICAgICAgICAgIGNoaWxkQ291bnQ6IG51bGwsXG4gICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICBvdGhlck1lbWJlcnNDb3VudDogbnVsbCxcbiAgICAgICAgICAgIG90aGVyTWVtYmVyczogW10sXG4gICAgICAgICAgICBjb21wbGV0ZWRBcHBsaWNhdGlvbjogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICAkcm9vdFNjb3BlLmhvdXNlaG9sZCA9IGFuZ3VsYXIuY29weShIb3VzZWhvbGQpO1xuXG4gICAgICAgIHZhciBzZXJ2aWNlID0ge307XG4gICAgICAgIHNlcnZpY2UucmV0cmlldmVGb3JVc2VyID0gcmV0cmlldmVGb3JVc2VyO1xuICAgICAgICBzZXJ2aWNlLnNhdmUgPSBzYXZlO1xuICAgICAgICBzZXJ2aWNlLmNsZWFyID0gY2xlYXI7XG4gICAgICAgIHNlcnZpY2Uuc3VibWl0ID0gc3VibWl0O1xuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gcmV0cmlldmVGb3JVc2VyKHVzZXIpIHtcbiAgICAgICAgICAgICRodHRwLmdldCgnL2hvdXNlaG9sZC8nICsgdXNlci5faWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5ob3VzZWhvbGQgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2F2ZSgpIHtcbiAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS51c2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHJvb3RTY29wZS5ob3VzZWhvbGQudXNlcklkID0gJHJvb3RTY29wZS51c2VyLl9pZDtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvaG91c2Vob2xkJywgJHJvb3RTY29wZS5ob3VzZWhvbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3VibWl0KCkge1xuICAgICAgICAgICAgaWYgKCRyb290U2NvcGUudXNlcikge1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuaG91c2Vob2xkLnVzZXJJZCA9ICRyb290U2NvcGUudXNlci5faWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvaG91c2Vob2xkJywgJHJvb3RTY29wZS5ob3VzZWhvbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2xlYXIgKCkge1xuICAgICAgICAgICAgJHJvb3RTY29wZS5ob3VzZWhvbGQgPSBPYmplY3QuY3JlYXRlKEhvdXNlaG9sZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgICAuc2VydmljZSgnU2VjdGlvbnMnLCBzZWN0aW9uc1NlcnZpY2UpO1xuXG4gICAgc2VjdGlvbnNTZXJ2aWNlLiRpbmplY3QgPSBbJyRyb290U2NvcGUnICwnJHN0YXRlJ107XG5cbiAgICBmdW5jdGlvbiBzZWN0aW9uc1NlcnZpY2UoJHJvb3RTY29wZSwgJHN0YXRlKSB7XG4gICAgICAgIHZhciBzZWN0aW9ucyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0xldFxc4oCZcyBHZXQgU3RhcnRlZCEgJyxcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ3N0YXJ0JyxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTdW1tYXJ5QWZ0ZXI6IGZhbHNlXG4gICAgICAgICAgICB9LCAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0NoaWxkcmVuJyxcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2NoaWxkcmVuJyxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTdW1tYXJ5QWZ0ZXI6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnSG91c2Vob2xkIE1lbWJlcnMnLFxuICAgICAgICAgICAgICAgIHN0YXRlOiAnaG91c2Vob2xkJyxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTdW1tYXJ5QWZ0ZXI6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdDaGlsZHJlblxcJ3MgSW5jb21lJyxcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2NoaWxkSW5jb21lJyxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTdW1tYXJ5QWZ0ZXI6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnSG91c2Vob2xkIEluY29tZScsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdob3VzZWhvbGRJbmNvbWUnLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvd1N1bW1hcnlBZnRlcjogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0Rpc2Nsb3N1cmUnLFxuICAgICAgICAgICAgICAgIHN0YXRlOiAnZGlzY2xvc3VyZScsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93U3VtbWFyeUFmdGVyOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1NpZ24gYW5kIENvbmZpcm0nLFxuICAgICAgICAgICAgICAgIHN0YXRlOiAnc2lnbmF0dXJlJyxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTdW1tYXJ5QWZ0ZXI6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIHZhciBpbmRleGVkU2VjdGlvbnMgPSBfLmluZGV4Qnkoc2VjdGlvbnMsICdzdGF0ZScpO1xuXG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgbWVhbnNUZXN0OiB0cnVlLFxuICAgICAgICAgICAgc2VjdGlvbnM6IHNlY3Rpb25zLFxuICAgICAgICAgICAgaW5kZXhlZFNlY3Rpb25zOiBpbmRleGVkU2VjdGlvbnMsXG4gICAgICAgICAgICBuYXZpZ2F0ZVRvTmV4dDogbmF2aWdhdGVUb05leHQsXG4gICAgICAgICAgICBnb0JhY2s6IGdvQmFjayxcbiAgICAgICAgICAgIHVwZGF0ZVJlcXVpcmVkU2VjdGlvbnM6IHVwZGF0ZVJlcXVpcmVkU2VjdGlvbnNcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gc2VydmljZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVJlcXVpcmVkU2VjdGlvbnMoKSB7XG4gICAgICAgICAgICB2YXIgaG91c2Vob2xkID0gJHJvb3RTY29wZS5ob3VzZWhvbGQ7XG4gICAgICAgICAgICBzZXJ2aWNlLm1lYW5zVGVzdCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgYXNzaXN0YW5jZVByb2dyYW1Ib3VzZWhvbGQgPSBpc0Fzc2lzdGFuY2VIb3VzZWhvbGQoaG91c2Vob2xkKTtcbiAgICAgICAgICAgIHZhciBjYXRlZ29yaWNhbGx5UXVhbGlmaWVkID0gYWxsU3R1ZGVudHNDYXRlZ29yaWNhbGx5UXVhbGlmeShob3VzZWhvbGQpO1xuXG4gICAgICAgICAgICBpZiAoYXNzaXN0YW5jZVByb2dyYW1Ib3VzZWhvbGQgfHwgY2F0ZWdvcmljYWxseVF1YWxpZmllZCkge1xuICAgICAgICAgICAgICAgIHNlcnZpY2UubWVhbnNUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaW5kZXhlZFNlY3Rpb25zWydjaGlsZEluY29tZSddLnJlcXVpcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaW5kZXhlZFNlY3Rpb25zWydob3VzZWhvbGQnXS5yZXF1aXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGluZGV4ZWRTZWN0aW9uc1snaG91c2Vob2xkSW5jb21lJ10ucmVxdWlyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24oc2VjdGlvbikge1xuICAgICAgICAgICAgICAgIHNlY3Rpb24ucmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpc0Fzc2lzdGFuY2VIb3VzZWhvbGQoaG91c2Vob2xkKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudENoaWxkO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgaG91c2Vob2xkLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudENoaWxkID0gaG91c2Vob2xkLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q2hpbGQuYXNzaXN0YW5jZVByb2dyYW0gJiYgY3VycmVudENoaWxkLmFzc2lzdGFuY2VQcm9ncmFtLnBhcnRpY2lwYW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFsbFN0dWRlbnRzQ2F0ZWdvcmljYWxseVF1YWxpZnkoaG91c2Vob2xkKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudENoaWxkLCBjaGlsZFF1YWxpZmllcztcblxuICAgICAgICAgICAgdmFyIGVucm9sbGVkQ2hpbGRyZW4gPSBfLmZpbHRlcihob3VzZWhvbGQuY2hpbGRyZW4sIGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYy5lbnJvbGxlZCA9PT0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBtdXN0IGhhdmUga2lkcyB0byBxdWFsaWZ5XG4gICAgICAgICAgICBpZiAoZW5yb2xsZWRDaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vYWxsIGNoaWxkcmVuIGFyZSBjYXRlZ29yaWNhbGx5IHF1YWxpZmllZFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgZW5yb2xsZWRDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDaGlsZCA9IGhvdXNlaG9sZC5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRDaGlsZC5zcGVjaWFsU3RhdHVzLmZvc3RlckNoaWxkICYmXG4gICAgICAgICAgICAgICAgICAgICFjdXJyZW50Q2hpbGQuc3BlY2lhbFN0YXR1cy5ob21lbGVzc01pZ3JhbnRSdW5hd2F5ICYmXG4gICAgICAgICAgICAgICAgICAgICFjdXJyZW50Q2hpbGQuc3BlY2lhbFN0YXR1cy5oZWFkU3RhcnRQYXJ0aWNpcGFudFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZmluZE5leHQoY3VycmVudFN0YXRlKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gXy5maW5kSW5kZXgoc2VjdGlvbnMsIGZ1bmN0aW9uKHNlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VjdGlvbi5zdGF0ZSA9PT0gY3VycmVudFN0YXRlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIExvb2sgZm9yIHRoZSBuZXh0IHJlcXVpcmVkIHNlY3Rpb25cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBjdXJyZW50SW5kZXggKyAxOyBpIDwgc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbnNbaV0ucmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb25zW2ldLnN0YXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIG5vIG1vcmUgcmVxdWlyZWQgc2VjdGlvbnMsIHdlJ3JlIGRvbmUuXG4gICAgICAgICAgICByZXR1cm4gJ2NvbmZpcm1hdGlvbic7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBuYXZpZ2F0ZVRvTmV4dCgpIHtcbiAgICAgICAgICAgIHZhciBuZXh0U2VjdGlvbjtcbiAgICAgICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSAkcm9vdFNjb3BlLmN1cnJlbnRTdGF0ZSB8fCAkc3RhdGUuJGN1cnJlbnQuc2VsZi5uYW1lO1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzU3RhdGUgPSAkcm9vdFNjb3BlLnByZXZpb3VzU3RhdGUgfHwgJ3N0YXJ0JztcbiAgICAgICAgICAgIC8vIElmIG9uIHRoZSBzdW1tYXJ5IHBhZ2UgZ28gdG8gdGhlIG5leHQgZm9ybSBwYWdlXG4gICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAnc29GYXInKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFNlY3Rpb24gID0gZmluZE5leHQocHJldmlvdXNTdGF0ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBoYXBwZW5zIGlmIHlvdSByZWZyZXNoIHRoZSBwYWdlIG9uIHRoZSBzbyBmYXIgc2NyZWVuLlxuICAgICAgICAgICAgICAgICAgICAvLyBDb21lIHVwIHdpdGggc29tZXRoaW5nIGJldHRlcj8gc3Rhc2ggaW4gdXJsP1xuICAgICAgICAgICAgICAgICAgICBuZXh0U2VjdGlvbiA9ICdzdGFydCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleGVkU2VjdGlvbnNbY3VycmVudFN0YXRlXS5zaG93U3VtbWFyeUFmdGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgb24gYSBmb3JtIHBhZ2UsIGdvIHRvIHN1bW1hcnkgcGFnZVxuICAgICAgICAgICAgICAgIG5leHRTZWN0aW9uID0gJ3NvRmFyJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgeW91J3JlIG9uIHNvbWUgb3RoZXIgcGFnZSBsaWtlIHN0YXJ0IG9yIHNpZ25hdHVyZVxuICAgICAgICAgICAgICAgIC8vIE1vdmUgYWhlYWQgYXMgbm9ybWFsXG4gICAgICAgICAgICAgICAgbmV4dFNlY3Rpb24gID0gZmluZE5leHQoY3VycmVudFN0YXRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHN0YXRlLmdvKG5leHRTZWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c1N0YXRlID0gJHJvb3RTY29wZS5wcmV2aW91c1N0YXRlIHx8ICdzdGFydCc7XG4gICAgICAgICAgICAkc3RhdGUuZ28ocHJldmlvdXNTdGF0ZSk7XG4gICAgICAgIH1cblxuICAgIH1cblxufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
