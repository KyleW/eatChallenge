!function(){"use strict";function e(e){function r(e){return function(r,l){throw e(r,l),r}}e.decorator("$exceptionHandler",r),r.$inject=["$delegate"]}function r(e){e.$on("$stateChangeSuccess",function(){document.body.scrollTop=document.documentElement.scrollTop=0}),e.$on("$stateChangeSuccess",function(r,l,o,t,n){e.previousState=t.name,e.currentState=l.name})}function l(e){e.theme("default").primaryPalette("teal").backgroundPalette("brown",{"default":"50"})}function o(e,r){function l(e,r){r.otherwise("/"),e.state("start",{url:"/",views:{main:{templateUrl:"../views/start.html",controller:"mainController"}}}).state("children",{url:"/children",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/children.html",controller:"mainController"}}}).state("childIncome",{url:"/childIncome",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/childIncome.html",controller:"mainController"}}}).state("household",{url:"/household",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/household.html",controller:"mainController"}}}).state("householdIncome",{url:"/household-income",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/householdIncome.html",controller:"householdIncome"}}}).state("disclosure",{url:"/disclosure",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/disclosure.html",controller:"mainController"}}}).state("signature",{url:"/signature",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/signature.html",controller:"mainController"}}}).state("confirmation",{url:"/confirmation",views:{main:{templateUrl:"../views/confirmation.html",controller:"mainController"}}}).state("export",{url:"/export",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/export.html",controller:"exportController"}}}).state("signup",{url:"/signup",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/signup.html",controller:"signupController"}}}).state("login",{url:"/login",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/login.html",controller:"loginController"}}}).state("soFar",{url:"/so-far",views:{"user-controls":{templateUrl:"../views/user-controls.html",controller:"userControlsController"},main:{templateUrl:"../views/soFar.html",controller:"mainController"}}})}l(e,r)}angular.module("eatChallengeApp",["ngCookies","ngCsv","ngMaterial","ngSanitize","ui.router"]).config(o).config(l).config(e).run(r),e.$inject=["$provide"],r.$inject=["$rootScope"],l.$inject=["$mdThemingProvider"],o.$inject=["$stateProvider","$urlRouterProvider"]}();
!function(){"use strict";function e(){var e={scope:{member:"="},restrict:"A",replace:!0,templateUrl:"../views/income.html",link:o};return e}function o(e){e.incomeSources={work:{vaule:"work",label:"Earnings from work",frequency:["weekly","biweekly","2x month","monthly"],annotation:"A child has a job where they earn salary or wages. Please report gross income. This is the amount of income earned before any money is taken out for taxes or deductions. Include salary, wages, and cash bonuses."},socialSecurity:{vaule:"socialSecurity",label:"Social Security Disability Payments or Survivor’s Benefits ",frequency:["monthly"]},otherPerson:{vaule:"otherPerson",label:"Income from persons outside the household",frequency:["weekly","biweekly","2x month","monthly"],annotation:"A friend or extended family member regularly gives a child spending money."},otherSource:{vaule:"otherSource",label:"Income from any other source",frequency:["weekly","biweekly","2x month","monthly"],annotation:"A child receives income from a private pension fund, annuity, or trust."}},0===e.member.incomeSources.length&&(e.member.incomeSources=[],Object.keys(e.incomeSources).forEach(function(o){e.member.incomeSources.push({type:o,amount:null,frequency:null})}))}angular.module("eatChallengeApp").directive("incomeQuestions",e)}();
!function(){"use strict";function e(){return{scope:{model:"="},restrict:"A",replace:!0,templateUrl:"../views/yesno.html"}}angular.module("eatChallengeApp").directive("yesNoInput",e)}();
!function(){"use strict";function e(e,t,n,u,r,o){function s(){var e=d();e&&(u.user=e,o.retrieveForUser(e))}function i(){return u.user?!0:!1}function a(){return u.user}function c(e,n){function u(e){f(e.data.user),o.save()}function r(e){console.log(e)}return t.post("/user/signup",{username:e,password:n}).then(u,r)}function l(e,n){function u(e){f(e.data.user),e.data.household&&(o.set(e.data.household),r.go("soFar"))}function s(e){console.log(e),h()}var i={username:e,password:n};return t.post("/user/login",i).then(u,s)}function g(){function e(){h(),o.clear(),r.go("start")}function n(){h(),o.clear(),r.go("start")}return t.get("user/logout").then(e,n)}function f(t){return u.user=t,e.putObject("user",t)}function d(){return e.getObject("user")}function h(){return u.user=null,e.remove("user")}u.user=null,s();var p={};return p.isLoggedIn=i,p.getUserStatus=a,p.signup=c,p.login=l,p.logout=g,p.init=s,p}angular.module("eatChallengeApp").service("auth",e),e.$inject=["$cookies","$http","$q","$rootScope","$state","Household"]}();
!function(){function e(e,o){function t(){return c.household?c.household:void 0}function u(o){e.get("/household/"+o._id).then(function(e){c.household=e.data})}function n(t){return t=t||c.household,o.user&&(t.userId=o.user._id),e.post("/household",t)}function r(){c.household=Object.create(h)}var h={childCount:0,children:[],otherMembersCount:0,otherMembers:[],completedApplication:!1},c={};return c.get=t,c.retrieveForUser=u,c.save=n,c.clear=r,c.household=Object.create(h),c}angular.module("eatChallengeApp").service("Household",e),e.$inject=["$http","$rootScope"]}();
!function(){"use strict";function e(e,t){function r(e){c.meansTest=!0;var t=a(e),r=n(e);return t||r?(c.meansTest=!1,l.childIncome.required=!1,l.household.required=!1,void(l.householdIncome.required=!1)):void u.forEach(function(e){e.required=!0})}function a(e){for(var t,r=0;r<e.children.length;r++)if(t=e.children[r],t.assistanceProgram&&t.assistanceProgram.participant)return!0;return!1}function n(e){var t,r=_.filter(e.children,function(e){return e.enrolled===!0});if(0===r.length)return!1;for(var a=0;a<r.length;a++)if(t=e.children[a],!t.specialStatus.fosterChild&&!t.specialStatus.homelessMigrantRunaway&&!t.specialStatus.headStartParticipant)return!1;return!0}function o(e){for(var t=_.findIndex(u,function(t){return t.state===e}),r=t+1;r<u.length;r++)if(u[r].required)return u[r].state;return"confirmation"}function i(){var r,a=e.currentState||t.$current.self.name,n=e.previousState||"start";r="soFar"===a?n?o(n):"start":l[a].showSummaryAfter?"soFar":o(a),t.go(r)}function s(){var r=e.previousState||"start";t.go(r)}var u=[{label:"Let’s Get Started! ",state:"start",completed:!1,required:!0,showSummaryAfter:!1},{label:"Children",state:"children",completed:!1,required:!0,showSummaryAfter:!0},{label:"Household Members",state:"household",completed:!1,required:!0,showSummaryAfter:!0},{label:"Children's Income",state:"childIncome",completed:!1,required:!0,showSummaryAfter:!0},{label:"Household Income",state:"householdIncome",completed:!1,required:!0,showSummaryAfter:!0},{label:"Disclosure",state:"disclosure",completed:!1,required:!0,showSummaryAfter:!1},{label:"Sign and Confirm",state:"signature",completed:!1,required:!0,showSummaryAfter:!1}],l=_.indexBy(u,"state"),c={meansTest:!0,sections:u,indexedSections:l,navigateToNext:i,goBack:s,updateRequiredSections:r};return c}angular.module("eatChallengeApp").service("Sections",e),e.$inject=["$rootScope","$state"]}();
!function(){"use strict";function t(t,e){t.get("/household/completed").then(function(t){e.completedApplications=t.data})}angular.module("eatChallengeApp").controller("exportController",t),t.$inject=["$http","$scope"]}();
!function(){"use strict";function e(e,o,n,t,a){function l(){n.save(r.household).then(function(){t.updateRequiredSections(r.household),t.navigateToNext()})}var r=e;r.household=n.household,e.$watch(function(){return n.household},function(){r.household=n.household}),r.navigateToNextSection=l;var s={categoryName:"work",headline:"Work Income",question:"earn money through work",sources:[{vaule:"work",checkboxLabel:"Work outside the home in a non-military capacity ",shortLabel:"Earnings from work",frequency:["weekly","biweekly","2x month","monthly"],annotation:"Please report gross income. This is the amount of income earned before any money is taken out for taxes or deductions. Include salary, wages, and cash bonuses."},{vaule:"selfEmployed",shortLabel:"Earnings from self employment",checkboxLabel:"Self-employed",frequency:["weekly","biweekly","2x month","monthly"],annotation:"For household members that are self-employed, report income from that work as a net amount. This is calculated by subtracting the total operating expenses of the business from its gross receipts or revenue."},{vaule:"onStrike",checkboxLabel:"On strike",shortLabel:"Strike Benefits",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"military",checkboxLabel:"In the U.S. military",shortLabel:"Basic pay and cash bonuses",frequency:["weekly","biweekly","2x month","monthly"],annotation:"Please do not include combat pay, FSSA, or private housing allowances."}]},i={categoryName:"publicAssistance",headline:"Public Assistance",question:"receive any public assistance benefits",sources:[{vaule:"unemployment",checkboxLabel:"Unemployment benefits",shortLabel:"Unemployment benefits",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"workersComp",checkboxLabel:"Worker’s compensation",shortLabel:"Worker’s compensation",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"ssi",checkboxLabel:"Supplemental Security Income (SSI)",shortLabel:"Supplemental Security Income (SSI)",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"cashAssistance",checkboxLabel:"Cash assistance from State or local government",shortLabel:"Cash assistance",frequency:["weekly","biweekly","2x month","monthly"],annotation:"This could include TANF or General Assistance money."},{vaule:"veteransBenefits",checkboxLabel:"Veteran’s benefits",shortLabel:"Veteran’s benefits",frequency:["weekly","biweekly","2x month","monthly"]}]},c={categoryName:"alimony",headline:"Alimony",question:"receive alimony payments",sources:[{vaule:"alimony",checkboxLabel:"alimony payments",shortLabel:"Alimony payment",frequency:["weekly","biweekly","2x month","monthly"],annotation:"If income is received from child support or alimony, only court-ordered payments should be reported here. Informal but regular payments should be reported later as “other” income."}]},h={categoryName:"childSupport",headline:"Child Support",question:"receive any child support",sources:[{vaule:"childSupport",checkboxLabel:"any child support",shortLabel:"Child support payment",frequency:["weekly","biweekly","2x month","monthly"],annotation:"If income is received from child support or childSupport, only court-ordered payments should be reported here. Informal but regular payments should be reported later as “other” income."}]},u={categoryName:"retirement",headline:"Pension and Retirement",question:"receive any pension or retirement money",sources:[{vaule:"socialSecurity",checkboxLabel:"Social Security (including railroad retirement and black lung benefits)",shortLabel:"Social security",frequency:["weekly","biweekly","2x month","monthly"],annotation:"Please include railroad retirement and black lung benefits"},{vaule:"privatePension",checkboxLabel:"Private pensions or disability",shortLabel:"Private pensions or disability",frequency:["weekly","biweekly","2x month","monthly"]}]},m={categoryName:"otherIncome",headline:"Other Income",question:"recieve money through any other source",sources:[{vaule:"trusts",checkboxLabel:"Income from trusts or estates",shortLabel:"Income from trusts or estates",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"annuities",checkboxLabel:"Annuities",shortLabel:"Income from annuities",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"investment",checkboxLabel:"Investment income",shortLabel:"Investment income",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"interest",checkboxLabel:"Earned interest",shortLabel:"Earned interest",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"rentalIncome",checkboxLabel:"Rental income",shortLabel:"Rental income",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"otherCash",checkboxLabel:"Regular cash payments from outside household",shortLabel:"Regular cash payments from outside household",frequency:["weekly","biweekly","2x month","monthly"],annotation:"Such cash payments should include regular child support or alimony payments received by the household that are not court-ordered."}]};r.incomeCategories=[s,i,c,h,u,m]}angular.module("eatChallengeApp").controller("householdIncome",e),e.$inject=["$scope","$state","Household","Sections"]}();
!function(){"use strict";function e(e,n){function o(){function e(e){r.disabled=!1,r.loginForm={},r.success="successfully logged in"}function o(e){r.error=!0,r.errorMessage="Something went wrong. Please try again",r.disabled=!1}r.error=!1,r.disabled=!0,n.login(l.email,l.password).then(e,o)}var r=e,l={};r.submit=o,r.user=l}angular.module("eatChallengeApp").controller("loginController",e),e.$inject=["$scope","auth"]}();
!function(){"use strict";function e(e,o,h,t,n,l,u,i){function s(){1===b.household.children.length&&(b.childrenLabel="child"),1===b.household.otherMembers.length&&(b.adultsLabel="adult")}function d(o){o>b.household.children.length&&e.get("/child").then(function(e){var h=e.data;b.household.children.push(h),d(o)})}function c(o){o>b.household.otherMembers.length&&e.get("/household-member").then(function(e){var h=e.data;h={},b.household.otherMembers.push(h),c(o)})}function r(e){return e.children.length>e.childCount&&(e.children=e.children.slice(0,e.childCount)),e}function a(e){return e.otherMembers.length>e.otherMembersCount&&e.otherMembers.slice(0,e.otherMembersCount),e}function m(){u.save(b.household),i.updateRequiredSections(b.household),i.goBack()}function f(){r(b.household),a(b.household),u.save(b.household).then(function(){i.updateRequiredSections(b.household),i.navigateToNext()})}function g(){n.household.completed=!0,f()}var b=n;b.schoolDistrict="Oakland Unified School District",b.household=u.household,n.$watch(function(){return u.household},function(){b.household=u.household}),b.meansTest=i.meansTest,b.childrenLabel="children",b.adultsLabel="adults",b.goBack=m,b.navigateToNextSection=f,b.submitApplication=g,s(),n.$watch("household.childCount",d),n.$watch("household.otherMembersCount",c)}angular.module("eatChallengeApp").controller("mainController",e),e.$inject=["$http","$interval","$mdDialog","$mdMedia","$scope","$state","Household","Sections"]}();
!function(){"use strict";function e(e,t,n){var c=e;c.currentState=t.$current.self.name,c.sections=n.sections}angular.module("eatChallengeApp").controller("sideNavController",e),e.$inject=["$scope","$state","Sections"]}();
!function(){"use strict";function e(e,s){function n(){function e(){o.disabled=!1,o.signupForm={},o.success="successfully created an account",console.log("signup success")}function n(e){console.log(e),o.error=!0,o.errorMessage="Something went wrong. Please try again",o.disabled=!1,console.log("signup fail")}o.error=!1,o.disabled=!0,s.signup(l.email,l.password).then(e,n)}console.log(s.getUserStatus());var o=e,l={};o.submit=n,o.user=l}angular.module("eatChallengeApp").controller("signupController",e),e.$inject=["$scope","auth"]}();
!function(){"use strict";function e(e,t,o){function u(){o.logout(),r.loggedIn=o.getUserStatus()}var r=t;r.loggedIn=o.getUserStatus(),r.logout=u,r.user=e.user,e.$watch("user",function(){r.loggedIn=o.getUserStatus(),r.user=e.user})}angular.module("eatChallengeApp").controller("userControlsController",e),e.$inject=["$rootScope","$scope","auth"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImRpcmVjdGl2ZXMvaW5jb21lLmpzIiwiZGlyZWN0aXZlcy95ZXNuby5qcyIsInNlcnZpY2VzL2F1dGguanMiLCJzZXJ2aWNlcy9ob3VzZWhvbGQuanMiLCJzZXJ2aWNlcy9zZWN0aW9ucy5qcyIsImNvbnRyb2xsZXJzL2V4cG9ydC5qcyIsImNvbnRyb2xsZXJzL2hvdXNlaG9sZEluY29tZS5qcyIsImNvbnRyb2xsZXJzL2xvZ2luLmpzIiwiY29udHJvbGxlcnMvbWFpbi5qcyIsImNvbnRyb2xsZXJzL3NpZGVuYXYuanMiLCJjb250cm9sbGVycy9zaWdudXAuanMiLCJjb250cm9sbGVycy91c2VyQ29udHJvbHMuanMiXSwibmFtZXMiOlsiZXJyb3JEZWNvcmF0b3IiLCIkcHJvdmlkZSIsImRlY29yYXRlRXJyb3IiLCIkZGVsZWdhdGUiLCJleGNlcHRpb24iLCJjYXVzZSIsImRlY29yYXRvciIsIiRpbmplY3QiLCJzY3JvbGxlciIsIiRyb290U2NvcGUiLCIkb24iLCJkb2N1bWVudCIsImJvZHkiLCJzY3JvbGxUb3AiLCJkb2N1bWVudEVsZW1lbnQiLCJldiIsInRvIiwidG9QYXJhbXMiLCJmcm9tIiwiZnJvbVBhcmFtcyIsInByZXZpb3VzU3RhdGUiLCJuYW1lIiwiY3VycmVudFN0YXRlIiwibWF0ZXJpYWxEZXNpZ25UaGVtZXIiLCIkbWRUaGVtaW5nUHJvdmlkZXIiLCJ0aGVtZSIsInByaW1hcnlQYWxldHRlIiwiYmFja2dyb3VuZFBhbGV0dGUiLCJkZWZhdWx0Iiwicm91dGVyQ29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJyb3V0ZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwibWFpbiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInVzZXItY29udHJvbHMiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwicnVuIiwiaW5jb21lRGlyZWN0aXZlIiwiZGlyZWN0aXZlIiwic2NvcGUiLCJtZW1iZXIiLCJyZXN0cmljdCIsInJlcGxhY2UiLCJsaW5rIiwiaW5jb21lU291cmNlcyIsIndvcmsiLCJ2YXVsZSIsImxhYmVsIiwiZnJlcXVlbmN5IiwiYW5ub3RhdGlvbiIsInNvY2lhbFNlY3VyaXR5Iiwib3RoZXJQZXJzb24iLCJvdGhlclNvdXJjZSIsImxlbmd0aCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiaW5jb21lU291cmNlIiwicHVzaCIsInR5cGUiLCJhbW91bnQiLCJ5ZXNOb0lucHV0IiwibW9kZWwiLCJBdXRoU2VydmljZSIsIiRjb29raWVzIiwiJGh0dHAiLCIkcSIsIiRzdGF0ZSIsIkhvdXNlaG9sZCIsImluaXQiLCJ1c2VyIiwiZ2V0Q3JlZGVudGlhbHMiLCJyZXRyaWV2ZUZvclVzZXIiLCJpc0xvZ2dlZEluIiwiZ2V0VXNlclN0YXR1cyIsInNpZ251cCIsImVtYWlsIiwicGFzc3dvcmQiLCJzdWNjZXNzSGFuZGxlciIsInJlc3BvbnNlIiwic2V0Q3JlZGVudGlhbHMiLCJkYXRhIiwic2F2ZSIsImVycm9ySGFuZGxlciIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJwb3N0IiwidXNlcm5hbWUiLCJ0aGVuIiwibG9naW4iLCJob3VzZWhvbGQiLCJzZXQiLCJnbyIsImNsZWFyQ3JlZGVudGlhbHMiLCJsb2dvdXQiLCJjbGVhciIsImdldCIsInB1dE9iamVjdCIsImdldE9iamVjdCIsInJlbW92ZSIsInNlcnZpY2UiLCJob3VzZWhvbGRTZXJ2aWNlIiwiX2lkIiwidXNlcklkIiwiY3JlYXRlIiwiY2hpbGRDb3VudCIsImNoaWxkcmVuIiwib3RoZXJNZW1iZXJzQ291bnQiLCJvdGhlck1lbWJlcnMiLCJjb21wbGV0ZWRBcHBsaWNhdGlvbiIsInNlY3Rpb25zU2VydmljZSIsInVwZGF0ZVJlcXVpcmVkU2VjdGlvbnMiLCJtZWFuc1Rlc3QiLCJhc3Npc3RhbmNlUHJvZ3JhbUhvdXNlaG9sZCIsImlzQXNzaXN0YW5jZUhvdXNlaG9sZCIsImNhdGVnb3JpY2FsbHlRdWFsaWZpZWQiLCJhbGxTdHVkZW50c0NhdGVnb3JpY2FsbHlRdWFsaWZ5IiwiaW5kZXhlZFNlY3Rpb25zIiwicmVxdWlyZWQiLCJzZWN0aW9ucyIsInNlY3Rpb24iLCJjdXJyZW50Q2hpbGQiLCJpIiwiYXNzaXN0YW5jZVByb2dyYW0iLCJwYXJ0aWNpcGFudCIsImVucm9sbGVkQ2hpbGRyZW4iLCJfIiwiZmlsdGVyIiwiYyIsImVucm9sbGVkIiwic3BlY2lhbFN0YXR1cyIsImZvc3RlckNoaWxkIiwiaG9tZWxlc3NNaWdyYW50UnVuYXdheSIsImhlYWRTdGFydFBhcnRpY2lwYW50IiwiZmluZE5leHQiLCJjdXJyZW50SW5kZXgiLCJmaW5kSW5kZXgiLCJuYXZpZ2F0ZVRvTmV4dCIsIm5leHRTZWN0aW9uIiwiJGN1cnJlbnQiLCJzZWxmIiwic2hvd1N1bW1hcnlBZnRlciIsImdvQmFjayIsImNvbXBsZXRlZCIsImluZGV4QnkiLCJleHBvcnRDb250cm9sbGVyIiwiJHNjb3BlIiwiY29tcGxldGVkQXBwbGljYXRpb25zIiwiaG91c2Vob2xkSW5jb21lIiwiU2VjdGlvbnMiLCJIb3VzZWhvbGRJbmNvbWUiLCJuYXZpZ2F0ZVRvTmV4dFNlY3Rpb24iLCJ2bSIsIiR3YXRjaCIsImNhdGVnb3J5TmFtZSIsImhlYWRsaW5lIiwicXVlc3Rpb24iLCJzb3VyY2VzIiwiY2hlY2tib3hMYWJlbCIsInNob3J0TGFiZWwiLCJwdWJsaWNBc3Npc3RhbmNlIiwiYWxpbW9ueSIsImNoaWxkU3VwcG9ydCIsInJldGlyZW1lbnQiLCJvdGhlckluY29tZSIsImluY29tZUNhdGVnb3JpZXMiLCJsb2dpbkNvbnRyb2xsZXIiLCJhdXRoIiwic3VibWl0IiwiZGlzYWJsZWQiLCJsb2dpbkZvcm0iLCJzdWNjZXNzIiwiZXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJtYWluQ29udHJvbGxlciIsIiRpbnRlcnZhbCIsIiRtZERpYWxvZyIsIiRtZE1lZGlhIiwiY2hpbGRyZW5MYWJlbCIsImFkdWx0c0xhYmVsIiwiYWRkQ2hpbGQiLCJuZXdWYWwiLCJuZXdDaGlsZCIsImFkZE90aGVyTWVtYmVyIiwibmV3SG91c2Vob2xkTWVtYmVyIiwidHJpbUNoaWxkcmVuIiwic2xpY2UiLCJ0cmltT3RoZXJNZW1iZXJzIiwic3VibWl0QXBwbGljYXRpb24iLCJzY2hvb2xEaXN0cmljdCIsInNpZGVOYXZDb250cm9sbGVyIiwic2lnbnVwQ29udHJvbGxlciIsInNpZ251cEZvcm0iLCJ1c2VyQ29udHJvbHNDb250cm9sbGVyIiwibG9nZ2VkSW4iXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0ksWUFZQSxTQUFTQSxHQUFlQyxHQUdwQixRQUFTQyxHQUFjQyxHQUNuQixNQUFPLFVBQVNDLEVBQVdDLEdBRXZCLEtBREFGLEdBQVVDLEVBQVdDLEdBQ2ZELEdBTGRILEVBQVNLLFVBQVUsb0JBQXFCSixHQUN4Q0EsRUFBY0ssU0FBVyxhQVc3QixRQUFTQyxHQUFTQyxHQUVkQSxFQUFXQyxJQUFJLHNCQUF1QixXQUNsQ0MsU0FBU0MsS0FBS0MsVUFBWUYsU0FBU0csZ0JBQWdCRCxVQUFZLElBSW5FSixFQUFXQyxJQUFJLHNCQUF1QixTQUFTSyxFQUFJQyxFQUFJQyxFQUFVQyxFQUFNQyxHQUNuRVYsRUFBV1csY0FBZ0JGLEVBQUtHLEtBQ2hDWixFQUFXYSxhQUFlTixFQUFHSyxPQU1yQyxRQUFTRSxHQUFxQkMsR0FDMUJBLEVBQW1CQyxNQUFNLFdBQ05DLGVBQWUsUUFDZkMsa0JBQWtCLFNBQVVDLFVBQVcsT0FLOUQsUUFBU0MsR0FBY0MsRUFBZ0JDLEdBS25DLFFBQVNDLEdBQU9GLEVBQWdCQyxHQUM1QkEsRUFBbUJFLFVBQVUsS0FFN0JILEVBQ0NJLE1BQU0sU0FDSEMsSUFBSyxJQUNMQyxPQVNJQyxNQUNJQyxZQUFhLHNCQUNiQyxXQUFZLHFCQUl2QkwsTUFBTSxZQUNIQyxJQUFLLFlBQ0xDLE9BQ0lJLGlCQUNJRixZQUFhLDhCQUNiQyxXQUFZLDBCQU1oQkYsTUFDQUMsWUFBYSx5QkFDYkMsV0FBWSxxQkFJbkJMLE1BQU0sZUFDSEMsSUFBSyxlQUNMQyxPQUNJSSxpQkFD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SSxrQkFJaEIsUUFBU0gsR0FBYUMsR0FDbEJDLFFBQVFDLElBQUlGLEdBQ1pxRSxFQUFHb0IsT0FBUSxFQUNYcEIsRUFBR3FCLGFBQWUseUNBQ2xCckIsRUFBR2lCLFVBQVcsRUFDZHJGLFFBQVFDLElBQUksZUF2QmhCbUUsRUFBR29CLE9BQVEsRUFFWHBCLEVBQUdpQixVQUFXLEVBRWRGLEVBQUs3RixPQUFPTCxFQUFLTSxNQUFPTixFQUFLTyxVQUM1QlksS0FBS1gsRUFBZ0JLLEdBWjFCRSxRQUFRQyxJQUFJa0YsRUFBSzlGLGdCQUNqQixJQUFJK0UsR0FBS04sRUFDTDdFLElBQ0ptRixHQUFHZ0IsT0FBU0EsRUFDWmhCLEVBQUduRixLQUFPQSxFQVZkckMsUUFDR0MsT0FBTyxtQkFDUEgsV0FBVyxtQkFBb0JpSyxHQUNsQ0EsRUFBaUJqTSxTQUFXLFNBQVU7Q0NOMUMsV0FDSSxZQU1BLFNBQVNtTSxHQUF1QmpNLEVBQVlrSixFQUFRcUIsR0FNaEQsUUFBU3pFLEtBQ0x5RSxFQUFLekUsU0FDTDBELEVBQUcwQyxTQUFXM0IsRUFBSzlGLGdCQVB2QixHQUFJK0UsR0FBS04sQ0FDVE0sR0FBRzBDLFNBQVczQixFQUFLOUYsZ0JBQ25CK0UsRUFBRzFELE9BQVNBLEVBQ1owRCxFQUFHbkYsS0FBT3JFLEVBQVdxRSxLQU9yQnJFLEVBQVd5SixPQUFPLE9BQVEsV0FDdEJELEVBQUcwQyxTQUFXM0IsRUFBSzlGLGdCQUNuQitFLEVBQUduRixLQUFPckUsRUFBV3FFLE9BakI3QnJDLFFBQ0dDLE9BQU8sbUJBQ1BILFdBQVcseUJBQTBCbUssR0FDeENBLEVBQXVCbk0sU0FBVyxhQUFjLFNBQVUiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJyxbJ25nQ29va2llcycsICduZ0NzdicsJ25nTWF0ZXJpYWwnLCAnbmdTYW5pdGl6ZScsICd1aS5yb3V0ZXInXSlcbiAgICAuY29uZmlnKHJvdXRlckNvbmZpZylcbiAgICAuY29uZmlnKG1hdGVyaWFsRGVzaWduVGhlbWVyKVxuICAgIC5jb25maWcoZXJyb3JEZWNvcmF0b3IpXG4gICAgLnJ1bihzY3JvbGxlcik7XG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIC8vU2hvdyBzb3VyY2UgbWFwcyBpbiBlcnJvcnNcbiAgICBlcnJvckRlY29yYXRvci4kaW5qZWN0ID0gWyckcHJvdmlkZSddO1xuICAgIGZ1bmN0aW9uIGVycm9yRGVjb3JhdG9yKCRwcm92aWRlKSB7XG4gICAgICAgICRwcm92aWRlLmRlY29yYXRvcignJGV4Y2VwdGlvbkhhbmRsZXInLCBkZWNvcmF0ZUVycm9yKTtcbiAgICAgICAgZGVjb3JhdGVFcnJvci4kaW5qZWN0ID0gWyckZGVsZWdhdGUnXTtcbiAgICAgICAgZnVuY3Rpb24gZGVjb3JhdGVFcnJvcigkZGVsZWdhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihleGNlcHRpb24sIGNhdXNlKSB7XG4gICAgICAgICAgICAgICAgJGRlbGVnYXRlKGV4Y2VwdGlvbiwgY2F1c2UpO1xuICAgICAgICAgICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvL1JvdXRpbmcgZW5oYW5jZW1lbnRzXG4gICAgc2Nyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZSddO1xuICAgIGZ1bmN0aW9uIHNjcm9sbGVyKCRyb290U2NvcGUpIHtcbiAgICAgICAgLy8gc2Nyb2xsIHRvIHRoZSB0b3Agb24gcGFnZSB0cmFuc2l0aW9uXG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBLZWVwIHRyYWNrIG9mIGhpc3RvcnlcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbihldiwgdG8sIHRvUGFyYW1zLCBmcm9tLCBmcm9tUGFyYW1zKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLnByZXZpb3VzU3RhdGUgPSBmcm9tLm5hbWU7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLmN1cnJlbnRTdGF0ZSA9IHRvLm5hbWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vQ29sb3IgdGhlbWVzIGZvciBidXR0b25zXG4gICAgbWF0ZXJpYWxEZXNpZ25UaGVtZXIuJGluamVjdCA9IFsnJG1kVGhlbWluZ1Byb3ZpZGVyJ107XG4gICAgZnVuY3Rpb24gbWF0ZXJpYWxEZXNpZ25UaGVtZXIoJG1kVGhlbWluZ1Byb3ZpZGVyKSB7XG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5wcmltYXJ5UGFsZXR0ZSgndGVhbCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5iYWNrZ3JvdW5kUGFsZXR0ZSgnYnJvd24nLCB7J2RlZmF1bHQnOiAnNTAnfSk7XG4gICAgfVxuXG4gICAgLy8gVUkgcm91dGVyXG4gICAgcm91dGVyQ29uZmlnLiRpbmplY3QgPSBbJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlciddO1xuICAgIGZ1bmN0aW9uIHJvdXRlckNvbmZpZyAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xuXG4gICAgICAgIHJvdXRlcigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKTtcbiAgICAgICAgLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIHJvdXRlcigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XG4gICAgICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG5cbiAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAgICAgICAuc3RhdGUoJ3N0YXJ0Jywge1xuICAgICAgICAgICAgICAgIHVybDogJy8nLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc3RhcnQuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdjaGlsZHJlbicsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvY2hpbGRyZW4nLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyAgICAgJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9jaGlsZHJlbi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdjaGlsZEluY29tZScsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvY2hpbGRJbmNvbWUnLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyAgICAgJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9jaGlsZEluY29tZS5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdob3VzZWhvbGQnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2hvdXNlaG9sZCcsXG4gICAgICAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICAgICAgICAndXNlci1jb250cm9scyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvdXNlci1jb250cm9scy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1c2VyQ29udHJvbHNDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9ob3VzZWhvbGQuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdob3VzZWhvbGRJbmNvbWUnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2hvdXNlaG9sZC1pbmNvbWUnLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvaG91c2Vob2xkSW5jb21lLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2hvdXNlaG9sZEluY29tZSdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ2Rpc2Nsb3N1cmUnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2Rpc2Nsb3N1cmUnLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvZGlzY2xvc3VyZS5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYWluQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3NpZ25hdHVyZScsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvc2lnbmF0dXJlJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgICd1c2VyLWNvbnRyb2xzJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy91c2VyLWNvbnRyb2xzLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJDb250cm9sc0NvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lnbmF0dXJlLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ2NvbmZpcm1hdGlvbicsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvY29uZmlybWF0aW9uJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgIC8vICd1c2VyLWNvbnRyb2xzJzoge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy91c2VyLWNvbnRyb2xzLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29udHJvbGxlcjogJ3VzZXJDb250cm9sc0NvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgLy8gICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvY29uZmlybWF0aW9uLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ2V4cG9ydCcsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvZXhwb3J0JyxcbiAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAndXNlci1jb250cm9scyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvdXNlci1jb250cm9scy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1c2VyQ29udHJvbHNDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9leHBvcnQuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZXhwb3J0Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3NpZ251cCcsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvc2lnbnVwJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgICd1c2VyLWNvbnRyb2xzJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy91c2VyLWNvbnRyb2xzLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJDb250cm9sc0NvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZ251cC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdsb2dpbicsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvbG9naW4nLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgJ3VzZXItY29udHJvbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3VzZXItY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndXNlckNvbnRyb2xzQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvbG9naW4uaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbG9naW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnc29GYXInLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3NvLWZhcicsXG4gICAgICAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICAgICAgICAndXNlci1jb250cm9scyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvdXNlci1jb250cm9scy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1c2VyQ29udHJvbHNDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vICAgICAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAvLyAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NvRmFyLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnaW5jb21lUXVlc3Rpb25zJywgaW5jb21lRGlyZWN0aXZlKTtcblxuICAgIGZ1bmN0aW9uIGluY29tZURpcmVjdGl2ZSgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgbWVtYmVyOiAnPSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvaW5jb21lLmh0bWwnLFxuICAgICAgICAgICAgbGluazogbGlua1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgfVxuXG4gICAgLy8gbGluay4kaW5qZWN0ID0gWydzY29wZSddO1xuXG4gICAgZnVuY3Rpb24gbGluayhzY29wZSkge1xuICAgICAgICBzY29wZS5pbmNvbWVTb3VyY2VzID0ge1xuICAgICAgICAgICAgd29yazoge1xuICAgICAgICAgICAgICAgIHZhdWxlOid3b3JrJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0Vhcm5pbmdzIGZyb20gd29yaycsXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ0EgY2hpbGQgaGFzIGEgam9iIHdoZXJlIHRoZXkgZWFybiBzYWxhcnkgb3Igd2FnZXMuIFBsZWFzZSByZXBvcnQgZ3Jvc3MgaW5jb21lLiBUaGlzIGlzIHRoZSBhbW91bnQgb2YgaW5jb21lIGVhcm5lZCBiZWZvcmUgYW55IG1vbmV5IGlzIHRha2VuIG91dCBmb3IgdGF4ZXMgb3IgZGVkdWN0aW9ucy4gSW5jbHVkZSBzYWxhcnksIHdhZ2VzLCBhbmQgY2FzaCBib251c2VzLicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc29jaWFsU2VjdXJpdHk6IHtcbiAgICAgICAgICAgICAgICB2YXVsZTonc29jaWFsU2VjdXJpdHknLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnU29jaWFsIFNlY3VyaXR5IERpc2FiaWxpdHkgUGF5bWVudHMgb3IgU3Vydml2b3LigJlzIEJlbmVmaXRzICcsXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnQSBjaGlsZCBpcyBibGluZCBvciBkaXNhYmxlZCBhbmQgcmVjZWl2ZXMgU29jaWFsIFNlY3VyaXR5IGJlbmVmaXRzLicsXG4gICAgICAgICAgICAgICAgICAgIC8vICcgQSBwYXJlbnQgaXMgZGlzYWJsZWQsIHJldGlyZWQsIG9yIGRlY2Vhc2VkLCBhbmQgdGhlaXIgY2hpbGQgcmVjZWl2ZXMgc29jaWFsIHNlY3VyaXR5IGJlbmVmaXRzJyxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvdGhlclBlcnNvbjoge1xuICAgICAgICAgICAgICAgIHZhdWxlOidvdGhlclBlcnNvbicsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdJbmNvbWUgZnJvbSBwZXJzb25zIG91dHNpZGUgdGhlIGhvdXNlaG9sZCcsXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ0EgZnJpZW5kIG9yIGV4dGVuZGVkIGZhbWlseSBtZW1iZXIgcmVndWxhcmx5IGdpdmVzIGEgY2hpbGQgc3BlbmRpbmcgbW9uZXkuJyxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvdGhlclNvdXJjZToge1xuICAgICAgICAgICAgICAgIHZhdWxlOidvdGhlclNvdXJjZScsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdJbmNvbWUgZnJvbSBhbnkgb3RoZXIgc291cmNlJyxcbiAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uOiAnQSBjaGlsZCByZWNlaXZlcyBpbmNvbWUgZnJvbSBhIHByaXZhdGUgcGVuc2lvbiBmdW5kLCBhbm51aXR5LCBvciB0cnVzdC4nLFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChzY29wZS5tZW1iZXIuaW5jb21lU291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHNjb3BlLm1lbWJlci5pbmNvbWVTb3VyY2VzID0gW107XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzY29wZS5pbmNvbWVTb3VyY2VzKS5mb3JFYWNoKGZ1bmN0aW9uKGluY29tZVNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLm1lbWJlci5pbmNvbWVTb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBpbmNvbWVTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBudWxsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3llc05vSW5wdXQnLCB5ZXNOb0lucHV0KTtcblxuICAgIGZ1bmN0aW9uIHllc05vSW5wdXQgKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgICBtb2RlbDogJz0nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3llc25vLmh0bWwnLFxuICAgICAgICB9O1xuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5zZXJ2aWNlKCdhdXRoJywgQXV0aFNlcnZpY2UpO1xuXG4gICAgQXV0aFNlcnZpY2UuJGluamVjdCA9IFsnJGNvb2tpZXMnLCAnJGh0dHAnLCAnJHEnLCAnJHJvb3RTY29wZScsICckc3RhdGUnLCAnSG91c2Vob2xkJ107XG5cbiAgICBmdW5jdGlvbiBBdXRoU2VydmljZSgkY29va2llcywgJGh0dHAsICRxLCAkcm9vdFNjb3BlLCAkc3RhdGUsIEhvdXNlaG9sZCkge1xuICAgICAgICAkcm9vdFNjb3BlLnVzZXIgPSBudWxsO1xuICAgICAgICBpbml0KCk7XG4gICAgICAgIHZhciBzZXJ2aWNlID0ge307XG4gICAgICAgIHNlcnZpY2UuaXNMb2dnZWRJbiA9IGlzTG9nZ2VkSW47XG4gICAgICAgIHNlcnZpY2UuZ2V0VXNlclN0YXR1cyA9IGdldFVzZXJTdGF0dXM7XG4gICAgICAgIHNlcnZpY2Uuc2lnbnVwID0gc2lnbnVwO1xuICAgICAgICBzZXJ2aWNlLmxvZ2luID0gbG9naW47XG4gICAgICAgIHNlcnZpY2UubG9nb3V0ID0gbG9nb3V0O1xuICAgICAgICBzZXJ2aWNlLmluaXQgPSBpbml0O1xuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciB1c2VyIG9uIHN0YXJ0XG4gICAgICAgICAgICB2YXIgdXNlciA9IGdldENyZWRlbnRpYWxzKCk7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUudXNlciA9IHVzZXI7XG4gICAgICAgICAgICAgICAgSG91c2Vob2xkLnJldHJpZXZlRm9yVXNlcih1c2VyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaXNMb2dnZWRJbigpIHtcbiAgICAgICAgICAgIGlmICgkcm9vdFNjb3BlLnVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFVzZXJTdGF0dXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gJHJvb3RTY29wZS51c2VyO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2lnbnVwKGVtYWlsLCBwYXNzd29yZCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy91c2VyL3NpZ251cCcsIHt1c2VybmFtZTogZW1haWwsIHBhc3N3b3JkOiBwYXNzd29yZH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oc3VjY2Vzc0hhbmRsZXIsIGVycm9ySGFuZGxlcik7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3NIYW5kbGVyKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgc2V0Q3JlZGVudGlhbHMocmVzcG9uc2UuZGF0YS51c2VyKTtcbiAgICAgICAgICAgICAgICBIb3VzZWhvbGQuc2F2ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBlcnJvckhhbmRsZXIoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGxvZ2luKGVtYWlsLCBwYXNzd29yZCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IGVtYWlsLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy91c2VyL2xvZ2luJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihzdWNjZXNzSGFuZGxlciwgZXJyb3JIYW5kbGVyKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2Vzc0hhbmRsZXIocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZXRDcmVkZW50aWFscyhyZXNwb25zZS5kYXRhLnVzZXIpO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmhvdXNlaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICBIb3VzZWhvbGQuc2V0KHJlc3BvbnNlLmRhdGEuaG91c2Vob2xkKTtcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdzb0ZhcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgY2xlYXJDcmVkZW50aWFscygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbG9nb3V0KCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLmdldCgndXNlci9sb2dvdXQnKVxuICAgICAgICAgICAgICAgIC50aGVuKHN1Y2Nlc3NIYW5kbGVyLCBlcnJvckhhbmRsZXIpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzSGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICBjbGVhckNyZWRlbnRpYWxzKCk7XG4gICAgICAgICAgICAgICAgSG91c2Vob2xkLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdzdGFydCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBlcnJvckhhbmRsZXIoKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJDcmVkZW50aWFscygpO1xuICAgICAgICAgICAgICAgIEhvdXNlaG9sZC5jbGVhcigpO1xuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnc3RhcnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldENyZWRlbnRpYWxzKHVzZXIpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUudXNlciA9IHVzZXI7XG4gICAgICAgICAgICByZXR1cm4gJGNvb2tpZXMucHV0T2JqZWN0KCd1c2VyJywgdXNlcik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRDcmVkZW50aWFscygpIHtcbiAgICAgICAgICAgIHJldHVybiAkY29va2llcy5nZXRPYmplY3QoJ3VzZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNsZWFyQ3JlZGVudGlhbHMoKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLnVzZXIgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuICRjb29raWVzLnJlbW92ZSgndXNlcicpO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLnNlcnZpY2UoJ0hvdXNlaG9sZCcsIGhvdXNlaG9sZFNlcnZpY2UpO1xuXG4gICAgaG91c2Vob2xkU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckcm9vdFNjb3BlJ107XG5cbiAgICBmdW5jdGlvbiBob3VzZWhvbGRTZXJ2aWNlKCRodHRwLCAkcm9vdFNjb3BlKSB7XG4gICAgICAgIC8vIFRvZG86IGNvbnNpZGVyIG1vdmluZyB0byBzZXJ2ZXI/P1xuICAgICAgICB2YXIgSG91c2Vob2xkID0gIHtcbiAgICAgICAgICAgIGNoaWxkQ291bnQ6IDAsXG4gICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICBvdGhlck1lbWJlcnNDb3VudDogMCxcbiAgICAgICAgICAgIG90aGVyTWVtYmVyczogW10sXG4gICAgICAgICAgICBjb21wbGV0ZWRBcHBsaWNhdGlvbjogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgc2VydmljZSA9IHt9O1xuICAgICAgICBzZXJ2aWNlLmdldCA9IGdldDtcbiAgICAgICAgc2VydmljZS5yZXRyaWV2ZUZvclVzZXIgPSByZXRyaWV2ZUZvclVzZXI7XG4gICAgICAgIHNlcnZpY2Uuc2F2ZSA9IHNhdmU7XG4gICAgICAgIHNlcnZpY2UuY2xlYXIgPSBjbGVhcjtcbiAgICAgICAgc2VydmljZS5ob3VzZWhvbGQgPSBPYmplY3QuY3JlYXRlKEhvdXNlaG9sZCk7XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICBpZiAoc2VydmljZS5ob3VzZWhvbGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VydmljZS5ob3VzZWhvbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZXRyaWV2ZUZvclVzZXIodXNlcikge1xuICAgICAgICAgICAgJGh0dHAuZ2V0KCcvaG91c2Vob2xkLycgKyB1c2VyLl9pZClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlLmhvdXNlaG9sZCA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzYXZlKGhvdXNlaG9sZCkge1xuICAgICAgICAgICAgaG91c2Vob2xkID0gaG91c2Vob2xkIHx8IHNlcnZpY2UuaG91c2Vob2xkO1xuICAgICAgICAgICAgaWYgKCRyb290U2NvcGUudXNlcikge1xuICAgICAgICAgICAgICAgIGhvdXNlaG9sZC51c2VySWQgPSAkcm9vdFNjb3BlLnVzZXIuX2lkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2hvdXNlaG9sZCcsIGhvdXNlaG9sZCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjbGVhciAoKSB7XG4gICAgICAgICAgICBzZXJ2aWNlLmhvdXNlaG9sZCA9IE9iamVjdC5jcmVhdGUoSG91c2Vob2xkKTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5zZXJ2aWNlKCdTZWN0aW9ucycsIHNlY3Rpb25zU2VydmljZSk7XG5cbiAgICBzZWN0aW9uc1NlcnZpY2UuJGluamVjdCA9IFsnJHJvb3RTY29wZScgLCckc3RhdGUnXTtcblxuICAgIGZ1bmN0aW9uIHNlY3Rpb25zU2VydmljZSgkcm9vdFNjb3BlLCAkc3RhdGUpIHtcbiAgICAgICAgdmFyIHNlY3Rpb25zID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnTGV0XFzigJlzIEdldCBTdGFydGVkISAnLFxuICAgICAgICAgICAgICAgIHN0YXRlOiAnc3RhcnQnLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvd1N1bW1hcnlBZnRlcjogZmFsc2VcbiAgICAgICAgICAgIH0sICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnQ2hpbGRyZW4nLFxuICAgICAgICAgICAgICAgIHN0YXRlOiAnY2hpbGRyZW4nLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvd1N1bW1hcnlBZnRlcjogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0hvdXNlaG9sZCBNZW1iZXJzJyxcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2hvdXNlaG9sZCcsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93U3VtbWFyeUFmdGVyOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnQ2hpbGRyZW5cXCdzIEluY29tZScsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdjaGlsZEluY29tZScsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93U3VtbWFyeUFmdGVyOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnSG91c2Vob2xkIEluY29tZScsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdob3VzZWhvbGRJbmNvbWUnLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvd1N1bW1hcnlBZnRlcjogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0Rpc2Nsb3N1cmUnLFxuICAgICAgICAgICAgICAgIHN0YXRlOiAnZGlzY2xvc3VyZScsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93U3VtbWFyeUFmdGVyOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1NpZ24gYW5kIENvbmZpcm0nLFxuICAgICAgICAgICAgICAgIHN0YXRlOiAnc2lnbmF0dXJlJyxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTdW1tYXJ5QWZ0ZXI6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIHZhciBpbmRleGVkU2VjdGlvbnMgPSBfLmluZGV4Qnkoc2VjdGlvbnMsICdzdGF0ZScpO1xuXG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgbWVhbnNUZXN0OiB0cnVlLFxuICAgICAgICAgICAgc2VjdGlvbnM6IHNlY3Rpb25zLFxuICAgICAgICAgICAgaW5kZXhlZFNlY3Rpb25zOiBpbmRleGVkU2VjdGlvbnMsXG4gICAgICAgICAgICBuYXZpZ2F0ZVRvTmV4dDogbmF2aWdhdGVUb05leHQsXG4gICAgICAgICAgICBnb0JhY2s6IGdvQmFjayxcbiAgICAgICAgICAgIHVwZGF0ZVJlcXVpcmVkU2VjdGlvbnM6IHVwZGF0ZVJlcXVpcmVkU2VjdGlvbnNcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gc2VydmljZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVJlcXVpcmVkU2VjdGlvbnMoaG91c2Vob2xkKSB7XG4gICAgICAgICAgICBzZXJ2aWNlLm1lYW5zVGVzdCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgYXNzaXN0YW5jZVByb2dyYW1Ib3VzZWhvbGQgPSBpc0Fzc2lzdGFuY2VIb3VzZWhvbGQoaG91c2Vob2xkKTtcbiAgICAgICAgICAgIHZhciBjYXRlZ29yaWNhbGx5UXVhbGlmaWVkID0gYWxsU3R1ZGVudHNDYXRlZ29yaWNhbGx5UXVhbGlmeShob3VzZWhvbGQpO1xuXG4gICAgICAgICAgICBpZiAoYXNzaXN0YW5jZVByb2dyYW1Ib3VzZWhvbGQgfHwgY2F0ZWdvcmljYWxseVF1YWxpZmllZCkge1xuICAgICAgICAgICAgICAgIHNlcnZpY2UubWVhbnNUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaW5kZXhlZFNlY3Rpb25zWydjaGlsZEluY29tZSddLnJlcXVpcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaW5kZXhlZFNlY3Rpb25zWydob3VzZWhvbGQnXS5yZXF1aXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGluZGV4ZWRTZWN0aW9uc1snaG91c2Vob2xkSW5jb21lJ10ucmVxdWlyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24oc2VjdGlvbikge1xuICAgICAgICAgICAgICAgIHNlY3Rpb24ucmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpc0Fzc2lzdGFuY2VIb3VzZWhvbGQoaG91c2Vob2xkKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudENoaWxkO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgaG91c2Vob2xkLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudENoaWxkID0gaG91c2Vob2xkLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q2hpbGQuYXNzaXN0YW5jZVByb2dyYW0gJiYgY3VycmVudENoaWxkLmFzc2lzdGFuY2VQcm9ncmFtLnBhcnRpY2lwYW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFsbFN0dWRlbnRzQ2F0ZWdvcmljYWxseVF1YWxpZnkoaG91c2Vob2xkKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudENoaWxkLCBjaGlsZFF1YWxpZmllcztcblxuICAgICAgICAgICAgdmFyIGVucm9sbGVkQ2hpbGRyZW4gPSBfLmZpbHRlcihob3VzZWhvbGQuY2hpbGRyZW4sIGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYy5lbnJvbGxlZCA9PT0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBtdXN0IGhhdmUga2lkcyB0byBxdWFsaWZ5XG4gICAgICAgICAgICBpZiAoZW5yb2xsZWRDaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vYWxsIGNoaWxkcmVuIGFyZSBjYXRlZ29yaWNhbGx5IHF1YWxpZmllZFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgZW5yb2xsZWRDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDaGlsZCA9IGhvdXNlaG9sZC5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRDaGlsZC5zcGVjaWFsU3RhdHVzLmZvc3RlckNoaWxkICYmXG4gICAgICAgICAgICAgICAgICAgICFjdXJyZW50Q2hpbGQuc3BlY2lhbFN0YXR1cy5ob21lbGVzc01pZ3JhbnRSdW5hd2F5ICYmXG4gICAgICAgICAgICAgICAgICAgICFjdXJyZW50Q2hpbGQuc3BlY2lhbFN0YXR1cy5oZWFkU3RhcnRQYXJ0aWNpcGFudFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZmluZE5leHQoY3VycmVudFN0YXRlKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gXy5maW5kSW5kZXgoc2VjdGlvbnMsIGZ1bmN0aW9uKHNlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VjdGlvbi5zdGF0ZSA9PT0gY3VycmVudFN0YXRlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIExvb2sgZm9yIHRoZSBuZXh0IHJlcXVpcmVkIHNlY3Rpb25cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBjdXJyZW50SW5kZXggKyAxOyBpIDwgc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbnNbaV0ucmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb25zW2ldLnN0YXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIG5vIG1vcmUgcmVxdWlyZWQgc2VjdGlvbnMsIHdlJ3JlIGRvbmUuXG4gICAgICAgICAgICByZXR1cm4gJ2NvbmZpcm1hdGlvbic7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBuYXZpZ2F0ZVRvTmV4dCgpIHtcbiAgICAgICAgICAgIHZhciBuZXh0U2VjdGlvbjtcbiAgICAgICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSAkcm9vdFNjb3BlLmN1cnJlbnRTdGF0ZSB8fCAkc3RhdGUuJGN1cnJlbnQuc2VsZi5uYW1lO1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzU3RhdGUgPSAkcm9vdFNjb3BlLnByZXZpb3VzU3RhdGUgfHwgJ3N0YXJ0JztcbiAgICAgICAgICAgIC8vIElmIG9uIHRoZSBzdW1tYXJ5IHBhZ2UgZ28gdG8gdGhlIG5leHQgZm9ybSBwYWdlXG4gICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAnc29GYXInKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFNlY3Rpb24gID0gZmluZE5leHQocHJldmlvdXNTdGF0ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBoYXBwZW5zIGlmIHlvdSByZWZyZXNoIHRoZSBwYWdlIG9uIHRoZSBzbyBmYXIgc2NyZWVuLlxuICAgICAgICAgICAgICAgICAgICAvLyBDb21lIHVwIHdpdGggc29tZXRoaW5nIGJldHRlcj8gc3Rhc2ggaW4gdXJsP1xuICAgICAgICAgICAgICAgICAgICBuZXh0U2VjdGlvbiA9ICdzdGFydCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleGVkU2VjdGlvbnNbY3VycmVudFN0YXRlXS5zaG93U3VtbWFyeUFmdGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgb24gYSBmb3JtIHBhZ2UsIGdvIHRvIHN1bW1hcnkgcGFnZVxuICAgICAgICAgICAgICAgIG5leHRTZWN0aW9uID0gJ3NvRmFyJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgeW91J3JlIG9uIHNvbWUgb3RoZXIgcGFnZSBsaWtlIHN0YXJ0IG9yIHNpZ25hdHVyZVxuICAgICAgICAgICAgICAgIC8vIE1vdmUgYWhlYWQgYXMgbm9ybWFsXG4gICAgICAgICAgICAgICAgbmV4dFNlY3Rpb24gID0gZmluZE5leHQoY3VycmVudFN0YXRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHN0YXRlLmdvKG5leHRTZWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c1N0YXRlID0gJHJvb3RTY29wZS5wcmV2aW91c1N0YXRlIHx8ICdzdGFydCc7XG4gICAgICAgICAgICAkc3RhdGUuZ28ocHJldmlvdXNTdGF0ZSk7XG4gICAgICAgIH1cblxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdleHBvcnRDb250cm9sbGVyJywgZXhwb3J0Q29udHJvbGxlcik7XG5cbiAgICBleHBvcnRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRodHRwJywgJyRzY29wZSddO1xuXG4gICAgZnVuY3Rpb24gZXhwb3J0Q29udHJvbGxlcigkaHR0cCwgJHNjb3BlKSB7XG4gICAgICAgICRodHRwLmdldCgnL2hvdXNlaG9sZC9jb21wbGV0ZWQnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAkc2NvcGUuY29tcGxldGVkQXBwbGljYXRpb25zID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2hvdXNlaG9sZEluY29tZScsIGhvdXNlaG9sZEluY29tZSk7XG5cbiAgICBob3VzZWhvbGRJbmNvbWUuJGluamVjdCA9IFtcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckc3RhdGUnLFxuICAgICAgICAnSG91c2Vob2xkJyxcbiAgICAgICAgJ1NlY3Rpb25zJ1xuICAgIF07XG5cbiAgICBmdW5jdGlvbiBob3VzZWhvbGRJbmNvbWUgKCRzY29wZSwgJHN0YXRlLCBIb3VzZWhvbGQsIFNlY3Rpb25zLCBIb3VzZWhvbGRJbmNvbWUpIHtcbiAgICAgICAgdmFyIHZtID0gJHNjb3BlO1xuICAgICAgICB2bS5ob3VzZWhvbGQgPSBIb3VzZWhvbGQuaG91c2Vob2xkO1xuICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIEhvdXNlaG9sZC5ob3VzZWhvbGQ7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdm0uaG91c2Vob2xkID0gSG91c2Vob2xkLmhvdXNlaG9sZDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZtLm5hdmlnYXRlVG9OZXh0U2VjdGlvbiA9IG5hdmlnYXRlVG9OZXh0U2VjdGlvbjtcblxuICAgICAgICB2YXIgd29yayA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogJ3dvcmsnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdXb3JrIEluY29tZScsXG4gICAgICAgICAgICBxdWVzdGlvbjogJ2Vhcm4gbW9uZXkgdGhyb3VnaCB3b3JrJyxcbiAgICAgICAgICAgIHNvdXJjZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOid3b3JrJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ1dvcmsgb3V0c2lkZSB0aGUgaG9tZSBpbiBhIG5vbi1taWxpdGFyeSBjYXBhY2l0eSAnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnRWFybmluZ3MgZnJvbSB3b3JrJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdQbGVhc2UgcmVwb3J0IGdyb3NzIGluY29tZS4gVGhpcyBpcyB0aGUgYW1vdW50IG9mIGluY29tZSBlYXJuZWQgYmVmb3JlIGFueSBtb25leSBpcyB0YWtlbiBvdXQgZm9yIHRheGVzIG9yIGRlZHVjdGlvbnMuIEluY2x1ZGUgc2FsYXJ5LCB3YWdlcywgYW5kIGNhc2ggYm9udXNlcy4nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOidzZWxmRW1wbG95ZWQnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnRWFybmluZ3MgZnJvbSBzZWxmIGVtcGxveW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnU2VsZi1lbXBsb3llZCcsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uOiAnRm9yIGhvdXNlaG9sZCBtZW1iZXJzIHRoYXQgYXJlIHNlbGYtZW1wbG95ZWQsIHJlcG9ydCBpbmNvbWUgZnJvbSB0aGF0IHdvcmsgYXMgYSBuZXQgYW1vdW50LiBUaGlzIGlzIGNhbGN1bGF0ZWQgYnkgc3VidHJhY3RpbmcgdGhlIHRvdGFsIG9wZXJhdGluZyBleHBlbnNlcyBvZiB0aGUgYnVzaW5lc3MgZnJvbSBpdHMgZ3Jvc3MgcmVjZWlwdHMgb3IgcmV2ZW51ZS4nXG5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6J29uU3RyaWtlJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ09uIHN0cmlrZScsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdTdHJpa2UgQmVuZWZpdHMnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjpcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogYWRkIHNwYWNlIGZvciBob3VzaW5nIGFsbG93YW5jZSBwZXIgZG9jXG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOidtaWxpdGFyeScsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdJbiB0aGUgVS5TLiBtaWxpdGFyeScsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdCYXNpYyBwYXkgYW5kIGNhc2ggYm9udXNlcycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uOiAnUGxlYXNlIGRvIG5vdCBpbmNsdWRlIGNvbWJhdCBwYXksIEZTU0EsIG9yIHByaXZhdGUgaG91c2luZyBhbGxvd2FuY2VzLidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHB1YmxpY0Fzc2lzdGFuY2UgPSB7XG4gICAgICAgICAgICBjYXRlZ29yeU5hbWU6ICdwdWJsaWNBc3Npc3RhbmNlJyxcbiAgICAgICAgICAgIGhlYWRsaW5lOiAnUHVibGljIEFzc2lzdGFuY2UnLFxuICAgICAgICAgICAgcXVlc3Rpb246ICdyZWNlaXZlIGFueSBwdWJsaWMgYXNzaXN0YW5jZSBiZW5lZml0cycsXG4gICAgICAgICAgICBzb3VyY2VzOltcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOid1bmVtcGxveW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnVW5lbXBsb3ltZW50IGJlbmVmaXRzJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ1VuZW1wbG95bWVudCBiZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTond29ya2Vyc0NvbXAnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnV29ya2Vy4oCZcyBjb21wZW5zYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnV29ya2Vy4oCZcyBjb21wZW5zYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6J3NzaScsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdTdXBwbGVtZW50YWwgU2VjdXJpdHkgSW5jb21lIChTU0kpJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ1N1cHBsZW1lbnRhbCBTZWN1cml0eSBJbmNvbWUgKFNTSSknLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6J2Nhc2hBc3Npc3RhbmNlJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ0Nhc2ggYXNzaXN0YW5jZSBmcm9tIFN0YXRlIG9yIGxvY2FsIGdvdmVybm1lbnQnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnQ2FzaCBhc3Npc3RhbmNlJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdUaGlzIGNvdWxkIGluY2x1ZGUgVEFORiBvciBHZW5lcmFsIEFzc2lzdGFuY2UgbW9uZXkuJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTondmV0ZXJhbnNCZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdWZXRlcmFu4oCZcyBiZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdWZXRlcmFu4oCZcyBiZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnVGhpcyBjb3VsZCBpbmNsdWRlIFRBTkYgb3IgR2VuZXJhbCBBc3Npc3RhbmNlIG1vbmV5J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYWxpbW9ueSA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogJ2FsaW1vbnknLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdBbGltb255JyxcbiAgICAgICAgICAgIHF1ZXN0aW9uOiAncmVjZWl2ZSBhbGltb255IHBheW1lbnRzJyxcbiAgICAgICAgICAgIHNvdXJjZXM6W1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6ICdhbGltb255JyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ2FsaW1vbnkgcGF5bWVudHMnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnQWxpbW9ueSBwYXltZW50JyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdJZiBpbmNvbWUgaXMgcmVjZWl2ZWQgZnJvbSBjaGlsZCBzdXBwb3J0IG9yIGFsaW1vbnksIG9ubHkgY291cnQtb3JkZXJlZCBwYXltZW50cyBzaG91bGQgYmUgcmVwb3J0ZWQgaGVyZS4gSW5mb3JtYWwgYnV0IHJlZ3VsYXIgcGF5bWVudHMgc2hvdWxkIGJlIHJlcG9ydGVkIGxhdGVyIGFzIOKAnG90aGVy4oCdIGluY29tZS4nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBjaGlsZFN1cHBvcnQgPSB7XG4gICAgICAgICAgICBjYXRlZ29yeU5hbWU6ICdjaGlsZFN1cHBvcnQnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdDaGlsZCBTdXBwb3J0JyxcbiAgICAgICAgICAgIHF1ZXN0aW9uOiAncmVjZWl2ZSBhbnkgY2hpbGQgc3VwcG9ydCcsXG4gICAgICAgICAgICBzb3VyY2VzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTogJ2NoaWxkU3VwcG9ydCcsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdhbnkgY2hpbGQgc3VwcG9ydCcsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdDaGlsZCBzdXBwb3J0IHBheW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ0lmIGluY29tZSBpcyByZWNlaXZlZCBmcm9tIGNoaWxkIHN1cHBvcnQgb3IgY2hpbGRTdXBwb3J0LCBvbmx5IGNvdXJ0LW9yZGVyZWQgcGF5bWVudHMgc2hvdWxkIGJlIHJlcG9ydGVkIGhlcmUuIEluZm9ybWFsIGJ1dCByZWd1bGFyIHBheW1lbnRzIHNob3VsZCBiZSByZXBvcnRlZCBsYXRlciBhcyDigJxvdGhlcuKAnSBpbmNvbWUuJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmV0aXJlbWVudCA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogJ3JldGlyZW1lbnQnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdQZW5zaW9uIGFuZCBSZXRpcmVtZW50JyxcbiAgICAgICAgICAgIHF1ZXN0aW9uOiAncmVjZWl2ZSBhbnkgcGVuc2lvbiBvciByZXRpcmVtZW50IG1vbmV5JyxcbiAgICAgICAgICAgIHNvdXJjZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOiAnc29jaWFsU2VjdXJpdHknLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnU29jaWFsIFNlY3VyaXR5IChpbmNsdWRpbmcgcmFpbHJvYWQgcmV0aXJlbWVudCBhbmQgYmxhY2sgbHVuZyBiZW5lZml0cyknLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnU29jaWFsIHNlY3VyaXR5JyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdQbGVhc2UgaW5jbHVkZSByYWlscm9hZCByZXRpcmVtZW50IGFuZCBibGFjayBsdW5nIGJlbmVmaXRzJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTogJ3ByaXZhdGVQZW5zaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ1ByaXZhdGUgcGVuc2lvbnMgb3IgZGlzYWJpbGl0eScsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdQcml2YXRlIHBlbnNpb25zIG9yIGRpc2FiaWxpdHknLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG90aGVySW5jb21lID0ge1xuICAgICAgICAgICAgY2F0ZWdvcnlOYW1lOiAnb3RoZXJJbmNvbWUnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdPdGhlciBJbmNvbWUnLFxuICAgICAgICAgICAgcXVlc3Rpb246ICdyZWNpZXZlIG1vbmV5IHRocm91Z2ggYW55IG90aGVyIHNvdXJjZScsXG4gICAgICAgICAgICBzb3VyY2VzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTogJ3RydXN0cycsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdJbmNvbWUgZnJvbSB0cnVzdHMgb3IgZXN0YXRlcycsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdJbmNvbWUgZnJvbSB0cnVzdHMgb3IgZXN0YXRlcycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTogJ2FubnVpdGllcycsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdBbm51aXRpZXMnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnSW5jb21lIGZyb20gYW5udWl0aWVzJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIC8vIGFubm90YXRpb246ICcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOiAnaW52ZXN0bWVudCcsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdJbnZlc3RtZW50IGluY29tZScsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdJbnZlc3RtZW50IGluY29tZScsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTogJ2ludGVyZXN0JyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ0Vhcm5lZCBpbnRlcmVzdCcsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdFYXJuZWQgaW50ZXJlc3QnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6ICdyZW50YWxJbmNvbWUnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnUmVudGFsIGluY29tZScsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdSZW50YWwgaW5jb21lJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIC8vIGFubm90YXRpb246ICcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOiAnb3RoZXJDYXNoJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ1JlZ3VsYXIgY2FzaCBwYXltZW50cyBmcm9tIG91dHNpZGUgaG91c2Vob2xkJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ1JlZ3VsYXIgY2FzaCBwYXltZW50cyBmcm9tIG91dHNpZGUgaG91c2Vob2xkJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdTdWNoIGNhc2ggcGF5bWVudHMgc2hvdWxkIGluY2x1ZGUgcmVndWxhciBjaGlsZCBzdXBwb3J0IG9yIGFsaW1vbnkgcGF5bWVudHMgcmVjZWl2ZWQgYnkgdGhlIGhvdXNlaG9sZCB0aGF0IGFyZSBub3QgY291cnQtb3JkZXJlZC4nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUT0RPOiBkdXBsaWNhdGVkIHdpdGggbWFpbi5qcy4gU2hhcmUgaW4gYSBiZXR0ZXIgd2F5XG4gICAgICAgIGZ1bmN0aW9uIG5hdmlnYXRlVG9OZXh0U2VjdGlvbigpIHtcbiAgICAgICAgICAgIEhvdXNlaG9sZC5zYXZlKHZtLmhvdXNlaG9sZCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBTZWN0aW9ucy51cGRhdGVSZXF1aXJlZFNlY3Rpb25zKHZtLmhvdXNlaG9sZCk7XG4gICAgICAgICAgICAgICAgU2VjdGlvbnMubmF2aWdhdGVUb05leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdm0uaW5jb21lQ2F0ZWdvcmllcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29yayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGljQXNzaXN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpbW9ueSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRTdXBwb3J0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRpcmVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlckluY29tZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcblxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgLmNvbnRyb2xsZXIoJ2xvZ2luQ29udHJvbGxlcicsIGxvZ2luQ29udHJvbGxlcik7XG4gICAgbG9naW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICdhdXRoJ107XG4gICAgZnVuY3Rpb24gbG9naW5Db250cm9sbGVyKCRzY29wZSwgYXV0aCkge1xuICAgICAgICB2YXIgdm0gPSAkc2NvcGU7XG4gICAgICAgIHZhciB1c2VyID0ge307XG4gICAgICAgIHZtLnN1Ym1pdCA9IHN1Ym1pdDtcbiAgICAgICAgdm0udXNlciA9IHVzZXI7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBzdWJtaXQoKSB7XG4gICAgICAgICAgICB2bS5lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgYXV0aC5sb2dpbih1c2VyLmVtYWlsLCB1c2VyLnBhc3N3b3JkKVxuICAgICAgICAgICAgLnRoZW4oc3VjY2Vzc0hhbmRsZXIsIGVycm9ySGFuZGxlcik7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3NIYW5kbGVyKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2bS5sb2dpbkZvcm0gPSB7fTtcbiAgICAgICAgICAgICAgICB2bS5zdWNjZXNzID0gJ3N1Y2Nlc3NmdWxseSBsb2dnZWQgaW4nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBlcnJvckhhbmRsZXIocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2bS5lcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgdm0uZXJyb3JNZXNzYWdlID0gJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluJztcbiAgICAgICAgICAgICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgICAuY29udHJvbGxlcignbWFpbkNvbnRyb2xsZXInLCBtYWluQ29udHJvbGxlcik7XG5cbiAgICBtYWluQ29udHJvbGxlci4kaW5qZWN0ID0gW1xuICAgICAgICAnJGh0dHAnLFxuICAgICAgICAnJGludGVydmFsJyxcbiAgICAgICAgJyRtZERpYWxvZycsXG4gICAgICAgICckbWRNZWRpYScsXG4gICAgICAgICckc2NvcGUnLFxuICAgICAgICAnJHN0YXRlJyxcbiAgICAgICAgJ0hvdXNlaG9sZCcsXG4gICAgICAgICdTZWN0aW9ucydcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gbWFpbkNvbnRyb2xsZXIgKCRodHRwLCAkaW50ZXJ2YWwsICRtZERpYWxvZywgJG1kTWVkaWEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZSwgJHN0YXRlLCBIb3VzZWhvbGQsIFNlY3Rpb25zKSB7XG4gICAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgICAgdmFyIHZtID0gJHNjb3BlO1xuICAgICAgICB2bS5zY2hvb2xEaXN0cmljdCA9ICdPYWtsYW5kIFVuaWZpZWQgU2Nob29sIERpc3RyaWN0JztcblxuICAgICAgICB2bS5ob3VzZWhvbGQgPSBIb3VzZWhvbGQuaG91c2Vob2xkO1xuICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIEhvdXNlaG9sZC5ob3VzZWhvbGQ7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdm0uaG91c2Vob2xkID0gSG91c2Vob2xkLmhvdXNlaG9sZDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZtLm1lYW5zVGVzdCA9IFNlY3Rpb25zLm1lYW5zVGVzdDtcbiAgICAgICAgLy8gdm0uZXN0aW1hdGVkSW5jb21lID0gZXN0aW1hdGVJbmNvbWUoaG91c2Vob2xkKTtcblxuICAgICAgICB2bS5jaGlsZHJlbkxhYmVsID0gJ2NoaWxkcmVuJztcbiAgICAgICAgdm0uYWR1bHRzTGFiZWwgPSAnYWR1bHRzJztcblxuICAgICAgICAvLyBuYXZpZ2F0aW9uXG4gICAgICAgIHZtLmdvQmFjayA9IGdvQmFjaztcbiAgICAgICAgdm0ubmF2aWdhdGVUb05leHRTZWN0aW9uID0gbmF2aWdhdGVUb05leHRTZWN0aW9uO1xuICAgICAgICB2bS5zdWJtaXRBcHBsaWNhdGlvbiA9IHN1Ym1pdEFwcGxpY2F0aW9uO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgIGlmICh2bS5ob3VzZWhvbGQuY2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdm0uY2hpbGRyZW5MYWJlbCA9ICdjaGlsZCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodm0uaG91c2Vob2xkLm90aGVyTWVtYmVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICB2bS5hZHVsdHNMYWJlbCA9ICdhZHVsdCc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGluaXQoKTtcblxuICAgICAgICAvL05ldyBjaGlsZHJlbiBhbmQgaG91c2Vob2xkIG1lbWJlcnMgYXJlIGNyZWF0ZWRcbiAgICAgICAgLy9ieSBjYWxsaW5nIHRoZSBzZXJ2ZXIgdG8gbWFrZSB1c2Ugb2YgbW9uZ29vc2UgbW9kZWxzXG4gICAgICAgIGZ1bmN0aW9uIGFkZENoaWxkKG5ld1ZhbCkge1xuICAgICAgICAgICAgLy8gdmFyIG5ld0NoaWxkID0ge1xuICAgICAgICAgICAgLy8gICAgIGZpcnN0TmFtZTonJyxcbiAgICAgICAgICAgIC8vICAgICBtaWRkbGVJbml0aWFsOiAnJyxcbiAgICAgICAgICAgIC8vICAgICBsYXN0TmFtZTogJycsXG4gICAgICAgICAgICAvLyAgICAgZW5yb2xsZWQ6IG51bGwsXG4gICAgICAgICAgICAvLyAgICAgc3BlY2lhbFN0YXR1czoge1xuICAgICAgICAgICAgLy8gICAgICAgICBmb3N0ZXJDaGlsZDogZmFsc2UsXG4gICAgICAgICAgICAvLyAgICAgICAgIGhlYWRTdGFydFBhcnRpY2lwYW50OiBmYWxzZSxcbiAgICAgICAgICAgIC8vICAgICAgICAgaG9tZWxlc3NNaWdyYW50UnVuYXdheTogZmFsc2VcbiAgICAgICAgICAgIC8vICAgICB9LFxuICAgICAgICAgICAgLy8gICAgIGFzc2lzdGFuY2VQcm9ncmFtOiB7fSxcbiAgICAgICAgICAgIC8vICAgICBpbmNvbWVTb3VyY2VzOiBbXVxuICAgICAgICAgICAgLy8gfTtcblxuICAgICAgICAgICAgLy8gd2hpbGUgKG5ld1ZhbCA+ICRzY29wZS5ob3VzZWhvbGQuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyAgICAgJHNjb3BlLmhvdXNlaG9sZC5jaGlsZHJlbi5wdXNoKE9iamVjdC5jcmVhdGUobmV3Q2hpbGQpKTtcbiAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgaWYgKG5ld1ZhbCA+IHZtLmhvdXNlaG9sZC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQoJy9jaGlsZCcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0NoaWxkID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgdm0uaG91c2Vob2xkLmNoaWxkcmVuLnB1c2gobmV3Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWN1cnNlIGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgICAgICBhZGRDaGlsZChuZXdWYWwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkT3RoZXJNZW1iZXIobmV3VmFsKSB7XG4gICAgICAgICAgICBpZiAobmV3VmFsID4gdm0uaG91c2Vob2xkLm90aGVyTWVtYmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQoJy9ob3VzZWhvbGQtbWVtYmVyJykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3SG91c2Vob2xkTWVtYmVyID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgbmV3SG91c2Vob2xkTWVtYmVyID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZtLmhvdXNlaG9sZC5vdGhlck1lbWJlcnMucHVzaChuZXdIb3VzZWhvbGRNZW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWN1cnNlIGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgICAgICBhZGRPdGhlck1lbWJlcihuZXdWYWwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogZmluaXNoIHRoaXMgZnVuY3Rpb25cbiAgICAgICAgZnVuY3Rpb24gZXN0aW1hdGVJbmNvbWUoaG91c2Vob2xkKSB7XG4gICAgICAgICAgICByZXR1cm4gNDc7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0cmltQ2hpbGRyZW4oaG91c2Vob2xkKSB7XG4gICAgICAgICAgICAvLyBnZXQgcmlkIG9mIGV4dHJhIGVtcHR5IGNoaWxkIG9iZWpjZXRzIGNyZWF0ZWQgaW4gcHJvY2Vzc1xuICAgICAgICAgICAgaWYgKGhvdXNlaG9sZC5jaGlsZHJlbi5sZW5ndGggPiBob3VzZWhvbGQuY2hpbGRDb3VudCkge1xuICAgICAgICAgICAgICAgIGhvdXNlaG9sZC5jaGlsZHJlbiA9IGhvdXNlaG9sZC5jaGlsZHJlbi5zbGljZSgwLCBob3VzZWhvbGQuY2hpbGRDb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaG91c2Vob2xkO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdHJpbU90aGVyTWVtYmVycyhob3VzZWhvbGQpIHtcbiAgICAgICAgICAgIC8vIGdldCByaWQgb2YgZXh0cmEgZW1wdHkgb3RoZXJNZW1iZXIgb2JlamNldHMgY3JlYXRlZCBpbiBwcm9jZXNzXG4gICAgICAgICAgICBpZiAoaG91c2Vob2xkLm90aGVyTWVtYmVycy5sZW5ndGggPiBob3VzZWhvbGQub3RoZXJNZW1iZXJzQ291bnQpIHtcbiAgICAgICAgICAgICAgICBob3VzZWhvbGQub3RoZXJNZW1iZXJzLnNsaWNlKDAsIGhvdXNlaG9sZC5vdGhlck1lbWJlcnNDb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaG91c2Vob2xkO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgICAgICAgICAgSG91c2Vob2xkLnNhdmUodm0uaG91c2Vob2xkKTtcbiAgICAgICAgICAgIFNlY3Rpb25zLnVwZGF0ZVJlcXVpcmVkU2VjdGlvbnModm0uaG91c2Vob2xkKTtcbiAgICAgICAgICAgIFNlY3Rpb25zLmdvQmFjaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbmF2aWdhdGVUb05leHRTZWN0aW9uKCkge1xuICAgICAgICAgICAgdHJpbUNoaWxkcmVuKHZtLmhvdXNlaG9sZCk7XG4gICAgICAgICAgICB0cmltT3RoZXJNZW1iZXJzKHZtLmhvdXNlaG9sZCk7XG5cbiAgICAgICAgICAgIEhvdXNlaG9sZC5zYXZlKHZtLmhvdXNlaG9sZCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBTZWN0aW9ucy51cGRhdGVSZXF1aXJlZFNlY3Rpb25zKHZtLmhvdXNlaG9sZCk7XG4gICAgICAgICAgICAgICAgU2VjdGlvbnMubmF2aWdhdGVUb05leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3VibWl0QXBwbGljYXRpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuaG91c2Vob2xkLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICBuYXZpZ2F0ZVRvTmV4dFNlY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdhdGNoZXJzXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ2hvdXNlaG9sZC5jaGlsZENvdW50JywgYWRkQ2hpbGQpO1xuICAgICAgICAkc2NvcGUuJHdhdGNoKCdob3VzZWhvbGQub3RoZXJNZW1iZXJzQ291bnQnLCBhZGRPdGhlck1lbWJlcik7XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3NpZGVOYXZDb250cm9sbGVyJywgc2lkZU5hdkNvbnRyb2xsZXIpO1xuXG4gICAgc2lkZU5hdkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRzdGF0ZScsICdTZWN0aW9ucyddO1xuXG4gICAgZnVuY3Rpb24gc2lkZU5hdkNvbnRyb2xsZXIgKCRzY29wZSwgJHN0YXRlLCBTZWN0aW9ucykge1xuICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgICAgIHZhciB2bSA9ICRzY29wZTtcblxuICAgICAgICB2bS5jdXJyZW50U3RhdGUgPSAkc3RhdGUuJGN1cnJlbnQuc2VsZi5uYW1lO1xuICAgICAgICB2bS5zZWN0aW9ucyA9IFNlY3Rpb25zLnNlY3Rpb25zO1xuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgLmNvbnRyb2xsZXIoJ3NpZ251cENvbnRyb2xsZXInLCBzaWdudXBDb250cm9sbGVyKTtcbiAgICBzaWdudXBDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICdhdXRoJ107XG5cbiAgICBmdW5jdGlvbiBzaWdudXBDb250cm9sbGVyKCRzY29wZSwgYXV0aCkge1xuICAgICAgICBjb25zb2xlLmxvZyhhdXRoLmdldFVzZXJTdGF0dXMoKSk7XG4gICAgICAgIHZhciB2bSA9ICRzY29wZTtcbiAgICAgICAgdmFyIHVzZXIgPSB7fTtcbiAgICAgICAgdm0uc3VibWl0ID0gc3VibWl0O1xuICAgICAgICB2bS51c2VyID0gdXNlcjtcblxuICAgICAgICBmdW5jdGlvbiBzdWJtaXQoKSB7XG4gICAgICAgICAgICB2bS5lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gVE9ETzogYWRkIGxvYWRpbmcgaWNvbiB0byBVSSB3aGVuIGRpc2FibGVkID09PSB0cnVlXG4gICAgICAgICAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIGF1dGguc2lnbnVwKHVzZXIuZW1haWwsIHVzZXIucGFzc3dvcmQpXG4gICAgICAgICAgICAudGhlbihzdWNjZXNzSGFuZGxlciwgZXJyb3JIYW5kbGVyKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2Vzc0hhbmRsZXIoKSB7XG4gICAgICAgICAgICAgICAgLy9UT0RPOiBSZWRpcmVjdCB0byAuIC4uICBzb21ld2hlcmU/XG4gICAgICAgICAgICAgICAgLy8gSG91c2Vob2xkLnNhdmUoKS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgLy8gU2VjdGlvbnMuZ29CYWNrKCk7XG4gICAgICAgICAgICAgICAgdm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2bS5zaWdudXBGb3JtID0ge307IC8vUmVzZXQgZm9ybVxuICAgICAgICAgICAgICAgIHZtLnN1Y2Nlc3MgPSAnc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgYW4gYWNjb3VudCc7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3NpZ251cCBzdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9ySGFuZGxlcihlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIHZtLmVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2bS5lcnJvck1lc3NhZ2UgPSAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4nO1xuICAgICAgICAgICAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3NpZ251cCBmYWlsJyk7XG4gICAgICAgICAgICAgICAgLy8gdm0uc2lnbnVwRm9ybSA9IHt9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgLmNvbnRyb2xsZXIoJ3VzZXJDb250cm9sc0NvbnRyb2xsZXInLCB1c2VyQ29udHJvbHNDb250cm9sbGVyKTtcbiAgICB1c2VyQ29udHJvbHNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJ2F1dGgnXTtcbiAgICBmdW5jdGlvbiB1c2VyQ29udHJvbHNDb250cm9sbGVyKCRyb290U2NvcGUsICRzY29wZSwgYXV0aCkge1xuICAgICAgICB2YXIgdm0gPSAkc2NvcGU7XG4gICAgICAgIHZtLmxvZ2dlZEluID0gYXV0aC5nZXRVc2VyU3RhdHVzKCk7XG4gICAgICAgIHZtLmxvZ291dCA9IGxvZ291dDtcbiAgICAgICAgdm0udXNlciA9ICRyb290U2NvcGUudXNlcjtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICBmdW5jdGlvbiBsb2dvdXQoKSB7XG4gICAgICAgICAgICBhdXRoLmxvZ291dCgpO1xuICAgICAgICAgICAgdm0ubG9nZ2VkSW4gPSBhdXRoLmdldFVzZXJTdGF0dXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRyb290U2NvcGUuJHdhdGNoKCd1c2VyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2bS5sb2dnZWRJbiA9IGF1dGguZ2V0VXNlclN0YXR1cygpO1xuICAgICAgICAgICAgdm0udXNlciA9ICRyb290U2NvcGUudXNlcjtcbiAgICAgICAgfSk7XG4gICAgfVxuXG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
