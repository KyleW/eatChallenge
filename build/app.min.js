!function(){"use strict";function e(e){e.$on("$stateChangeSuccess",function(){document.body.scrollTop=document.documentElement.scrollTop=0}),e.$on("$stateChangeSuccess",function(l,t,r,o,n){e.previousState=o.name,e.currentState=t.name})}function l(e){e.theme("default").primaryPalette("teal").backgroundPalette("brown",{"default":"50"})}function t(e,l){function t(e,l){l.otherwise("/"),e.state("start",{url:"/",views:{main:{templateUrl:"../views/start.html",controller:"mainController"}}}).state("children",{url:"/children",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/children.html",controller:"mainController"}}}).state("childIncome",{url:"/childIncome",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/childIncome.html",controller:"mainController"}}}).state("household",{url:"/household",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/household.html",controller:"mainController"}}}).state("householdIncome",{url:"/household-income",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/householdIncome.html",controller:"householdIncome"}}}).state("disclosure",{url:"/disclosure",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/disclosure.html",controller:"mainController"}}}).state("signature",{url:"/signature",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/signature.html",controller:"mainController"}}}).state("confirmation",{url:"/confirmation",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/confirmation.html",controller:"mainController"}}}).state("export",{url:"/export",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/export.html",controller:"exportController"}}}).state("signup",{url:"/signup",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/signup.html",controller:"mainController"}}}).state("login",{url:"/login",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/login.html",controller:"loginController"}}}).state("soFar",{url:"/so-far",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/soFar.html",controller:"mainController"}}})}t(e,l)}angular.module("eatChallengeApp",["ngCookies","ngCsv","ngMaterial","ngSanitize","ui.router"]).config(t).config(l).run(e),e.$inject=["$rootScope"],l.$inject=["$mdThemingProvider"],t.$inject=["$stateProvider","$urlRouterProvider"]}();
!function(){"use strict";function t(t,e){t.get("/household/completed").then(function(t){e.completedApplications=t.data})}angular.module("eatChallengeApp").controller("exportController",t),t.$inject=["$http","$scope"]}();
!function(){"use strict";function e(e,o,n,t,a,l){function r(){t.save(),a.updateRequiredSections(e.household),a.navigateToNext(o.$current.self.name)}var s=e,i=t.get(),c={categoryName:"work",headline:"Work Income",question:"earn money through work",sources:[{vaule:"work",checkboxLabel:"Work outside the home in a non-military capacity ",shortLabel:"Earnings from work",frequency:["weekly","biweekly","2x month","monthly"],annotation:"Please report gross income. This is the amount of income earned before any money is taken out for taxes or deductions. Include salary, wages, and cash bonuses."},{vaule:"selfEmployed",shortLabel:"Earnings from self employment",checkboxLabel:"Self-employed",frequency:["weekly","biweekly","2x month","monthly"],annotation:"For household members that are self-employed, report income from that work as a net amount. This is calculated by subtracting the total operating expenses of the business from its gross receipts or revenue."},{vaule:"onStrike",checkboxLabel:"On strike",shortLabel:"Strike Benefits",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"military",checkboxLabel:"In the U.S. military",shortLabel:"Basic pay and cash bonuses",frequency:["weekly","biweekly","2x month","monthly"],annotation:"Please do not include combat pay, FSSA, or private housing allowances."}]},h={categoryName:"publicAssistance",headline:"Public Assistance",question:"receive any public assistance benefits",sources:[{vaule:"unemployment",checkboxLabel:"Unemployment benefits",shortLabel:"Unemployment benefits",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"workersComp",checkboxLabel:"Worker’s compensation",shortLabel:"Worker’s compensation",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"ssi",checkboxLabel:"Supplemental Security Income (SSI)",shortLabel:"Supplemental Security Income (SSI)",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"cashAssistance",checkboxLabel:"Cash assistance from State or local government",shortLabel:"Cash assistance",frequency:["weekly","biweekly","2x month","monthly"],annotation:"This could include TANF or General Assistance money."},{vaule:"veteransBenefits",checkboxLabel:"Veteran’s benefits",shortLabel:"Veteran’s benefits",frequency:["weekly","biweekly","2x month","monthly"]}]},m={categoryName:"alimony",headline:"Alimony",question:"receive alimony payments",sources:[{vaule:"alimony",checkboxLabel:"alimony payments",shortLabel:"Alimony payment",frequency:["weekly","biweekly","2x month","monthly"],annotation:"If income is received from child support or alimony, only court-ordered payments should be reported here. Informal but regular payments should be reported later as “other” income."}]},y={categoryName:"childSupport",headline:"Child Support",question:"receive any child support",sources:[{vaule:"childSupport",checkboxLabel:"any child support",shortLabel:"Child support payment",frequency:["weekly","biweekly","2x month","monthly"],annotation:"If income is received from child support or childSupport, only court-ordered payments should be reported here. Informal but regular payments should be reported later as “other” income."}]},u={categoryName:"retirement",headline:"Pension and Retirement",question:"receive any pension or retirement money",sources:[{vaule:"socialSecurity",checkboxLabel:"Social Security (including railroad retirement and black lung benefits)",shortLabel:"Social security",frequency:["weekly","biweekly","2x month","monthly"],annotation:"Please include railroad retirement and black lung benefits"},{vaule:"privatePension",checkboxLabel:"Private pensions or disability",shortLabel:"Private pensions or disability",frequency:["weekly","biweekly","2x month","monthly"]}]},b={categoryName:"otherIncome",headline:"Other Income",question:"recieve money through any other source",sources:[{vaule:"trusts",checkboxLabel:"Income from trusts or estates",shortLabel:"Income from trusts or estates",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"annuities",checkboxLabel:"Annuities",shortLabel:"Income from annuities",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"investment",checkboxLabel:"Investment income",shortLabel:"Investment income",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"interest",checkboxLabel:"Earned interest",shortLabel:"Earned interest",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"rentalIncome",checkboxLabel:"Rental income",shortLabel:"Rental income",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"otherCash",checkboxLabel:"Regular cash payments from outside household",shortLabel:"Regular cash payments from outside household",frequency:["weekly","biweekly","2x month","monthly"],annotation:"Such cash payments should include regular child support or alimony payments received by the household that are not court-ordered."}]},d=[c,h,m,y,u,b];s.household=i,s.navigateToNextSection=r,s.incomeCategories=d}angular.module("eatChallengeApp").controller("householdIncome",e),e.$inject=["$scope","$state","Auth","Household","Sections"]}();
!function(){"use strict";function n(n,o){}angular.module("eatChallengeApp").controller("loginController",[n]),n.$inject=["$location","$scope"]}();
!function(){"use strict";function e(e,t,o,n,h,l,i,c,u){function a(){1===$.children.length&&(v.childrenLabel="child"),1===$.otherMembers.length&&(v.adultsLabel="adult")}function s(t){t>h.household.children.length&&e.get("/child").then(function(e){var o=e.data;h.household.children.push(o),s(t)})}function d(e){for(;e>h.household.otherMembers.length;){var t=Object.create(M);h.household.otherMembers.push(t)}}function r(e){return 47}function m(e){return e}function f(e){return e}function g(){c.save(),u.updateRequiredSections(h.household),u.goBack()}function p(){m($),f($),c.save(),u.updateRequiredSections(h.household),u.navigateToNext()}function b(){h.household.completed=!0,p()}var v=h,$=c.get();v.schoolDistrict="Oakland Unified School District",v.household=$,v.meansTest=u.meansTest,v.estimatedIncome=r($),v.childrenLabel="children",v.adultsLabel="adults",v.goBack=g,v.navigateToNextSection=p,v.submitApplication=b,a();var M={income:{}};h.$watch("household.childCount",s),h.$watch("household.otherMembersCount",d)}angular.module("eatChallengeApp").controller("mainController",e),e.$inject=["$http","$interval","$mdDialog","$mdMedia","$scope","$state","Auth","Household","Sections"]}();
!function(){"use strict";function e(e,t,n){var c=e;c.currentState=t.$current.self.name,c.sections=n.sections}angular.module("eatChallengeApp").controller("sideNavController",e),e.$inject=["$scope","$state","Sections"]}();
!function(){"use strict";function e(){var e={scope:{member:"="},restrict:"A",replace:!0,templateUrl:"../views/income.html",link:o};return e}function o(e){e.incomeSources={work:{vaule:"work",label:"Earnings from work",frequency:["weekly","biweekly","2x month","monthly"],annotation:"A child has a job where they earn salary or wages. Please report gross income. This is the amount of income earned before any money is taken out for taxes or deductions. Include salary, wages, and cash bonuses."},socialSecurity:{vaule:"socialSecurity",label:"Social Security Disability Payments or Survivor’s Benefits ",frequency:["monthly"]},otherPerson:{vaule:"otherPerson",label:"Income from persons outside the household",frequency:["weekly","biweekly","2x month","monthly"],annotation:"A friend or extended family member regularly gives a child spending money."},otherSource:{vaule:"otherSource",label:"Income from any other source",frequency:["weekly","biweekly","2x month","monthly"],annotation:"A child receives income from a private pension fund, annuity, or trust."}},0===e.member.incomeSources.length&&(e.member.incomeSources=[],Object.keys(e.incomeSources).forEach(function(o){e.member.incomeSources.push({type:o,amount:null,frequency:null})}))}angular.module("eatChallengeApp").directive("incomeQuestions",e)}();
!function(){"use strict";function e(){return{scope:{model:"="},restrict:"A",replace:!0,templateUrl:"../views/yesno.html"}}angular.module("eatChallengeApp").directive("yesNoInput",e)}();
!function(){"use strict";function n(n){function t(t,u){var s={email:t,password:u};n.post("/user/login",s).success(function(n){o=!0})}function u(){n.post("/user/logout").success(function(){o=!1})}var o=!1,s={login:t,logout:u,user:o};return s}angular.module("eatChallengeApp").service("Auth",n),n.$inject=["$http"]}();
!function(){function e(e){function t(){return o?o:o=Object.create(i)}function n(){return e.post("/household",o)}function r(){var e={};return e}this.get=t,this.save=n,this.clear=r;var o,i={childCount:0,children:[],otherMembersCount:0,otherMembers:[],completedApplication:!1};return this}angular.module("eatChallengeApp").service("Household",e),e.$inject=["$http"]}();
!function(){"use strict";function e(e,t){function r(e){c.meansTest=!0;var t=a(e),r=n(e);return t||r?(c.meansTest=!1,l.childIncome.required=!1,l.household.required=!1,void(l.householdIncome.required=!1)):void u.forEach(function(e){e.required=!0})}function a(e){for(var t,r=0;r<e.children.length;r++)if(t=e.children[r],t.assistanceProgram&&t.assistanceProgram.participant)return!0;return!1}function n(e){var t,r=_.filter(e.children,function(e){return e.enrolled===!0});if(0===r.length)return!1;for(var a=0;a<r.length;a++)if(t=e.children[a],!t.specialStatus.fosterChild&&!t.specialStatus.homelessMigrantRunaway&&!t.specialStatus.headStartParticipant)return!1;return!0}function o(e){for(var t=_.findIndex(u,function(t){return t.state===e}),r=t+1;r<u.length;r++)if(u[r].required)return u[r].state;return"confirmation"}function i(){var r,a=e.currentState||t.$current.self.name,n=e.previousState||"start";r="soFar"===a?n?o(n):"start":l[a].showSummaryAfter?"soFar":o(a),t.go(r)}function s(){var r=e.previousState||"start";t.go(r)}var u=[{label:"Let’s Get Started! ",state:"start",completed:!1,required:!0,showSummaryAfter:!1},{label:"Children",state:"children",completed:!1,required:!0,showSummaryAfter:!0},{label:"Household Members",state:"household",completed:!1,required:!0,showSummaryAfter:!0},{label:"Children's Income",state:"childIncome",completed:!1,required:!0,showSummaryAfter:!0},{label:"Household Income",state:"householdIncome",completed:!1,required:!0,showSummaryAfter:!0},{label:"Disclosure",state:"disclosure",completed:!1,required:!0,showSummaryAfter:!1},{label:"Sign and Confirm",state:"signature",completed:!1,required:!0,showSummaryAfter:!1}],l=_.indexBy(u,"state"),c={meansTest:!0,sections:u,indexedSections:l,navigateToNext:i,goBack:s,updateRequiredSections:r};return c}angular.module("eatChallengeApp").service("Sections",e),e.$inject=["$rootScope","$state"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2V4cG9ydC5qcyIsImNvbnRyb2xsZXJzL2hvdXNlaG9sZEluY29tZS5qcyIsImNvbnRyb2xsZXJzL2xvZ2luLmpzIiwiY29udHJvbGxlcnMvbWFpbi5qcyIsImNvbnRyb2xsZXJzL3NpZGVuYXYuanMiLCJkaXJlY3RpdmVzL2luY29tZS5qcyIsImRpcmVjdGl2ZXMveWVzbm8uanMiLCJzZXJ2aWNlcy9hdXRoLmpzIiwic2VydmljZXMvaG91c2Vob2xkLmpzIiwic2VydmljZXMvc2VjdGlvbnMuanMiXSwibmFtZXMiOlsic2Nyb2xsZXIiLCIkcm9vdFNjb3BlIiwiJG9uIiwiZG9jdW1lbnQiLCJib2R5Iiwic2Nyb2xsVG9wIiwiZG9jdW1lbnRFbGVtZW50IiwiZXYiLCJ0byIsInRvUGFyYW1zIiwiZnJvbSIsImZyb21QYXJhbXMiLCJwcmV2aW91c1N0YXRlIiwibmFtZSIsImN1cnJlbnRTdGF0ZSIsIm1hdGVyaWFsRGVzaWduVGhlbWVyIiwiJG1kVGhlbWluZ1Byb3ZpZGVyIiwidGhlbWUiLCJwcmltYXJ5UGFsZXR0ZSIsImJhY2tncm91bmRQYWxldHRlIiwiZGVmYXVsdCIsInJvdXRlckNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwicm91dGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ2aWV3cyIsIm1haW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJzaWRlLW5hdiIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCJydW4iLCIkaW5qZWN0IiwiZXhwb3J0Q29udHJvbGxlciIsIiRodHRwIiwiJHNjb3BlIiwiZ2V0IiwidGhlbiIsInJlc3BvbnNlIiwiY29tcGxldGVkQXBwbGljYXRpb25zIiwiZGF0YSIsImhvdXNlaG9sZEluY29tZSIsIiRzdGF0ZSIsIkF1dGgiLCJIb3VzZWhvbGQiLCJTZWN0aW9ucyIsIkhvdXNlaG9sZEluY29tZSIsIm5hdmlnYXRlVG9OZXh0U2VjdGlvbiIsInNhdmUiLCJ1cGRhdGVSZXF1aXJlZFNlY3Rpb25zIiwiaG91c2Vob2xkIiwibmF2aWdhdGVUb05leHQiLCIkY3VycmVudCIsInNlbGYiLCJ2bSIsIndvcmsiLCJjYXRlZ29yeU5hbWUiLCJoZWFkbGluZSIsInF1ZXN0aW9uIiwic291cmNlcyIsInZhdWxlIiwiY2hlY2tib3hMYWJlbCIsInNob3J0TGFiZWwiLCJmcmVxdWVuY3kiLCJhbm5vdGF0aW9uIiwicHVibGljQXNzaXN0YW5jZSIsImFsaW1vbnkiLCJjaGlsZFN1cHBvcnQiLCJyZXRpcmVtZW50Iiwib3RoZXJJbmNvbWUiLCJpbmNvbWVDYXRlZ29yaWVzIiwibG9naW5Db250cm9sbGVyIiwiJGxvY2F0aW9uIiwibWFpbkNvbnRyb2xsZXIiLCIkaW50ZXJ2YWwiLCIkbWREaWFsb2ciLCIkbWRNZWRpYSIsImluaXQiLCJjaGlsZHJlbiIsImxlbmd0aCIsImNoaWxkcmVuTGFiZWwiLCJvdGhlck1lbWJlcnMiLCJhZHVsdHNMYWJlbCIsImFkZENoaWxkIiwibmV3VmFsIiwibmV3Q2hpbGQiLCJwdXNoIiwiYWRkT3RoZXJNZW1iZXIiLCJob3VzZWhvbGRNZW1iZXIiLCJPYmplY3QiLCJjcmVhdGUiLCJIb3VzZWhvbGRNZW1iZXIiLCJlc3RpbWF0ZUluY29tZSIsInRyaW1DaGlsZHJlbiIsInRyaW1PdGhlck1lbWJlcnMiLCJnb0JhY2siLCJzdWJtaXRBcHBsaWNhdGlvbiIsImNvbXBsZXRlZCIsInNjaG9vbERpc3RyaWN0IiwibWVhbnNUZXN0IiwiZXN0aW1hdGVkSW5jb21lIiwiaW5jb21lIiwiJHdhdGNoIiwic2lkZU5hdkNvbnRyb2xsZXIiLCJzZWN0aW9ucyIsImluY29tZURpcmVjdGl2ZSIsImRpcmVjdGl2ZSIsInNjb3BlIiwibWVtYmVyIiwicmVzdHJpY3QiLCJyZXBsYWNlIiwibGluayIsImluY29tZVNvdXJjZXMiLCJsYWJlbCIsInNvY2lhbFNlY3VyaXR5Iiwib3RoZXJQZXJzb24iLCJvdGhlclNvdXJjZSIsImtleXMiLCJmb3JFYWNoIiwiaW5jb21lU291cmNlIiwidHlwZSIsImFtb3VudCIsInllc05vSW5wdXQiLCJtb2RlbCIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsInBvc3QiLCJzdWNjZXNzIiwidXNlciIsImxvZ291dCIsInNlcnZpY2UiLCJob3VzZWhvbGRTZXJ2aWNlIiwiY2xlYXIiLCJ0aGlzIiwiY2hpbGRDb3VudCIsIm90aGVyTWVtYmVyc0NvdW50IiwiY29tcGxldGVkQXBwbGljYXRpb24iLCJzZWN0aW9uc1NlcnZpY2UiLCJhc3Npc3RhbmNlUHJvZ3JhbUhvdXNlaG9sZCIsImlzQXNzaXN0YW5jZUhvdXNlaG9sZCIsImNhdGVnb3JpY2FsbHlRdWFsaWZpZWQiLCJhbGxTdHVkZW50c0NhdGVnb3JpY2FsbHlRdWFsaWZ5IiwiaW5kZXhlZFNlY3Rpb25zIiwicmVxdWlyZWQiLCJzZWN0aW9uIiwiY3VycmVudENoaWxkIiwiaSIsImFzc2lzdGFuY2VQcm9ncmFtIiwicGFydGljaXBhbnQiLCJlbnJvbGxlZENoaWxkcmVuIiwiXyIsImZpbHRlciIsImMiLCJlbnJvbGxlZCIsInNwZWNpYWxTdGF0dXMiLCJmb3N0ZXJDaGlsZCIsImhvbWVsZXNzTWlncmFudFJ1bmF3YXkiLCJoZWFkU3RhcnRQYXJ0aWNpcGFudCIsImZpbmROZXh0IiwiY3VycmVudEluZGV4IiwiZmluZEluZGV4IiwibmV4dFNlY3Rpb24iLCJzaG93U3VtbWFyeUFmdGVyIiwiZ28iLCJpbmRleEJ5Il0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNJLFlBU0EsU0FBU0EsR0FBU0MsR0FFZEEsRUFBV0MsSUFBSSxzQkFBdUIsV0FDbENDLFNBQVNDLEtBQUtDLFVBQVlGLFNBQVNHLGdCQUFnQkQsVUFBWSxJQUluRUosRUFBV0MsSUFBSSxzQkFBdUIsU0FBU0ssRUFBSUMsRUFBSUMsRUFBVUMsRUFBTUMsR0FDbkVWLEVBQVdXLGNBQWdCRixFQUFLRyxLQUNoQ1osRUFBV2EsYUFBZU4sRUFBR0ssT0FLckMsUUFBU0UsR0FBcUJDLEdBQ3pCQSxF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QUFVQSxFQUNWdUMsZ0JBQWlCQSxFQUNqQjVGLGVBQWdCQSxFQUNoQjRDLE9BQVFBLEVBQ1I5Qyx1QkFBd0JBLEVBRzVCLE9BQU9rRixHQXJFWHZHLFFBQ0tDLE9BQU8sbUJBQ1BzRyxRQUFRLFdBQVlPLEdBRXpCQSxFQUFnQjFHLFNBQVcsYUFBYyIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnLFsnbmdDb29raWVzJywgJ25nQ3N2JywnbmdNYXRlcmlhbCcsICduZ1Nhbml0aXplJywgJ3VpLnJvdXRlciddKVxuICAgIC5jb25maWcocm91dGVyQ29uZmlnKVxuICAgIC5jb25maWcobWF0ZXJpYWxEZXNpZ25UaGVtZXIpXG4gICAgLnJ1bihzY3JvbGxlcik7XG5cbiAgICBzY3JvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJ107XG4gICAgZnVuY3Rpb24gc2Nyb2xsZXIoJHJvb3RTY29wZSkge1xuICAgICAgICAgLy8gc2Nyb2xsIHRvIHRoZSB0b3Agb24gcGFnZSB0cmFuc2l0aW9uXG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gS2VlcCB0cmFjayBvZiBoaXN0b3J5XG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oZXYsIHRvLCB0b1BhcmFtcywgZnJvbSwgZnJvbVBhcmFtcykge1xuICAgICAgICAgICAgJHJvb3RTY29wZS5wcmV2aW91c1N0YXRlID0gZnJvbS5uYW1lO1xuICAgICAgICAgICAgJHJvb3RTY29wZS5jdXJyZW50U3RhdGUgPSB0by5uYW1lO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBtYXRlcmlhbERlc2lnblRoZW1lci4kaW5qZWN0ID0gWyckbWRUaGVtaW5nUHJvdmlkZXInXTtcbiAgICBmdW5jdGlvbiBtYXRlcmlhbERlc2lnblRoZW1lcigkbWRUaGVtaW5nUHJvdmlkZXIpIHtcbiAgICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpXG4gICAgICAgIC8vIC5wcmltYXJ5UGFsZXR0ZSgnYmx1ZS1ncmV5JylcbiAgICAgICAgLnByaW1hcnlQYWxldHRlKCd0ZWFsJylcbiAgICAgICAgLmJhY2tncm91bmRQYWxldHRlKCdicm93bicsIHtcbiAgICAgICAgICAgICdkZWZhdWx0JzogJzUwJ1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdsaWdodC1ibHVlJyk7XG4gICAgICAgIC8vIC5wcmltYXJ5UGFsZXR0ZSgncGluaycsIHtcbiAgICAgICAgLy8gICAnZGVmYXVsdCc6ICc0MDAnLCAvLyBieSBkZWZhdWx0IHVzZSBzaGFkZSA0MDAgZnJvbSB0aGUgcGluayBwYWxldHRlIGZvciBwcmltYXJ5IGludGVudGlvbnNcbiAgICAgICAgLy8gICAnaHVlLTEnOiAnMTAwJywgLy8gdXNlIHNoYWRlIDEwMCBmb3IgdGhlIDxjb2RlPm1kLWh1ZS0xPC9jb2RlPiBjbGFzc1xuICAgICAgICAvLyAgICdodWUtMic6ICc2MDAnLCAvLyB1c2Ugc2hhZGUgNjAwIGZvciB0aGUgPGNvZGU+bWQtaHVlLTI8L2NvZGU+IGNsYXNzXG4gICAgICAgIC8vICAgJ2h1ZS0zJzogJ0ExMDAnIC8vIHVzZSBzaGFkZSBBMTAwIGZvciB0aGUgPGNvZGU+bWQtaHVlLTM8L2NvZGU+IGNsYXNzXG4gICAgICAgIC8vIH0pXG4gICAgICAgIC8vIC8vIElmIHlvdSBzcGVjaWZ5IGxlc3MgdGhhbiBhbGwgb2YgdGhlIGtleXMsIGl0IHdpbGwgaW5oZXJpdCBmcm9tIHRoZVxuICAgICAgICAvLyAvLyBkZWZhdWx0IHNoYWRlc1xuICAgICAgICAvLyAuYWNjZW50UGFsZXR0ZSgncHVycGxlJywge1xuICAgICAgICAvLyAgICdkZWZhdWx0JzogJzIwMCcgLy8gdXNlIHNoYWRlIDIwMCBmb3IgZGVmYXVsdCwgYW5kIGtlZXAgYWxsIG90aGVyIHNoYWRlcyB0aGUgc2FtZVxuICAgICAgICAvLyB9KTtcbiAgICB9XG5cbiAgICByb3V0ZXJDb25maWcuJGluamVjdCA9IFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJ107XG5cbiAgICBmdW5jdGlvbiByb3V0ZXJDb25maWcgKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcblxuICAgICAgICByb3V0ZXIoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcik7XG5cbiAgICAgICAgLy8vLy8vLy8vL1xuICAgICAgICBmdW5jdGlvbiByb3V0ZXIoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xuICAgICAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuXG4gICAgICAgICAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAgICAgLnN0YXRlKCdzdGFydCcsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgIC8vICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3N0YXJ0Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnY2hpbGRyZW4nLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2NoaWxkcmVuJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2NoaWxkcmVuLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnY2hpbGRJbmNvbWUnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2NoaWxkSW5jb21lJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvY2hpbGRJbmNvbWUuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYWluQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnaG91c2Vob2xkJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9ob3VzZWhvbGQnLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvaG91c2Vob2xkLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnaG91c2Vob2xkSW5jb21lJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9ob3VzZWhvbGQtaW5jb21lJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2hvdXNlaG9sZEluY29tZS5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdob3VzZWhvbGRJbmNvbWUnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdkaXNjbG9zdXJlJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9kaXNjbG9zdXJlJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2Rpc2Nsb3N1cmUuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdzaWduYXR1cmUnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3NpZ25hdHVyZScsXG4gICAgICAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICAgICAgICAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZ25hdHVyZS5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdjb25maXJtYXRpb24nLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2NvbmZpcm1hdGlvbicsXG4gICAgICAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICAgICAgICAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2NvbmZpcm1hdGlvbi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdleHBvcnQnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2V4cG9ydCcsXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvZXhwb3J0Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2V4cG9ydENvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdzaWdudXAnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3NpZ251cCcsXG4gICAgICAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICAgICAgICAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWdudXAuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ2xvZ2luJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9sb2dpbicsXG4gICAgICAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICAgICAgICAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9sb2dpbi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdsb2dpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdzb0ZhcicsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvc28tZmFyJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc29GYXIuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYWluQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgICAuY29udHJvbGxlcignZXhwb3J0Q29udHJvbGxlcicsIGV4cG9ydENvbnRyb2xsZXIpO1xuXG4gICAgZXhwb3J0Q29udHJvbGxlci4kaW5qZWN0ID0gWyckaHR0cCcsICckc2NvcGUnXTtcblxuICAgIGZ1bmN0aW9uIGV4cG9ydENvbnRyb2xsZXIoJGh0dHAsICRzY29wZSkge1xuICAgICAgICAkaHR0cC5nZXQoJy9ob3VzZWhvbGQvY29tcGxldGVkJykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgJHNjb3BlLmNvbXBsZXRlZEFwcGxpY2F0aW9ucyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdob3VzZWhvbGRJbmNvbWUnLCBob3VzZWhvbGRJbmNvbWUpO1xuXG4gICAgaG91c2Vob2xkSW5jb21lLiRpbmplY3QgPSBbXG4gICAgICAgICckc2NvcGUnLFxuICAgICAgICAnJHN0YXRlJyxcbiAgICAgICAgJ0F1dGgnLFxuICAgICAgICAnSG91c2Vob2xkJyxcbiAgICAgICAgJ1NlY3Rpb25zJ1xuICAgIF07XG5cbiAgICBmdW5jdGlvbiBob3VzZWhvbGRJbmNvbWUgKCRzY29wZSwgJHN0YXRlLCBBdXRoLCBIb3VzZWhvbGQsIFNlY3Rpb25zLCBIb3VzZWhvbGRJbmNvbWUpIHtcbiAgICAgICAgdmFyIHZtID0gJHNjb3BlO1xuICAgICAgICB2YXIgaG91c2Vob2xkID0gSG91c2Vob2xkLmdldCgpO1xuXG4gICAgICAgIHZhciB3b3JrID0ge1xuICAgICAgICAgICAgY2F0ZWdvcnlOYW1lOiAnd29yaycsXG4gICAgICAgICAgICBoZWFkbGluZTogJ1dvcmsgSW5jb21lJyxcbiAgICAgICAgICAgIHF1ZXN0aW9uOiAnZWFybiBtb25leSB0aHJvdWdoIHdvcmsnLFxuICAgICAgICAgICAgc291cmNlczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6J3dvcmsnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnV29yayBvdXRzaWRlIHRoZSBob21lIGluIGEgbm9uLW1pbGl0YXJ5IGNhcGFjaXR5ICcsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdFYXJuaW5ncyBmcm9tIHdvcmsnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ1BsZWFzZSByZXBvcnQgZ3Jvc3MgaW5jb21lLiBUaGlzIGlzIHRoZSBhbW91bnQgb2YgaW5jb21lIGVhcm5lZCBiZWZvcmUgYW55IG1vbmV5IGlzIHRha2VuIG91dCBmb3IgdGF4ZXMgb3IgZGVkdWN0aW9ucy4gSW5jbHVkZSBzYWxhcnksIHdhZ2VzLCBhbmQgY2FzaCBib251c2VzLidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6J3NlbGZFbXBsb3llZCcsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdFYXJuaW5ncyBmcm9tIHNlbGYgZW1wbG95bWVudCcsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdTZWxmLWVtcGxveWVkJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdGb3IgaG91c2Vob2xkIG1lbWJlcnMgdGhhdCBhcmUgc2VsZi1lbXBsb3llZCwgcmVwb3J0IGluY29tZSBmcm9tIHRoYXQgd29yayBhcyBhIG5ldCBhbW91bnQuIFRoaXMgaXMgY2FsY3VsYXRlZCBieSBzdWJ0cmFjdGluZyB0aGUgdG90YWwgb3BlcmF0aW5nIGV4cGVuc2VzIG9mIHRoZSBidXNpbmVzcyBmcm9tIGl0cyBncm9zcyByZWNlaXB0cyBvciByZXZlbnVlLidcblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTonb25TdHJpa2UnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnT24gc3RyaWtlJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ1N0cmlrZSBCZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBhZGQgc3BhY2UgZm9yIGhvdXNpbmcgYWxsb3dhbmNlIHBlciBkb2NcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6J21pbGl0YXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ0luIHRoZSBVLlMuIG1pbGl0YXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ0Jhc2ljIHBheSBhbmQgY2FzaCBib251c2VzJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdQbGVhc2UgZG8gbm90IGluY2x1ZGUgY29tYmF0IHBheSwgRlNTQSwgb3IgcHJpdmF0ZSBob3VzaW5nIGFsbG93YW5jZXMuJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcHVibGljQXNzaXN0YW5jZSA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogJ3B1YmxpY0Fzc2lzdGFuY2UnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdQdWJsaWMgQXNzaXN0YW5jZScsXG4gICAgICAgICAgICBxdWVzdGlvbjogJ3JlY2VpdmUgYW55IHB1YmxpYyBhc3Npc3RhbmNlIGJlbmVmaXRzJyxcbiAgICAgICAgICAgIHNvdXJjZXM6W1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6J3VuZW1wbG95bWVudCcsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdVbmVtcGxveW1lbnQgYmVuZWZpdHMnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnVW5lbXBsb3ltZW50IGJlbmVmaXRzJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIC8vIGFubm90YXRpb246ICcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOid3b3JrZXJzQ29tcCcsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdXb3JrZXLigJlzIGNvbXBlbnNhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdXb3JrZXLigJlzIGNvbXBlbnNhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTonc3NpJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ1N1cHBsZW1lbnRhbCBTZWN1cml0eSBJbmNvbWUgKFNTSSknLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnU3VwcGxlbWVudGFsIFNlY3VyaXR5IEluY29tZSAoU1NJKScsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTonY2FzaEFzc2lzdGFuY2UnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnQ2FzaCBhc3Npc3RhbmNlIGZyb20gU3RhdGUgb3IgbG9jYWwgZ292ZXJubWVudCcsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdDYXNoIGFzc2lzdGFuY2UnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ1RoaXMgY291bGQgaW5jbHVkZSBUQU5GIG9yIEdlbmVyYWwgQXNzaXN0YW5jZSBtb25leS4nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOid2ZXRlcmFuc0JlbmVmaXRzJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ1ZldGVyYW7igJlzIGJlbmVmaXRzJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ1ZldGVyYW7igJlzIGJlbmVmaXRzJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIC8vIGFubm90YXRpb246ICdUaGlzIGNvdWxkIGluY2x1ZGUgVEFORiBvciBHZW5lcmFsIEFzc2lzdGFuY2UgbW9uZXknXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhbGltb255ID0ge1xuICAgICAgICAgICAgY2F0ZWdvcnlOYW1lOiAnYWxpbW9ueScsXG4gICAgICAgICAgICBoZWFkbGluZTogJ0FsaW1vbnknLFxuICAgICAgICAgICAgcXVlc3Rpb246ICdyZWNlaXZlIGFsaW1vbnkgcGF5bWVudHMnLFxuICAgICAgICAgICAgc291cmNlczpbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTogJ2FsaW1vbnknLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnYWxpbW9ueSBwYXltZW50cycsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdBbGltb255IHBheW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ0lmIGluY29tZSBpcyByZWNlaXZlZCBmcm9tIGNoaWxkIHN1cHBvcnQgb3IgYWxpbW9ueSwgb25seSBjb3VydC1vcmRlcmVkIHBheW1lbnRzIHNob3VsZCBiZSByZXBvcnRlZCBoZXJlLiBJbmZvcm1hbCBidXQgcmVndWxhciBwYXltZW50cyBzaG91bGQgYmUgcmVwb3J0ZWQgbGF0ZXIgYXMg4oCcb3RoZXLigJ0gaW5jb21lLidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGNoaWxkU3VwcG9ydCA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogJ2NoaWxkU3VwcG9ydCcsXG4gICAgICAgICAgICBoZWFkbGluZTogJ0NoaWxkIFN1cHBvcnQnLFxuICAgICAgICAgICAgcXVlc3Rpb246ICdyZWNlaXZlIGFueSBjaGlsZCBzdXBwb3J0JyxcbiAgICAgICAgICAgIHNvdXJjZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOiAnY2hpbGRTdXBwb3J0JyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ2FueSBjaGlsZCBzdXBwb3J0JyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ0NoaWxkIHN1cHBvcnQgcGF5bWVudCcsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uOiAnSWYgaW5jb21lIGlzIHJlY2VpdmVkIGZyb20gY2hpbGQgc3VwcG9ydCBvciBjaGlsZFN1cHBvcnQsIG9ubHkgY291cnQtb3JkZXJlZCBwYXltZW50cyBzaG91bGQgYmUgcmVwb3J0ZWQgaGVyZS4gSW5mb3JtYWwgYnV0IHJlZ3VsYXIgcGF5bWVudHMgc2hvdWxkIGJlIHJlcG9ydGVkIGxhdGVyIGFzIOKAnG90aGVy4oCdIGluY29tZS4nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciByZXRpcmVtZW50ID0ge1xuICAgICAgICAgICAgY2F0ZWdvcnlOYW1lOiAncmV0aXJlbWVudCcsXG4gICAgICAgICAgICBoZWFkbGluZTogJ1BlbnNpb24gYW5kIFJldGlyZW1lbnQnLFxuICAgICAgICAgICAgcXVlc3Rpb246ICdyZWNlaXZlIGFueSBwZW5zaW9uIG9yIHJldGlyZW1lbnQgbW9uZXknLFxuICAgICAgICAgICAgc291cmNlczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6ICdzb2NpYWxTZWN1cml0eScsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdTb2NpYWwgU2VjdXJpdHkgKGluY2x1ZGluZyByYWlscm9hZCByZXRpcmVtZW50IGFuZCBibGFjayBsdW5nIGJlbmVmaXRzKScsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdTb2NpYWwgc2VjdXJpdHknLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ1BsZWFzZSBpbmNsdWRlIHJhaWxyb2FkIHJldGlyZW1lbnQgYW5kIGJsYWNrIGx1bmcgYmVuZWZpdHMnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOiAncHJpdmF0ZVBlbnNpb24nLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnUHJpdmF0ZSBwZW5zaW9ucyBvciBkaXNhYmlsaXR5JyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ1ByaXZhdGUgcGVuc2lvbnMgb3IgZGlzYWJpbGl0eScsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgb3RoZXJJbmNvbWUgPSB7XG4gICAgICAgICAgICBjYXRlZ29yeU5hbWU6ICdvdGhlckluY29tZScsXG4gICAgICAgICAgICBoZWFkbGluZTogJ090aGVyIEluY29tZScsXG4gICAgICAgICAgICBxdWVzdGlvbjogJ3JlY2lldmUgbW9uZXkgdGhyb3VnaCBhbnkgb3RoZXIgc291cmNlJyxcbiAgICAgICAgICAgIHNvdXJjZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOiAndHJ1c3RzJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ0luY29tZSBmcm9tIHRydXN0cyBvciBlc3RhdGVzJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ0luY29tZSBmcm9tIHRydXN0cyBvciBlc3RhdGVzJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIC8vIGFubm90YXRpb246ICcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOiAnYW5udWl0aWVzJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ0FubnVpdGllcycsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdJbmNvbWUgZnJvbSBhbm51aXRpZXMnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6ICdpbnZlc3RtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ0ludmVzdG1lbnQgaW5jb21lJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ0ludmVzdG1lbnQgaW5jb21lJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIC8vIGFubm90YXRpb246ICcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOiAnaW50ZXJlc3QnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnRWFybmVkIGludGVyZXN0JyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ0Vhcm5lZCBpbnRlcmVzdCcsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTogJ3JlbnRhbEluY29tZScsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdSZW50YWwgaW5jb21lJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ1JlbnRhbCBpbmNvbWUnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6ICdvdGhlckNhc2gnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnUmVndWxhciBjYXNoIHBheW1lbnRzIGZyb20gb3V0c2lkZSBob3VzZWhvbGQnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnUmVndWxhciBjYXNoIHBheW1lbnRzIGZyb20gb3V0c2lkZSBob3VzZWhvbGQnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ1N1Y2ggY2FzaCBwYXltZW50cyBzaG91bGQgaW5jbHVkZSByZWd1bGFyIGNoaWxkIHN1cHBvcnQgb3IgYWxpbW9ueSBwYXltZW50cyByZWNlaXZlZCBieSB0aGUgaG91c2Vob2xkIHRoYXQgYXJlIG5vdCBjb3VydC1vcmRlcmVkLidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIG5hdmlnYXRlVG9OZXh0U2VjdGlvbigpIHtcbiAgICAgICAgICAgIEhvdXNlaG9sZC5zYXZlKCk7XG4gICAgICAgICAgICBTZWN0aW9ucy51cGRhdGVSZXF1aXJlZFNlY3Rpb25zKCRzY29wZS5ob3VzZWhvbGQpO1xuICAgICAgICAgICAgU2VjdGlvbnMubmF2aWdhdGVUb05leHQoJHN0YXRlLiRjdXJyZW50LnNlbGYubmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW5jb21lQ2F0ZWdvcmllcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29yayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGljQXNzaXN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpbW9ueSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRTdXBwb3J0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRpcmVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlckluY29tZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgdm0uaG91c2Vob2xkID0gaG91c2Vob2xkO1xuICAgICAgICB2bS5uYXZpZ2F0ZVRvTmV4dFNlY3Rpb24gPSBuYXZpZ2F0ZVRvTmV4dFNlY3Rpb247XG4gICAgICAgIHZtLmluY29tZUNhdGVnb3JpZXMgPSBpbmNvbWVDYXRlZ29yaWVzO1xuXG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAuY29udHJvbGxlcignbG9naW5Db250cm9sbGVyJywgW2xvZ2luQ29udHJvbGxlcl0pO1xuICAgIGxvZ2luQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9jYXRpb24nLCAnJHNjb3BlJ107XG4gICAgZnVuY3Rpb24gbG9naW5Db250cm9sbGVyKCRsb2NhdGlvbiwgJHNjb3BlKSB7XG4gICAgICAgIHZhciB2bSA9ICRzY29wZTtcbiAgICAgICAgLy8gZGVidWdnZXI7XG4gICAgICAgIC8vIHZtLmVycm9yID0gJGxvY2F0aW9uO1xuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdtYWluQ29udHJvbGxlcicsIG1haW5Db250cm9sbGVyKTtcblxuICAgIG1haW5Db250cm9sbGVyLiRpbmplY3QgPSBbXG4gICAgICAgICckaHR0cCcsXG4gICAgICAgICckaW50ZXJ2YWwnLFxuICAgICAgICAnJG1kRGlhbG9nJyxcbiAgICAgICAgJyRtZE1lZGlhJyxcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckc3RhdGUnLFxuICAgICAgICAnQXV0aCcsXG4gICAgICAgICdIb3VzZWhvbGQnLFxuICAgICAgICAnU2VjdGlvbnMnXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIG1haW5Db250cm9sbGVyICgkaHR0cCwgJGludGVydmFsLCAkbWREaWFsb2csICRtZE1lZGlhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUsICRzdGF0ZSwgQXV0aCwgSG91c2Vob2xkLCBTZWN0aW9ucykge1xuICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgICAgIHZhciB2bSA9ICRzY29wZTtcbiAgICAgICAgdmFyIGhvdXNlaG9sZCA9IEhvdXNlaG9sZC5nZXQoKTtcblxuICAgICAgICB2bS5zY2hvb2xEaXN0cmljdCA9ICdPYWtsYW5kIFVuaWZpZWQgU2Nob29sIERpc3RyaWN0JztcblxuICAgICAgICB2bS5ob3VzZWhvbGQgPSBob3VzZWhvbGQ7XG4gICAgICAgIHZtLm1lYW5zVGVzdCA9IFNlY3Rpb25zLm1lYW5zVGVzdDtcbiAgICAgICAgdm0uZXN0aW1hdGVkSW5jb21lID0gZXN0aW1hdGVJbmNvbWUoaG91c2Vob2xkKTtcblxuICAgICAgICB2bS5jaGlsZHJlbkxhYmVsID0gJ2NoaWxkcmVuJztcbiAgICAgICAgdm0uYWR1bHRzTGFiZWwgPSAnYWR1bHRzJztcblxuICAgICAgICAvLyBuYXZpZ2F0aW9uXG4gICAgICAgIHZtLmdvQmFjayA9IGdvQmFjaztcbiAgICAgICAgdm0ubmF2aWdhdGVUb05leHRTZWN0aW9uID0gbmF2aWdhdGVUb05leHRTZWN0aW9uO1xuICAgICAgICB2bS5zdWJtaXRBcHBsaWNhdGlvbiA9IHN1Ym1pdEFwcGxpY2F0aW9uO1xuICAgICAgICBcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgICAgICBpZiAoaG91c2Vob2xkLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHZtLmNoaWxkcmVuTGFiZWwgPSAnY2hpbGQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhvdXNlaG9sZC5vdGhlck1lbWJlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdm0uYWR1bHRzTGFiZWwgPSAnYWR1bHQnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBpbml0KCk7XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkQ2hpbGQobmV3VmFsKSB7XG4gICAgICAgICAgICBpZiAobmV3VmFsID4gJHNjb3BlLmhvdXNlaG9sZC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQoJy9jaGlsZCcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0NoaWxkID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhvdXNlaG9sZC5jaGlsZHJlbi5wdXNoKG5ld0NoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2hpbGQobmV3VmFsKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE86IE1vdmUgdG8gbW9uZ29vc2UgbW9kZWxcbiAgICAgICAgdmFyIEhvdXNlaG9sZE1lbWJlciA9IHtcbiAgICAgICAgICAgIGluY29tZToge31cbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBhZGRPdGhlck1lbWJlcihuZXdWYWwpIHtcbiAgICAgICAgICAgIHdoaWxlIChuZXdWYWwgPiAkc2NvcGUuaG91c2Vob2xkLm90aGVyTWVtYmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaG91c2Vob2xkTWVtYmVyID0gT2JqZWN0LmNyZWF0ZShIb3VzZWhvbGRNZW1iZXIpO1xuICAgICAgICAgICAgICAgICRzY29wZS5ob3VzZWhvbGQub3RoZXJNZW1iZXJzLnB1c2goaG91c2Vob2xkTWVtYmVyKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogZmluaXNoIHRoaXMgZnVuY3Rpb25cbiAgICAgICAgZnVuY3Rpb24gZXN0aW1hdGVJbmNvbWUoaG91c2Vob2xkKSB7XG4gICAgICAgICAgICByZXR1cm4gNDc7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0cmltQ2hpbGRyZW4oaG91c2Vob2xkKSB7XG4gICAgICAgICAgICByZXR1cm4gaG91c2Vob2xkO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdHJpbU90aGVyTWVtYmVycyhob3VzZWhvbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBob3VzZWhvbGQ7XG4gICAgICAgIH1cblxuXG5cbiAgICAgICAgZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgICAgICAgICAgSG91c2Vob2xkLnNhdmUoKTtcbiAgICAgICAgICAgIFNlY3Rpb25zLnVwZGF0ZVJlcXVpcmVkU2VjdGlvbnMoJHNjb3BlLmhvdXNlaG9sZCk7XG4gICAgICAgICAgICBTZWN0aW9ucy5nb0JhY2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG5hdmlnYXRlVG9OZXh0U2VjdGlvbigpIHtcbiAgICAgICAgICAgIHRyaW1DaGlsZHJlbihob3VzZWhvbGQpO1xuICAgICAgICAgICAgdHJpbU90aGVyTWVtYmVycyhob3VzZWhvbGQpO1xuXG4gICAgICAgICAgICBIb3VzZWhvbGQuc2F2ZSgpO1xuICAgICAgICAgICAgU2VjdGlvbnMudXBkYXRlUmVxdWlyZWRTZWN0aW9ucygkc2NvcGUuaG91c2Vob2xkKTtcbiAgICAgICAgICAgIFNlY3Rpb25zLm5hdmlnYXRlVG9OZXh0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzdWJtaXRBcHBsaWNhdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5ob3VzZWhvbGQuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIG5hdmlnYXRlVG9OZXh0U2VjdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2F0Y2hlcnNcbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnaG91c2Vob2xkLmNoaWxkQ291bnQnLCBhZGRDaGlsZCk7XG4gICAgICAgICRzY29wZS4kd2F0Y2goJ2hvdXNlaG9sZC5vdGhlck1lbWJlcnNDb3VudCcsIGFkZE90aGVyTWVtYmVyKTtcbiAgICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgICAuY29udHJvbGxlcignc2lkZU5hdkNvbnRyb2xsZXInLCBzaWRlTmF2Q29udHJvbGxlcik7XG5cbiAgICBzaWRlTmF2Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJHN0YXRlJywgJ1NlY3Rpb25zJ107XG5cbiAgICBmdW5jdGlvbiBzaWRlTmF2Q29udHJvbGxlciAoJHNjb3BlLCAkc3RhdGUsIFNlY3Rpb25zKSB7XG4gICAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgICAgdmFyIHZtID0gJHNjb3BlO1xuXG4gICAgICAgIHZtLmN1cnJlbnRTdGF0ZSA9ICRzdGF0ZS4kY3VycmVudC5zZWxmLm5hbWU7XG4gICAgICAgIHZtLnNlY3Rpb25zID0gU2VjdGlvbnMuc2VjdGlvbnM7XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnaW5jb21lUXVlc3Rpb25zJywgaW5jb21lRGlyZWN0aXZlKTtcblxuICAgIGZ1bmN0aW9uIGluY29tZURpcmVjdGl2ZSgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgbWVtYmVyOiAnPSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvaW5jb21lLmh0bWwnLFxuICAgICAgICAgICAgbGluazogbGlua1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgfVxuXG4gICAgLy8gbGluay4kaW5qZWN0ID0gWydzY29wZSddO1xuXG4gICAgZnVuY3Rpb24gbGluayhzY29wZSkge1xuICAgICAgICBzY29wZS5pbmNvbWVTb3VyY2VzID0ge1xuICAgICAgICAgICAgd29yazoge1xuICAgICAgICAgICAgICAgIHZhdWxlOid3b3JrJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0Vhcm5pbmdzIGZyb20gd29yaycsXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ0EgY2hpbGQgaGFzIGEgam9iIHdoZXJlIHRoZXkgZWFybiBzYWxhcnkgb3Igd2FnZXMuIFBsZWFzZSByZXBvcnQgZ3Jvc3MgaW5jb21lLiBUaGlzIGlzIHRoZSBhbW91bnQgb2YgaW5jb21lIGVhcm5lZCBiZWZvcmUgYW55IG1vbmV5IGlzIHRha2VuIG91dCBmb3IgdGF4ZXMgb3IgZGVkdWN0aW9ucy4gSW5jbHVkZSBzYWxhcnksIHdhZ2VzLCBhbmQgY2FzaCBib251c2VzLicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc29jaWFsU2VjdXJpdHk6IHtcbiAgICAgICAgICAgICAgICB2YXVsZTonc29jaWFsU2VjdXJpdHknLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnU29jaWFsIFNlY3VyaXR5IERpc2FiaWxpdHkgUGF5bWVudHMgb3IgU3Vydml2b3LigJlzIEJlbmVmaXRzICcsXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnQSBjaGlsZCBpcyBibGluZCBvciBkaXNhYmxlZCBhbmQgcmVjZWl2ZXMgU29jaWFsIFNlY3VyaXR5IGJlbmVmaXRzLicsXG4gICAgICAgICAgICAgICAgICAgIC8vICcgQSBwYXJlbnQgaXMgZGlzYWJsZWQsIHJldGlyZWQsIG9yIGRlY2Vhc2VkLCBhbmQgdGhlaXIgY2hpbGQgcmVjZWl2ZXMgc29jaWFsIHNlY3VyaXR5IGJlbmVmaXRzJyxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvdGhlclBlcnNvbjoge1xuICAgICAgICAgICAgICAgIHZhdWxlOidvdGhlclBlcnNvbicsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdJbmNvbWUgZnJvbSBwZXJzb25zIG91dHNpZGUgdGhlIGhvdXNlaG9sZCcsXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ0EgZnJpZW5kIG9yIGV4dGVuZGVkIGZhbWlseSBtZW1iZXIgcmVndWxhcmx5IGdpdmVzIGEgY2hpbGQgc3BlbmRpbmcgbW9uZXkuJyxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvdGhlclNvdXJjZToge1xuICAgICAgICAgICAgICAgIHZhdWxlOidvdGhlclNvdXJjZScsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdJbmNvbWUgZnJvbSBhbnkgb3RoZXIgc291cmNlJyxcbiAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uOiAnQSBjaGlsZCByZWNlaXZlcyBpbmNvbWUgZnJvbSBhIHByaXZhdGUgcGVuc2lvbiBmdW5kLCBhbm51aXR5LCBvciB0cnVzdC4nLFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChzY29wZS5tZW1iZXIuaW5jb21lU291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHNjb3BlLm1lbWJlci5pbmNvbWVTb3VyY2VzID0gW107XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzY29wZS5pbmNvbWVTb3VyY2VzKS5mb3JFYWNoKGZ1bmN0aW9uKGluY29tZVNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLm1lbWJlci5pbmNvbWVTb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBpbmNvbWVTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBudWxsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3llc05vSW5wdXQnLCB5ZXNOb0lucHV0KTtcblxuICAgIGZ1bmN0aW9uIHllc05vSW5wdXQgKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgICBtb2RlbDogJz0nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3llc25vLmh0bWwnLFxuICAgICAgICB9O1xuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5zZXJ2aWNlKCdBdXRoJywgQXV0aCk7XG5cbiAgICBBdXRoLiRpbmplY3QgPSBbJyRodHRwJ107XG5cbiAgICBmdW5jdGlvbiBBdXRoKCRodHRwKSB7XG5cbiAgICAgICAgdmFyIHVzZXIgPSBmYWxzZTtcblxuICAgICAgICBmdW5jdGlvbiBzaWdudXAoZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJGh0dHAucG9zdCgnL3VzZXIvc2lnbnVwJywgZGF0YSlcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdXNlciA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIC5lcnJvcihmdW5jdGlvbihkYXRhKSB7fSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGxvZ2luKGVtYWlsLCBwYXNzd29yZCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJGh0dHAucG9zdCgnL3VzZXIvbG9naW4nLCBkYXRhKVxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB1c2VyID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gLmVycm9yKGZ1bmN0aW9uKGRhdGEpIHt9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGxvZ291dCgpIHtcbiAgICAgICAgICAgICRodHRwLnBvc3QoJy91c2VyL2xvZ291dCcpLnN1Y2Nlc3MoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdXNlciA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vXG4gICAgICAgIHZhciBzZXJ2aWNlICA9IHtcbiAgICAgICAgICAgIGxvZ2luOiBsb2dpbixcbiAgICAgICAgICAgIGxvZ291dDogbG9nb3V0LFxuICAgICAgICAgICAgdXNlcjogdXNlclxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5zZXJ2aWNlKCdIb3VzZWhvbGQnLCBob3VzZWhvbGRTZXJ2aWNlKTtcblxuICAgIGhvdXNlaG9sZFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnXTtcblxuICAgIGZ1bmN0aW9uIGhvdXNlaG9sZFNlcnZpY2UoJGh0dHApIHtcbiAgICAgICAgdGhpcy5nZXQgPSBnZXQ7XG4gICAgICAgIHRoaXMuc2F2ZSA9IHNhdmU7XG4gICAgICAgIHRoaXMuY2xlYXIgPSBjbGVhcjtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIHZhciBob3VzZWhvbGQ7XG5cbiAgICAgICAgdmFyIFBlcnNvbiA9IHtcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5jb21lU291cmNlQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5jb21lU291cmNlcyA9IFtdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUb2RvOiBjb25zaWRlciBtb3ZpbmcgdG8gc2VydmVyPz9cbiAgICAgICAgdmFyIEhvdXNlaG9sZCA9IHtcbiAgICAgICAgICAgIGNoaWxkQ291bnQ6IDAsXG4gICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICBvdGhlck1lbWJlcnNDb3VudDogMCxcbiAgICAgICAgICAgIG90aGVyTWVtYmVyczogW10sXG4gICAgICAgICAgICBjb21wbGV0ZWRBcHBsaWNhdGlvbjogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICBpZiAoaG91c2Vob2xkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhvdXNlaG9sZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhvdXNlaG9sZCA9IE9iamVjdC5jcmVhdGUoSG91c2Vob2xkKTtcbiAgICAgICAgICAgIHJldHVybiBob3VzZWhvbGQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzYXZlKCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9ob3VzZWhvbGQnLCBob3VzZWhvbGQpO1xuICAgICAgICAgICAgLy8gLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIC8vICAgICBob3VzZWhvbGQgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjbGVhciAoKSB7XG4gICAgICAgICAgICB2YXIgaG91c2Vob2xkID0ge307XG4gICAgICAgICAgICByZXR1cm4gaG91c2Vob2xkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLnNlcnZpY2UoJ1NlY3Rpb25zJywgc2VjdGlvbnNTZXJ2aWNlKTtcblxuICAgIHNlY3Rpb25zU2VydmljZS4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJyAsJyRzdGF0ZSddO1xuXG4gICAgZnVuY3Rpb24gc2VjdGlvbnNTZXJ2aWNlKCRyb290U2NvcGUsICRzdGF0ZSkge1xuICAgICAgICB2YXIgc2VjdGlvbnMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdMZXRcXOKAmXMgR2V0IFN0YXJ0ZWQhICcsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdzdGFydCcsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93U3VtbWFyeUFmdGVyOiBmYWxzZVxuICAgICAgICAgICAgfSwgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdDaGlsZHJlbicsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdjaGlsZHJlbicsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93U3VtbWFyeUFmdGVyOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnSG91c2Vob2xkIE1lbWJlcnMnLFxuICAgICAgICAgICAgICAgIHN0YXRlOiAnaG91c2Vob2xkJyxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTdW1tYXJ5QWZ0ZXI6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdDaGlsZHJlblxcJ3MgSW5jb21lJyxcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2NoaWxkSW5jb21lJyxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTdW1tYXJ5QWZ0ZXI6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdIb3VzZWhvbGQgSW5jb21lJyxcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2hvdXNlaG9sZEluY29tZScsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93U3VtbWFyeUFmdGVyOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnRGlzY2xvc3VyZScsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdkaXNjbG9zdXJlJyxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTdW1tYXJ5QWZ0ZXI6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnU2lnbiBhbmQgQ29uZmlybScsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdzaWduYXR1cmUnLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvd1N1bW1hcnlBZnRlcjogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgdmFyIGluZGV4ZWRTZWN0aW9ucyA9IF8uaW5kZXhCeShzZWN0aW9ucywgJ3N0YXRlJyk7XG5cbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgICAgICBtZWFuc1Rlc3Q6IHRydWUsXG4gICAgICAgICAgICBzZWN0aW9uczogc2VjdGlvbnMsXG4gICAgICAgICAgICBpbmRleGVkU2VjdGlvbnM6IGluZGV4ZWRTZWN0aW9ucyxcbiAgICAgICAgICAgIG5hdmlnYXRlVG9OZXh0OiBuYXZpZ2F0ZVRvTmV4dCxcbiAgICAgICAgICAgIGdvQmFjazogZ29CYWNrLFxuICAgICAgICAgICAgdXBkYXRlUmVxdWlyZWRTZWN0aW9uczogdXBkYXRlUmVxdWlyZWRTZWN0aW9uc1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlUmVxdWlyZWRTZWN0aW9ucyhob3VzZWhvbGQpIHtcbiAgICAgICAgICAgIHNlcnZpY2UubWVhbnNUZXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBhc3Npc3RhbmNlUHJvZ3JhbUhvdXNlaG9sZCA9IGlzQXNzaXN0YW5jZUhvdXNlaG9sZChob3VzZWhvbGQpO1xuICAgICAgICAgICAgdmFyIGNhdGVnb3JpY2FsbHlRdWFsaWZpZWQgPSBhbGxTdHVkZW50c0NhdGVnb3JpY2FsbHlRdWFsaWZ5KGhvdXNlaG9sZCk7XG5cbiAgICAgICAgICAgIGlmIChhc3Npc3RhbmNlUHJvZ3JhbUhvdXNlaG9sZCB8fCBjYXRlZ29yaWNhbGx5UXVhbGlmaWVkKSB7XG4gICAgICAgICAgICAgICAgc2VydmljZS5tZWFuc1Rlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpbmRleGVkU2VjdGlvbnNbJ2NoaWxkSW5jb21lJ10ucmVxdWlyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpbmRleGVkU2VjdGlvbnNbJ2hvdXNlaG9sZCddLnJlcXVpcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaW5kZXhlZFNlY3Rpb25zWydob3VzZWhvbGRJbmNvbWUnXS5yZXF1aXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VjdGlvbnMuZm9yRWFjaChmdW5jdGlvbihzZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgc2VjdGlvbi5yZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGlzQXNzaXN0YW5jZUhvdXNlaG9sZChob3VzZWhvbGQpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50Q2hpbGQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBob3VzZWhvbGQuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2hpbGQgPSBob3VzZWhvbGQuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGlsZC5hc3Npc3RhbmNlUHJvZ3JhbSAmJiBjdXJyZW50Q2hpbGQuYXNzaXN0YW5jZVByb2dyYW0ucGFydGljaXBhbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWxsU3R1ZGVudHNDYXRlZ29yaWNhbGx5UXVhbGlmeShob3VzZWhvbGQpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50Q2hpbGQsIGNoaWxkUXVhbGlmaWVzO1xuXG4gICAgICAgICAgICB2YXIgZW5yb2xsZWRDaGlsZHJlbiA9IF8uZmlsdGVyKGhvdXNlaG9sZC5jaGlsZHJlbiwgZnVuY3Rpb24oYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjLmVucm9sbGVkID09PSB0cnVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIG11c3QgaGF2ZSBraWRzIHRvIHF1YWxpZnlcbiAgICAgICAgICAgIGlmIChlbnJvbGxlZENoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9hbGwgY2hpbGRyZW4gYXJlIGNhdGVnb3JpY2FsbHkgcXVhbGlmaWVkXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBlbnJvbGxlZENoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudENoaWxkID0gaG91c2Vob2xkLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmICghY3VycmVudENoaWxkLnNwZWNpYWxTdGF0dXMuZm9zdGVyQ2hpbGQgJiZcbiAgICAgICAgICAgICAgICAgICAgIWN1cnJlbnRDaGlsZC5zcGVjaWFsU3RhdHVzLmhvbWVsZXNzTWlncmFudFJ1bmF3YXkgJiZcbiAgICAgICAgICAgICAgICAgICAgIWN1cnJlbnRDaGlsZC5zcGVjaWFsU3RhdHVzLmhlYWRTdGFydFBhcnRpY2lwYW50XG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmaW5kTmV4dChjdXJyZW50U3RhdGUpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50SW5kZXggPSBfLmZpbmRJbmRleChzZWN0aW9ucywgZnVuY3Rpb24oc2VjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWN0aW9uLnN0YXRlID09PSBjdXJyZW50U3RhdGU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gTG9vayBmb3IgdGhlIG5leHQgcmVxdWlyZWQgc2VjdGlvblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGN1cnJlbnRJbmRleCArIDE7IGkgPCBzZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChzZWN0aW9uc1tpXS5yZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VjdGlvbnNbaV0uc3RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmUgbm8gbW9yZSByZXF1aXJlZCBzZWN0aW9ucywgd2UncmUgZG9uZS5cbiAgICAgICAgICAgIHJldHVybiAnY29uZmlybWF0aW9uJztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG5hdmlnYXRlVG9OZXh0KCkge1xuICAgICAgICAgICAgdmFyIG5leHRTZWN0aW9uO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9ICRyb290U2NvcGUuY3VycmVudFN0YXRlIHx8ICRzdGF0ZS4kY3VycmVudC5zZWxmLm5hbWU7XG4gICAgICAgICAgICB2YXIgcHJldmlvdXNTdGF0ZSA9ICRyb290U2NvcGUucHJldmlvdXNTdGF0ZSB8fCAnc3RhcnQnO1xuICAgICAgICAgICAgLy8gSWYgb24gdGhlIHN1bW1hcnkgcGFnZSBnbyB0byB0aGUgbmV4dCBmb3JtIHBhZ2VcbiAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT09ICdzb0ZhcicpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0U2VjdGlvbiAgPSBmaW5kTmV4dChwcmV2aW91c1N0YXRlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGhhcHBlbnMgaWYgeW91IHJlZnJlc2ggdGhlIHBhZ2Ugb24gdGhlIHNvIGZhciBzY3JlZW4uXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbWUgdXAgd2l0aCBzb21ldGhpbmcgYmV0dGVyPyBzdGFzaCBpbiB1cmw/XG4gICAgICAgICAgICAgICAgICAgIG5leHRTZWN0aW9uID0gJ3N0YXJ0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4ZWRTZWN0aW9uc1tjdXJyZW50U3RhdGVdLnNob3dTdW1tYXJ5QWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBvbiBhIGZvcm0gcGFnZSwgZ28gdG8gc3VtbWFyeSBwYWdlXG4gICAgICAgICAgICAgICAgbmV4dFNlY3Rpb24gPSAnc29GYXInO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB5b3UncmUgb24gc29tZSBvdGhlciBwYWdlIGxpa2Ugc3RhcnQgb3Igc2lnbmF0dXJlXG4gICAgICAgICAgICAgICAgLy8gTW92ZSBhaGVhZCBhcyBub3JtYWxcbiAgICAgICAgICAgICAgICBuZXh0U2VjdGlvbiAgPSBmaW5kTmV4dChjdXJyZW50U3RhdGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc3RhdGUuZ28obmV4dFNlY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzU3RhdGUgPSAkcm9vdFNjb3BlLnByZXZpb3VzU3RhdGUgfHwgJ3N0YXJ0JztcbiAgICAgICAgICAgICRzdGF0ZS5nbyhwcmV2aW91c1N0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
