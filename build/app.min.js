!function(){"use strict";function e(e){function l(e){return function(l,t){throw e(l,t),l}}e.decorator("$exceptionHandler",l),l.$inject=["$delegate"]}function l(e){e.$on("$stateChangeSuccess",function(){document.body.scrollTop=document.documentElement.scrollTop=0}),e.$on("$stateChangeSuccess",function(l,t,r,o,n){e.previousState=o.name,e.currentState=t.name})}function t(e){e.theme("default").primaryPalette("teal").backgroundPalette("brown",{"default":"50"})}function r(e,l){function t(e,l){l.otherwise("/"),e.state("start",{url:"/",views:{main:{templateUrl:"../views/start.html",controller:"mainController"}}}).state("children",{url:"/children",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/children.html",controller:"mainController"}}}).state("childIncome",{url:"/childIncome",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/childIncome.html",controller:"mainController"}}}).state("household",{url:"/household",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/household.html",controller:"mainController"}}}).state("householdIncome",{url:"/household-income",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/householdIncome.html",controller:"householdIncome"}}}).state("disclosure",{url:"/disclosure",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/disclosure.html",controller:"mainController"}}}).state("signature",{url:"/signature",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/signature.html",controller:"mainController"}}}).state("confirmation",{url:"/confirmation",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/confirmation.html",controller:"mainController"}}}).state("export",{url:"/export",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/export.html",controller:"exportController"}}}).state("signup",{url:"/signup",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/signup.html",controller:"signupController"}}}).state("login",{url:"/login",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/login.html",controller:"loginController"}}}).state("soFar",{url:"/so-far",views:{"side-nav":{templateUrl:"../views/sideNav.html",controller:"sideNavController"},main:{templateUrl:"../views/soFar.html",controller:"mainController"}}})}t(e,l)}angular.module("eatChallengeApp",["ngCookies","ngCsv","ngMaterial","ngSanitize","ui.router"]).config(r).config(t).config(e).run(l),e.$inject=["$provide"],l.$inject=["$rootScope"],t.$inject=["$mdThemingProvider"],r.$inject=["$stateProvider","$urlRouterProvider"]}();
!function(){"use strict";function t(t,e){t.get("/household/completed").then(function(t){e.completedApplications=t.data})}angular.module("eatChallengeApp").controller("exportController",t),t.$inject=["$http","$scope"]}();
!function(){"use strict";function e(e,o,n,t,a,l){function r(){t.save(s.household).then(function(){a.updateRequiredSections(s.household),a.navigateToNext()})}var s=e;s.household=t.household,s.navigateToNextSection=r;var i={categoryName:"work",headline:"Work Income",question:"earn money through work",sources:[{vaule:"work",checkboxLabel:"Work outside the home in a non-military capacity ",shortLabel:"Earnings from work",frequency:["weekly","biweekly","2x month","monthly"],annotation:"Please report gross income. This is the amount of income earned before any money is taken out for taxes or deductions. Include salary, wages, and cash bonuses."},{vaule:"selfEmployed",shortLabel:"Earnings from self employment",checkboxLabel:"Self-employed",frequency:["weekly","biweekly","2x month","monthly"],annotation:"For household members that are self-employed, report income from that work as a net amount. This is calculated by subtracting the total operating expenses of the business from its gross receipts or revenue."},{vaule:"onStrike",checkboxLabel:"On strike",shortLabel:"Strike Benefits",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"military",checkboxLabel:"In the U.S. military",shortLabel:"Basic pay and cash bonuses",frequency:["weekly","biweekly","2x month","monthly"],annotation:"Please do not include combat pay, FSSA, or private housing allowances."}]},c={categoryName:"publicAssistance",headline:"Public Assistance",question:"receive any public assistance benefits",sources:[{vaule:"unemployment",checkboxLabel:"Unemployment benefits",shortLabel:"Unemployment benefits",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"workersComp",checkboxLabel:"Worker’s compensation",shortLabel:"Worker’s compensation",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"ssi",checkboxLabel:"Supplemental Security Income (SSI)",shortLabel:"Supplemental Security Income (SSI)",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"cashAssistance",checkboxLabel:"Cash assistance from State or local government",shortLabel:"Cash assistance",frequency:["weekly","biweekly","2x month","monthly"],annotation:"This could include TANF or General Assistance money."},{vaule:"veteransBenefits",checkboxLabel:"Veteran’s benefits",shortLabel:"Veteran’s benefits",frequency:["weekly","biweekly","2x month","monthly"]}]},h={categoryName:"alimony",headline:"Alimony",question:"receive alimony payments",sources:[{vaule:"alimony",checkboxLabel:"alimony payments",shortLabel:"Alimony payment",frequency:["weekly","biweekly","2x month","monthly"],annotation:"If income is received from child support or alimony, only court-ordered payments should be reported here. Informal but regular payments should be reported later as “other” income."}]},m={categoryName:"childSupport",headline:"Child Support",question:"receive any child support",sources:[{vaule:"childSupport",checkboxLabel:"any child support",shortLabel:"Child support payment",frequency:["weekly","biweekly","2x month","monthly"],annotation:"If income is received from child support or childSupport, only court-ordered payments should be reported here. Informal but regular payments should be reported later as “other” income."}]},u={categoryName:"retirement",headline:"Pension and Retirement",question:"receive any pension or retirement money",sources:[{vaule:"socialSecurity",checkboxLabel:"Social Security (including railroad retirement and black lung benefits)",shortLabel:"Social security",frequency:["weekly","biweekly","2x month","monthly"],annotation:"Please include railroad retirement and black lung benefits"},{vaule:"privatePension",checkboxLabel:"Private pensions or disability",shortLabel:"Private pensions or disability",frequency:["weekly","biweekly","2x month","monthly"]}]},y={categoryName:"otherIncome",headline:"Other Income",question:"recieve money through any other source",sources:[{vaule:"trusts",checkboxLabel:"Income from trusts or estates",shortLabel:"Income from trusts or estates",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"annuities",checkboxLabel:"Annuities",shortLabel:"Income from annuities",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"investment",checkboxLabel:"Investment income",shortLabel:"Investment income",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"interest",checkboxLabel:"Earned interest",shortLabel:"Earned interest",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"rentalIncome",checkboxLabel:"Rental income",shortLabel:"Rental income",frequency:["weekly","biweekly","2x month","monthly"]},{vaule:"otherCash",checkboxLabel:"Regular cash payments from outside household",shortLabel:"Regular cash payments from outside household",frequency:["weekly","biweekly","2x month","monthly"],annotation:"Such cash payments should include regular child support or alimony payments received by the household that are not court-ordered."}]};s.incomeCategories=[i,c,h,m,u,y]}angular.module("eatChallengeApp").controller("householdIncome",e),e.$inject=["$scope","$state","Auth","Household","Sections"]}();
!function(){"use strict";function n(n,o){}angular.module("eatChallengeApp").controller("loginController",[n]),n.$inject=["$location","$scope"]}();
!function(){"use strict";function e(e,o,t,h,n,l,u,i,s){function d(){1===p.household.children.length&&(p.childrenLabel="child"),1===p.household.otherMembers.length&&(p.adultsLabel="adult")}function c(o){o>p.household.children.length&&e.get("/child").then(function(e){var t=e.data;p.household.children.push(t),c(o)})}function r(o){o>p.household.otherMembers.length&&e.get("/household-member").then(function(e){var t=e.data;t={},p.household.otherMembers.push(t),r(o)})}function a(e){return e.children.length>e.childCount&&(e.children=e.children.slice(0,e.childCount)),e}function m(e){return e.otherMembers.length>e.otherMembersCount&&e.otherMembers.slice(0,e.otherMembersCount),e}function g(){i.save(),s.updateRequiredSections(p.household),s.goBack()}function b(){a(p.household),m(p.household),i.save(p.household).then(function(){s.updateRequiredSections(p.household),s.navigateToNext()})}function f(){n.household.completed=!0,b()}var p=n;p.schoolDistrict="Oakland Unified School District",p.household=i.household,p.meansTest=s.meansTest,p.childrenLabel="children",p.adultsLabel="adults",p.goBack=g,p.navigateToNextSection=b,p.submitApplication=f,d(),n.$watch("household.childCount",c),n.$watch("household.otherMembersCount",r)}angular.module("eatChallengeApp").controller("mainController",e),e.$inject=["$http","$interval","$mdDialog","$mdMedia","$scope","$state","Auth","Household","Sections"]}();
!function(){"use strict";function e(e,t,n){var c=e;c.currentState=t.$current.self.name,c.sections=n.sections}angular.module("eatChallengeApp").controller("sideNavController",e),e.$inject=["$scope","$state","Sections"]}();
!function(){"use strict";function n(n){}angular.module("eatChallengeApp").controller("signupController",[n]),n.$inject=["$scope"]}();
!function(){"use strict";function e(){var e={scope:{member:"="},restrict:"A",replace:!0,templateUrl:"../views/income.html",link:o};return e}function o(e){e.incomeSources={work:{vaule:"work",label:"Earnings from work",frequency:["weekly","biweekly","2x month","monthly"],annotation:"A child has a job where they earn salary or wages. Please report gross income. This is the amount of income earned before any money is taken out for taxes or deductions. Include salary, wages, and cash bonuses."},socialSecurity:{vaule:"socialSecurity",label:"Social Security Disability Payments or Survivor’s Benefits ",frequency:["monthly"]},otherPerson:{vaule:"otherPerson",label:"Income from persons outside the household",frequency:["weekly","biweekly","2x month","monthly"],annotation:"A friend or extended family member regularly gives a child spending money."},otherSource:{vaule:"otherSource",label:"Income from any other source",frequency:["weekly","biweekly","2x month","monthly"],annotation:"A child receives income from a private pension fund, annuity, or trust."}},0===e.member.incomeSources.length&&(e.member.incomeSources=[],Object.keys(e.incomeSources).forEach(function(o){e.member.incomeSources.push({type:o,amount:null,frequency:null})}))}angular.module("eatChallengeApp").directive("incomeQuestions",e)}();
!function(){"use strict";function e(){return{scope:{model:"="},restrict:"A",replace:!0,templateUrl:"../views/yesno.html"}}angular.module("eatChallengeApp").directive("yesNoInput",e)}();
!function(){"use strict";function n(n){function t(t,u){var s={email:t,password:u};n.post("/user/login",s).success(function(n){o=!0})}function u(){n.post("/user/logout").success(function(){o=!1})}var o=!1,s={login:t,logout:u,user:o};return s}angular.module("eatChallengeApp").service("Auth",n),n.$inject=["$http"]}();
!function(){function e(e){function t(t){return e.post("/household",t)}function o(){this.household=Object.create(h)}var h={};return this.save=t,this.clear=o,this.household={childCount:0,children:[],otherMembersCount:0,otherMembers:[],completedApplication:!1},this}angular.module("eatChallengeApp").service("Household",e),e.$inject=["$http"]}();
!function(){"use strict";function e(e,t){function r(e){c.meansTest=!0;var t=a(e),r=n(e);return t||r?(c.meansTest=!1,l.childIncome.required=!1,l.household.required=!1,void(l.householdIncome.required=!1)):void u.forEach(function(e){e.required=!0})}function a(e){for(var t,r=0;r<e.children.length;r++)if(t=e.children[r],t.assistanceProgram&&t.assistanceProgram.participant)return!0;return!1}function n(e){var t,r=_.filter(e.children,function(e){return e.enrolled===!0});if(0===r.length)return!1;for(var a=0;a<r.length;a++)if(t=e.children[a],!t.specialStatus.fosterChild&&!t.specialStatus.homelessMigrantRunaway&&!t.specialStatus.headStartParticipant)return!1;return!0}function o(e){for(var t=_.findIndex(u,function(t){return t.state===e}),r=t+1;r<u.length;r++)if(u[r].required)return u[r].state;return"confirmation"}function i(){var r,a=e.currentState||t.$current.self.name,n=e.previousState||"start";r="soFar"===a?n?o(n):"start":l[a].showSummaryAfter?"soFar":o(a),t.go(r)}function s(){var r=e.previousState||"start";t.go(r)}var u=[{label:"Let’s Get Started! ",state:"start",completed:!1,required:!0,showSummaryAfter:!1},{label:"Children",state:"children",completed:!1,required:!0,showSummaryAfter:!0},{label:"Household Members",state:"household",completed:!1,required:!0,showSummaryAfter:!0},{label:"Children's Income",state:"childIncome",completed:!1,required:!0,showSummaryAfter:!0},{label:"Household Income",state:"householdIncome",completed:!1,required:!0,showSummaryAfter:!0},{label:"Disclosure",state:"disclosure",completed:!1,required:!0,showSummaryAfter:!1},{label:"Sign and Confirm",state:"signature",completed:!1,required:!0,showSummaryAfter:!1}],l=_.indexBy(u,"state"),c={meansTest:!0,sections:u,indexedSections:l,navigateToNext:i,goBack:s,updateRequiredSections:r};return c}angular.module("eatChallengeApp").service("Sections",e),e.$inject=["$rootScope","$state"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2V4cG9ydC5qcyIsImNvbnRyb2xsZXJzL2hvdXNlaG9sZEluY29tZS5qcyIsImNvbnRyb2xsZXJzL2xvZ2luLmpzIiwiY29udHJvbGxlcnMvbWFpbi5qcyIsImNvbnRyb2xsZXJzL3NpZGVuYXYuanMiLCJjb250cm9sbGVycy9zaWdudXAuanMiLCJkaXJlY3RpdmVzL2luY29tZS5qcyIsImRpcmVjdGl2ZXMveWVzbm8uanMiLCJzZXJ2aWNlcy9hdXRoLmpzIiwic2VydmljZXMvaG91c2Vob2xkLmpzIiwic2VydmljZXMvc2VjdGlvbnMuanMiXSwibmFtZXMiOlsiZXJyb3JEZWNvcmF0b3IiLCIkcHJvdmlkZSIsImRlY29yYXRlRXJyb3IiLCIkZGVsZWdhdGUiLCJleGNlcHRpb24iLCJjYXVzZSIsImRlY29yYXRvciIsIiRpbmplY3QiLCJzY3JvbGxlciIsIiRyb290U2NvcGUiLCIkb24iLCJkb2N1bWVudCIsImJvZHkiLCJzY3JvbGxUb3AiLCJkb2N1bWVudEVsZW1lbnQiLCJldiIsInRvIiwidG9QYXJhbXMiLCJmcm9tIiwiZnJvbVBhcmFtcyIsInByZXZpb3VzU3RhdGUiLCJuYW1lIiwiY3VycmVudFN0YXRlIiwibWF0ZXJpYWxEZXNpZ25UaGVtZXIiLCIkbWRUaGVtaW5nUHJvdmlkZXIiLCJ0aGVtZSIsInByaW1hcnlQYWxldHRlIiwiYmFja2dyb3VuZFBhbGV0dGUiLCJkZWZhdWx0Iiwicm91dGVyQ29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJyb3V0ZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwibWFpbiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInNpZGUtbmF2IiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsInJ1biIsImV4cG9ydENvbnRyb2xsZXIiLCIkaHR0cCIsIiRzY29wZSIsImdldCIsInRoZW4iLCJyZXNwb25zZSIsImNvbXBsZXRlZEFwcGxpY2F0aW9ucyIsImRhdGEiLCJob3VzZWhvbGRJbmNvbWUiLCIkc3RhdGUiLCJBdXRoIiwiSG91c2Vob2xkIiwiU2VjdGlvbnMiLCJIb3VzZWhvbGRJbmNvbWUiLCJuYXZpZ2F0ZVRvTmV4dFNlY3Rpb24iLCJzYXZlIiwidm0iLCJob3VzZWhvbGQiLCJ1cGRhdGVSZXF1aXJlZFNlY3Rpb25zIiwibmF2aWdhdGVUb05leHQiLCJ3b3JrIiwiY2F0ZWdvcnlOYW1lIiwiaGVhZGxpbmUiLCJxdWVzdGlvbiIsInNvdXJjZXMiLCJ2YXVsZSIsImNoZWNrYm94TGFiZWwiLCJzaG9ydExhYmVsIiwiZnJlcXVlbmN5IiwiYW5ub3RhdGlvbiIsInB1YmxpY0Fzc2lzdGFuY2UiLCJhbGltb255IiwiY2hpbGRTdXBwb3J0IiwicmV0aXJlbWVudCIsIm90aGVySW5jb21lIiwiaW5jb21lQ2F0ZWdvcmllcyIsImxvZ2luQ29udHJvbGxlciIsIiRsb2NhdGlvbiIsIm1haW5Db250cm9sbGVyIiwiJGludGVydmFsIiwiJG1kRGlhbG9nIiwiJG1kTWVkaWEiLCJpbml0IiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJjaGlsZHJlbkxhYmVsIiwib3RoZXJNZW1iZXJzIiwiYWR1bHRzTGFiZWwiLCJhZGRDaGlsZCIsIm5ld1ZhbCIsIm5ld0NoaWxkIiwicHVzaCIsImFkZE90aGVyTWVtYmVyIiwibmV3SG91c2Vob2xkTWVtYmVyIiwidHJpbUNoaWxkcmVuIiwiY2hpbGRDb3VudCIsInNsaWNlIiwidHJpbU90aGVyTWVtYmVycyIsIm90aGVyTWVtYmVyc0NvdW50IiwiZ29CYWNrIiwic3VibWl0QXBwbGljYXRpb24iLCJjb21wbGV0ZWQiLCJzY2hvb2xEaXN0cmljdCIsIm1lYW5zVGVzdCIsIiR3YXRjaCIsInNpZGVOYXZDb250cm9sbGVyIiwiJGN1cnJlbnQiLCJzZWxmIiwic2VjdGlvbnMiLCJzaWdudXBDb250cm9sbGVyIiwiaW5jb21lRGlyZWN0aXZlIiwiZGlyZWN0aXZlIiwic2NvcGUiLCJtZW1iZXIiLCJyZXN0cmljdCIsInJlcGxhY2UiLCJsaW5rIiwiaW5jb21lU291cmNlcyIsImxhYmVsIiwic29jaWFsU2VjdXJpdHkiLCJvdGhlclBlcnNvbiIsIm90aGVyU291cmNlIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJpbmNvbWVTb3VyY2UiLCJ0eXBlIiwiYW1vdW50IiwieWVzTm9JbnB1dCIsIm1vZGVsIiwibG9naW4iLCJlbWFpbCIsInBhc3N3b3JkIiwicG9zdCIsInN1Y2Nlc3MiLCJ1c2VyIiwibG9nb3V0Iiwic2VydmljZSIsImhvdXNlaG9sZFNlcnZpY2UiLCJjbGVhciIsInRoaXMiLCJjcmVhdGUiLCJjb21wbGV0ZWRBcHBsaWNhdGlvbiIsInNlY3Rpb25zU2VydmljZSIsImFzc2lzdGFuY2VQcm9ncmFtSG91c2Vob2xkIiwiaXNBc3Npc3RhbmNlSG91c2Vob2xkIiwiY2F0ZWdvcmljYWxseVF1YWxpZmllZCIsImFsbFN0dWRlbnRzQ2F0ZWdvcmljYWxseVF1YWxpZnkiLCJpbmRleGVkU2VjdGlvbnMiLCJyZXF1aXJlZCIsInNlY3Rpb24iLCJjdXJyZW50Q2hpbGQiLCJpIiwiYXNzaXN0YW5jZVByb2dyYW0iLCJwYXJ0aWNpcGFudCIsImVucm9sbGVkQ2hpbGRyZW4iLCJfIiwiZmlsdGVyIiwiYyIsImVucm9sbGVkIiwic3BlY2lhbFN0YXR1cyIsImZvc3RlckNoaWxkIiwiaG9tZWxlc3NNaWdyYW50UnVuYXdheSIsImhlYWRTdGFydFBhcnRpY2lwYW50IiwiZmluZE5leHQiLCJjdXJyZW50SW5kZXgiLCJmaW5kSW5kZXgiLCJuZXh0U2VjdGlvbiIsInNob3dTdW1tYXJ5QWZ0ZXIiLCJnbyIsImluZGV4QnkiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0ksWUFVQSxTQUFTQSxHQUFlQyxHQUdwQixRQUFTQyxHQUFjQyxHQUNuQixNQUFPLFVBQVNDLEVBQVdDLEdBRXZCLEtBREFGLEdBQVVDLEVBQVdDLEdBQ2ZELEdBTGRILEVBQVNLLFVBQVUsb0JBQXFCSixHQUN4Q0EsRUFBY0ssU0FBVyxhQVU3QixR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TUFBTyxXQUNQekYsTUFBTyxXQUNQd0UsV0FBVyxFQUNYZ0QsVUFBVSxFQUNWbUIsa0JBQWtCLElBR2xCbEQsTUFBTyxvQkFDUHpGLE1BQU8sWUFDUHdFLFdBQVcsRUFDWGdELFVBQVUsRUFDVm1CLGtCQUFrQixJQUdsQmxELE1BQU8sb0JBQ1B6RixNQUFPLGNBQ1B3RSxXQUFXLEVBQ1hnRCxVQUFVLEVBQ1ZtQixrQkFBa0IsSUFHbEJsRCxNQUFPLG1CQUNQekYsTUFBTyxrQkFDUHdFLFdBQVcsRUFDWGdELFVBQVUsRUFDVm1CLGtCQUFrQixJQUdsQmxELE1BQU8sYUFDUHpGLE1BQU8sYUFDUHdFLFdBQVcsRUFDWGdELFVBQVUsRUFDVm1CLGtCQUFrQixJQUdsQmxELE1BQU8sbUJBQ1B6RixNQUFPLFlBQ1B3RSxXQUFXLEVBQ1hnRCxVQUFVLEVBQ1ZtQixrQkFBa0IsSUFJdEJwQixFQUFrQlEsRUFBRWMsUUFBUTlELEVBQVUsU0FFdEM2QixHQUNBbEMsV0FBVyxFQUNYSyxTQUFVQSxFQUNWd0MsZ0JBQWlCQSxFQUNqQnpGLGVBQWdCQSxFQUNoQndDLE9BQVFBLEVBQ1J6Qyx1QkFBd0JBLEVBRzVCLE9BQU8rRSxHQXJFWHJHLFFBQ0tDLE9BQU8sbUJBQ1BvRyxRQUFRLFdBQVlNLEdBRXpCQSxFQUFnQjdJLFNBQVcsYUFBYyIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnLFsnbmdDb29raWVzJywgJ25nQ3N2JywnbmdNYXRlcmlhbCcsICduZ1Nhbml0aXplJywgJ3VpLnJvdXRlciddKVxuICAgIC5jb25maWcocm91dGVyQ29uZmlnKVxuICAgIC5jb25maWcobWF0ZXJpYWxEZXNpZ25UaGVtZXIpXG4gICAgLmNvbmZpZyhlcnJvckRlY29yYXRvcilcbiAgICAucnVuKHNjcm9sbGVyKTtcblxuICAgIGVycm9yRGVjb3JhdG9yLiRpbmplY3QgPSBbJyRwcm92aWRlJ107XG4gICAgZnVuY3Rpb24gZXJyb3JEZWNvcmF0b3IoJHByb3ZpZGUpIHtcbiAgICAgICAgJHByb3ZpZGUuZGVjb3JhdG9yKCckZXhjZXB0aW9uSGFuZGxlcicsIGRlY29yYXRlRXJyb3IpO1xuICAgICAgICBkZWNvcmF0ZUVycm9yLiRpbmplY3QgPSBbJyRkZWxlZ2F0ZSddO1xuICAgICAgICBmdW5jdGlvbiBkZWNvcmF0ZUVycm9yKCRkZWxlZ2F0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV4Y2VwdGlvbiwgY2F1c2UpIHtcbiAgICAgICAgICAgICAgICAkZGVsZWdhdGUoZXhjZXB0aW9uLCBjYXVzZSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNjcm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnXTtcbiAgICBmdW5jdGlvbiBzY3JvbGxlcigkcm9vdFNjb3BlKSB7XG4gICAgICAgIC8vIHNjcm9sbCB0byB0aGUgdG9wIG9uIHBhZ2UgdHJhbnNpdGlvblxuICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gS2VlcCB0cmFjayBvZiBoaXN0b3J5XG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oZXYsIHRvLCB0b1BhcmFtcywgZnJvbSwgZnJvbVBhcmFtcykge1xuICAgICAgICAgICAgJHJvb3RTY29wZS5wcmV2aW91c1N0YXRlID0gZnJvbS5uYW1lO1xuICAgICAgICAgICAgJHJvb3RTY29wZS5jdXJyZW50U3RhdGUgPSB0by5uYW1lO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBtYXRlcmlhbERlc2lnblRoZW1lci4kaW5qZWN0ID0gWyckbWRUaGVtaW5nUHJvdmlkZXInXTtcbiAgICBmdW5jdGlvbiBtYXRlcmlhbERlc2lnblRoZW1lcigkbWRUaGVtaW5nUHJvdmlkZXIpIHtcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcbiAgICAgICAvLyAucHJpbWFyeVBhbGV0dGUoJ2JsdWUtZ3JleScpXG4gICAgICAgLnByaW1hcnlQYWxldHRlKCd0ZWFsJylcbiAgICAgICAgLmJhY2tncm91bmRQYWxldHRlKCdicm93bicsIHtcbiAgICAgICAgICAgICdkZWZhdWx0JzogJzUwJ1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdsaWdodC1ibHVlJyk7XG4gICAgICAgIC8vIC5wcmltYXJ5UGFsZXR0ZSgncGluaycsIHtcbiAgICAgICAgLy8gICAnZGVmYXVsdCc6ICc0MDAnLCAvLyBieSBkZWZhdWx0IHVzZSBzaGFkZSA0MDAgZnJvbSB0aGUgcGluayBwYWxldHRlIGZvciBwcmltYXJ5IGludGVudGlvbnNcbiAgICAgICAgLy8gICAnaHVlLTEnOiAnMTAwJywgLy8gdXNlIHNoYWRlIDEwMCBmb3IgdGhlIDxjb2RlPm1kLWh1ZS0xPC9jb2RlPiBjbGFzc1xuICAgICAgICAvLyAgICdodWUtMic6ICc2MDAnLCAvLyB1c2Ugc2hhZGUgNjAwIGZvciB0aGUgPGNvZGU+bWQtaHVlLTI8L2NvZGU+IGNsYXNzXG4gICAgICAgIC8vICAgJ2h1ZS0zJzogJ0ExMDAnIC8vIHVzZSBzaGFkZSBBMTAwIGZvciB0aGUgPGNvZGU+bWQtaHVlLTM8L2NvZGU+IGNsYXNzXG4gICAgICAgIC8vIH0pXG4gICAgICAgIC8vIC8vIElmIHlvdSBzcGVjaWZ5IGxlc3MgdGhhbiBhbGwgb2YgdGhlIGtleXMsIGl0IHdpbGwgaW5oZXJpdCBmcm9tIHRoZVxuICAgICAgICAvLyAvLyBkZWZhdWx0IHNoYWRlc1xuICAgICAgICAvLyAuYWNjZW50UGFsZXR0ZSgncHVycGxlJywge1xuICAgICAgICAvLyAgICdkZWZhdWx0JzogJzIwMCcgLy8gdXNlIHNoYWRlIDIwMCBmb3IgZGVmYXVsdCwgYW5kIGtlZXAgYWxsIG90aGVyIHNoYWRlcyB0aGUgc2FtZVxuICAgICAgICAvLyB9KTtcbiAgICB9XG5cbiAgICByb3V0ZXJDb25maWcuJGluamVjdCA9IFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJ107XG5cbiAgICBmdW5jdGlvbiByb3V0ZXJDb25maWcgKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcblxuICAgICAgICByb3V0ZXIoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcik7XG5cbiAgICAgICAgLy8vLy8vLy8vL1xuICAgICAgICBmdW5jdGlvbiByb3V0ZXIoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xuICAgICAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuXG4gICAgICAgICAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAgICAgLnN0YXRlKCdzdGFydCcsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgIC8vICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3N0YXJ0Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnY2hpbGRyZW4nLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2NoaWxkcmVuJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2NoaWxkcmVuLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnY2hpbGRJbmNvbWUnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2NoaWxkSW5jb21lJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvY2hpbGRJbmNvbWUuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYWluQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnaG91c2Vob2xkJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9ob3VzZWhvbGQnLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvaG91c2Vob2xkLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnaG91c2Vob2xkSW5jb21lJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9ob3VzZWhvbGQtaW5jb21lJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2hvdXNlaG9sZEluY29tZS5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdob3VzZWhvbGRJbmNvbWUnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdkaXNjbG9zdXJlJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9kaXNjbG9zdXJlJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2Rpc2Nsb3N1cmUuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdzaWduYXR1cmUnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3NpZ25hdHVyZScsXG4gICAgICAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICAgICAgICAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZ25hdHVyZS5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdjb25maXJtYXRpb24nLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2NvbmZpcm1hdGlvbicsXG4gICAgICAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICAgICAgICAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2NvbmZpcm1hdGlvbi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdleHBvcnQnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2V4cG9ydCcsXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWRlTmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZGVOYXZDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvZXhwb3J0Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2V4cG9ydENvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdzaWdudXAnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3NpZ251cCcsXG4gICAgICAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICAgICAgICAnc2lkZS1uYXYnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lkZU5hdkNvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zaWdudXAuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lnbnVwQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnbG9naW4nLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2xvZ2luJyxcbiAgICAgICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgICAgICAgICdzaWRlLW5hdic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2lkZU5hdi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2xvZ2luLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2xvZ2luQ29udHJvbGxlcidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3NvRmFyJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9zby1mYXInLFxuICAgICAgICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAgICAgICAgJ3NpZGUtbmF2Jzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3NpZGVOYXYuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWRlTmF2Q29udHJvbGxlcidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zb0Zhci5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdleHBvcnRDb250cm9sbGVyJywgZXhwb3J0Q29udHJvbGxlcik7XG5cbiAgICBleHBvcnRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRodHRwJywgJyRzY29wZSddO1xuXG4gICAgZnVuY3Rpb24gZXhwb3J0Q29udHJvbGxlcigkaHR0cCwgJHNjb3BlKSB7XG4gICAgICAgICRodHRwLmdldCgnL2hvdXNlaG9sZC9jb21wbGV0ZWQnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAkc2NvcGUuY29tcGxldGVkQXBwbGljYXRpb25zID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2hvdXNlaG9sZEluY29tZScsIGhvdXNlaG9sZEluY29tZSk7XG5cbiAgICBob3VzZWhvbGRJbmNvbWUuJGluamVjdCA9IFtcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckc3RhdGUnLFxuICAgICAgICAnQXV0aCcsXG4gICAgICAgICdIb3VzZWhvbGQnLFxuICAgICAgICAnU2VjdGlvbnMnXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIGhvdXNlaG9sZEluY29tZSAoJHNjb3BlLCAkc3RhdGUsIEF1dGgsIEhvdXNlaG9sZCwgU2VjdGlvbnMsIEhvdXNlaG9sZEluY29tZSkge1xuICAgICAgICB2YXIgdm0gPSAkc2NvcGU7XG4gICAgICAgIHZtLmhvdXNlaG9sZCA9IEhvdXNlaG9sZC5ob3VzZWhvbGQ7XG4gICAgICAgIHZtLm5hdmlnYXRlVG9OZXh0U2VjdGlvbiA9IG5hdmlnYXRlVG9OZXh0U2VjdGlvbjtcblxuICAgICAgICB2YXIgd29yayA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogJ3dvcmsnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdXb3JrIEluY29tZScsXG4gICAgICAgICAgICBxdWVzdGlvbjogJ2Vhcm4gbW9uZXkgdGhyb3VnaCB3b3JrJyxcbiAgICAgICAgICAgIHNvdXJjZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOid3b3JrJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ1dvcmsgb3V0c2lkZSB0aGUgaG9tZSBpbiBhIG5vbi1taWxpdGFyeSBjYXBhY2l0eSAnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnRWFybmluZ3MgZnJvbSB3b3JrJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdQbGVhc2UgcmVwb3J0IGdyb3NzIGluY29tZS4gVGhpcyBpcyB0aGUgYW1vdW50IG9mIGluY29tZSBlYXJuZWQgYmVmb3JlIGFueSBtb25leSBpcyB0YWtlbiBvdXQgZm9yIHRheGVzIG9yIGRlZHVjdGlvbnMuIEluY2x1ZGUgc2FsYXJ5LCB3YWdlcywgYW5kIGNhc2ggYm9udXNlcy4nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOidzZWxmRW1wbG95ZWQnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnRWFybmluZ3MgZnJvbSBzZWxmIGVtcGxveW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnU2VsZi1lbXBsb3llZCcsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uOiAnRm9yIGhvdXNlaG9sZCBtZW1iZXJzIHRoYXQgYXJlIHNlbGYtZW1wbG95ZWQsIHJlcG9ydCBpbmNvbWUgZnJvbSB0aGF0IHdvcmsgYXMgYSBuZXQgYW1vdW50LiBUaGlzIGlzIGNhbGN1bGF0ZWQgYnkgc3VidHJhY3RpbmcgdGhlIHRvdGFsIG9wZXJhdGluZyBleHBlbnNlcyBvZiB0aGUgYnVzaW5lc3MgZnJvbSBpdHMgZ3Jvc3MgcmVjZWlwdHMgb3IgcmV2ZW51ZS4nXG5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6J29uU3RyaWtlJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ09uIHN0cmlrZScsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdTdHJpa2UgQmVuZWZpdHMnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjpcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogYWRkIHNwYWNlIGZvciBob3VzaW5nIGFsbG93YW5jZSBwZXIgZG9jXG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOidtaWxpdGFyeScsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdJbiB0aGUgVS5TLiBtaWxpdGFyeScsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdCYXNpYyBwYXkgYW5kIGNhc2ggYm9udXNlcycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uOiAnUGxlYXNlIGRvIG5vdCBpbmNsdWRlIGNvbWJhdCBwYXksIEZTU0EsIG9yIHByaXZhdGUgaG91c2luZyBhbGxvd2FuY2VzLidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHB1YmxpY0Fzc2lzdGFuY2UgPSB7XG4gICAgICAgICAgICBjYXRlZ29yeU5hbWU6ICdwdWJsaWNBc3Npc3RhbmNlJyxcbiAgICAgICAgICAgIGhlYWRsaW5lOiAnUHVibGljIEFzc2lzdGFuY2UnLFxuICAgICAgICAgICAgcXVlc3Rpb246ICdyZWNlaXZlIGFueSBwdWJsaWMgYXNzaXN0YW5jZSBiZW5lZml0cycsXG4gICAgICAgICAgICBzb3VyY2VzOltcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOid1bmVtcGxveW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnVW5lbXBsb3ltZW50IGJlbmVmaXRzJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ1VuZW1wbG95bWVudCBiZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTond29ya2Vyc0NvbXAnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnV29ya2Vy4oCZcyBjb21wZW5zYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnV29ya2Vy4oCZcyBjb21wZW5zYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6J3NzaScsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdTdXBwbGVtZW50YWwgU2VjdXJpdHkgSW5jb21lIChTU0kpJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ1N1cHBsZW1lbnRhbCBTZWN1cml0eSBJbmNvbWUgKFNTSSknLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6J2Nhc2hBc3Npc3RhbmNlJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ0Nhc2ggYXNzaXN0YW5jZSBmcm9tIFN0YXRlIG9yIGxvY2FsIGdvdmVybm1lbnQnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnQ2FzaCBhc3Npc3RhbmNlJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdUaGlzIGNvdWxkIGluY2x1ZGUgVEFORiBvciBHZW5lcmFsIEFzc2lzdGFuY2UgbW9uZXkuJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTondmV0ZXJhbnNCZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdWZXRlcmFu4oCZcyBiZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdWZXRlcmFu4oCZcyBiZW5lZml0cycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnVGhpcyBjb3VsZCBpbmNsdWRlIFRBTkYgb3IgR2VuZXJhbCBBc3Npc3RhbmNlIG1vbmV5J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYWxpbW9ueSA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogJ2FsaW1vbnknLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdBbGltb255JyxcbiAgICAgICAgICAgIHF1ZXN0aW9uOiAncmVjZWl2ZSBhbGltb255IHBheW1lbnRzJyxcbiAgICAgICAgICAgIHNvdXJjZXM6W1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6ICdhbGltb255JyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ2FsaW1vbnkgcGF5bWVudHMnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnQWxpbW9ueSBwYXltZW50JyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdJZiBpbmNvbWUgaXMgcmVjZWl2ZWQgZnJvbSBjaGlsZCBzdXBwb3J0IG9yIGFsaW1vbnksIG9ubHkgY291cnQtb3JkZXJlZCBwYXltZW50cyBzaG91bGQgYmUgcmVwb3J0ZWQgaGVyZS4gSW5mb3JtYWwgYnV0IHJlZ3VsYXIgcGF5bWVudHMgc2hvdWxkIGJlIHJlcG9ydGVkIGxhdGVyIGFzIOKAnG90aGVy4oCdIGluY29tZS4nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBjaGlsZFN1cHBvcnQgPSB7XG4gICAgICAgICAgICBjYXRlZ29yeU5hbWU6ICdjaGlsZFN1cHBvcnQnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdDaGlsZCBTdXBwb3J0JyxcbiAgICAgICAgICAgIHF1ZXN0aW9uOiAncmVjZWl2ZSBhbnkgY2hpbGQgc3VwcG9ydCcsXG4gICAgICAgICAgICBzb3VyY2VzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTogJ2NoaWxkU3VwcG9ydCcsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdhbnkgY2hpbGQgc3VwcG9ydCcsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdDaGlsZCBzdXBwb3J0IHBheW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ0lmIGluY29tZSBpcyByZWNlaXZlZCBmcm9tIGNoaWxkIHN1cHBvcnQgb3IgY2hpbGRTdXBwb3J0LCBvbmx5IGNvdXJ0LW9yZGVyZWQgcGF5bWVudHMgc2hvdWxkIGJlIHJlcG9ydGVkIGhlcmUuIEluZm9ybWFsIGJ1dCByZWd1bGFyIHBheW1lbnRzIHNob3VsZCBiZSByZXBvcnRlZCBsYXRlciBhcyDigJxvdGhlcuKAnSBpbmNvbWUuJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmV0aXJlbWVudCA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogJ3JldGlyZW1lbnQnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdQZW5zaW9uIGFuZCBSZXRpcmVtZW50JyxcbiAgICAgICAgICAgIHF1ZXN0aW9uOiAncmVjZWl2ZSBhbnkgcGVuc2lvbiBvciByZXRpcmVtZW50IG1vbmV5JyxcbiAgICAgICAgICAgIHNvdXJjZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOiAnc29jaWFsU2VjdXJpdHknLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnU29jaWFsIFNlY3VyaXR5IChpbmNsdWRpbmcgcmFpbHJvYWQgcmV0aXJlbWVudCBhbmQgYmxhY2sgbHVuZyBiZW5lZml0cyknLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnU29jaWFsIHNlY3VyaXR5JyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdQbGVhc2UgaW5jbHVkZSByYWlscm9hZCByZXRpcmVtZW50IGFuZCBibGFjayBsdW5nIGJlbmVmaXRzJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTogJ3ByaXZhdGVQZW5zaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ1ByaXZhdGUgcGVuc2lvbnMgb3IgZGlzYWJpbGl0eScsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdQcml2YXRlIHBlbnNpb25zIG9yIGRpc2FiaWxpdHknLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG90aGVySW5jb21lID0ge1xuICAgICAgICAgICAgY2F0ZWdvcnlOYW1lOiAnb3RoZXJJbmNvbWUnLFxuICAgICAgICAgICAgaGVhZGxpbmU6ICdPdGhlciBJbmNvbWUnLFxuICAgICAgICAgICAgcXVlc3Rpb246ICdyZWNpZXZlIG1vbmV5IHRocm91Z2ggYW55IG90aGVyIHNvdXJjZScsXG4gICAgICAgICAgICBzb3VyY2VzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTogJ3RydXN0cycsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdJbmNvbWUgZnJvbSB0cnVzdHMgb3IgZXN0YXRlcycsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdJbmNvbWUgZnJvbSB0cnVzdHMgb3IgZXN0YXRlcycsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTogJ2FubnVpdGllcycsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdBbm51aXRpZXMnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydExhYmVsOiAnSW5jb21lIGZyb20gYW5udWl0aWVzJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIC8vIGFubm90YXRpb246ICcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOiAnaW52ZXN0bWVudCcsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94TGFiZWw6ICdJbnZlc3RtZW50IGluY29tZScsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdJbnZlc3RtZW50IGluY29tZScsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogWyd3ZWVrbHknLCAnYml3ZWVrbHknLCAnMnggbW9udGgnLCAnbW9udGhseSddLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXVsZTogJ2ludGVyZXN0JyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ0Vhcm5lZCBpbnRlcmVzdCcsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdFYXJuZWQgaW50ZXJlc3QnLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5ub3RhdGlvbjogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bGU6ICdyZW50YWxJbmNvbWUnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveExhYmVsOiAnUmVudGFsIGluY29tZScsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TGFiZWw6ICdSZW50YWwgaW5jb21lJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIC8vIGFubm90YXRpb246ICcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhdWxlOiAnb3RoZXJDYXNoJyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hMYWJlbDogJ1JlZ3VsYXIgY2FzaCBwYXltZW50cyBmcm9tIG91dHNpZGUgaG91c2Vob2xkJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRMYWJlbDogJ1JlZ3VsYXIgY2FzaCBwYXltZW50cyBmcm9tIG91dHNpZGUgaG91c2Vob2xkJyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246ICdTdWNoIGNhc2ggcGF5bWVudHMgc2hvdWxkIGluY2x1ZGUgcmVndWxhciBjaGlsZCBzdXBwb3J0IG9yIGFsaW1vbnkgcGF5bWVudHMgcmVjZWl2ZWQgYnkgdGhlIGhvdXNlaG9sZCB0aGF0IGFyZSBub3QgY291cnQtb3JkZXJlZC4nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUT0RPOiBkdXBsaWNhdGVkIHdpdGggbWFpbi5qcy4gU2hhcmUgaW4gYSBiZXR0ZXIgd2F5XG4gICAgICAgIGZ1bmN0aW9uIG5hdmlnYXRlVG9OZXh0U2VjdGlvbigpIHtcbiAgICAgICAgICAgIEhvdXNlaG9sZC5zYXZlKHZtLmhvdXNlaG9sZCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBTZWN0aW9ucy51cGRhdGVSZXF1aXJlZFNlY3Rpb25zKHZtLmhvdXNlaG9sZCk7XG4gICAgICAgICAgICAgICAgU2VjdGlvbnMubmF2aWdhdGVUb05leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdm0uaW5jb21lQ2F0ZWdvcmllcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29yayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGljQXNzaXN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpbW9ueSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRTdXBwb3J0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRpcmVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlckluY29tZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcblxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgLmNvbnRyb2xsZXIoJ2xvZ2luQ29udHJvbGxlcicsIFtsb2dpbkNvbnRyb2xsZXJdKTtcbiAgICBsb2dpbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvY2F0aW9uJywgJyRzY29wZSddO1xuICAgIGZ1bmN0aW9uIGxvZ2luQ29udHJvbGxlcigkbG9jYXRpb24sICRzY29wZSkge1xuICAgICAgICB2YXIgdm0gPSAkc2NvcGU7XG4gICAgICAgIC8vIGRlYnVnZ2VyO1xuICAgICAgICAvLyB2bS5lcnJvciA9ICRsb2NhdGlvbjtcbiAgICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgICAuY29udHJvbGxlcignbWFpbkNvbnRyb2xsZXInLCBtYWluQ29udHJvbGxlcik7XG5cbiAgICBtYWluQ29udHJvbGxlci4kaW5qZWN0ID0gW1xuICAgICAgICAnJGh0dHAnLFxuICAgICAgICAnJGludGVydmFsJyxcbiAgICAgICAgJyRtZERpYWxvZycsXG4gICAgICAgICckbWRNZWRpYScsXG4gICAgICAgICckc2NvcGUnLFxuICAgICAgICAnJHN0YXRlJyxcbiAgICAgICAgJ0F1dGgnLFxuICAgICAgICAnSG91c2Vob2xkJyxcbiAgICAgICAgJ1NlY3Rpb25zJ1xuICAgIF07XG5cbiAgICBmdW5jdGlvbiBtYWluQ29udHJvbGxlciAoJGh0dHAsICRpbnRlcnZhbCwgJG1kRGlhbG9nLCAkbWRNZWRpYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLCAkc3RhdGUsIEF1dGgsIEhvdXNlaG9sZCwgU2VjdGlvbnMpIHtcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgICB2YXIgdm0gPSAkc2NvcGU7XG4gICAgICAgIHZtLnNjaG9vbERpc3RyaWN0ID0gJ09ha2xhbmQgVW5pZmllZCBTY2hvb2wgRGlzdHJpY3QnO1xuXG4gICAgICAgIHZtLmhvdXNlaG9sZCA9IEhvdXNlaG9sZC5ob3VzZWhvbGQ7XG4gICAgICAgIHZtLm1lYW5zVGVzdCA9IFNlY3Rpb25zLm1lYW5zVGVzdDtcbiAgICAgICAgLy8gdm0uZXN0aW1hdGVkSW5jb21lID0gZXN0aW1hdGVJbmNvbWUoaG91c2Vob2xkKTtcblxuICAgICAgICB2bS5jaGlsZHJlbkxhYmVsID0gJ2NoaWxkcmVuJztcbiAgICAgICAgdm0uYWR1bHRzTGFiZWwgPSAnYWR1bHRzJztcblxuICAgICAgICAvLyBuYXZpZ2F0aW9uXG4gICAgICAgIHZtLmdvQmFjayA9IGdvQmFjaztcbiAgICAgICAgdm0ubmF2aWdhdGVUb05leHRTZWN0aW9uID0gbmF2aWdhdGVUb05leHRTZWN0aW9uO1xuICAgICAgICB2bS5zdWJtaXRBcHBsaWNhdGlvbiA9IHN1Ym1pdEFwcGxpY2F0aW9uO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgIGlmICh2bS5ob3VzZWhvbGQuY2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdm0uY2hpbGRyZW5MYWJlbCA9ICdjaGlsZCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodm0uaG91c2Vob2xkLm90aGVyTWVtYmVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICB2bS5hZHVsdHNMYWJlbCA9ICdhZHVsdCc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGluaXQoKTtcblxuICAgICAgICAvL05ldyBjaGlsZHJlbiBhbmQgaG91c2Vob2xkIG1lbWJlcnMgYXJlIGNyZWF0ZWRcbiAgICAgICAgLy9ieSBjYWxsaW5nIHRoZSBzZXJ2ZXIgdG8gbWFrZSB1c2Ugb2YgbW9uZ29vc2UgbW9kZWxzXG4gICAgICAgIGZ1bmN0aW9uIGFkZENoaWxkKG5ld1ZhbCkge1xuICAgICAgICAgICAgLy8gdmFyIG5ld0NoaWxkID0ge1xuICAgICAgICAgICAgLy8gICAgIGZpcnN0TmFtZTonJyxcbiAgICAgICAgICAgIC8vICAgICBtaWRkbGVJbml0aWFsOiAnJyxcbiAgICAgICAgICAgIC8vICAgICBsYXN0TmFtZTogJycsXG4gICAgICAgICAgICAvLyAgICAgZW5yb2xsZWQ6IG51bGwsXG4gICAgICAgICAgICAvLyAgICAgc3BlY2lhbFN0YXR1czoge1xuICAgICAgICAgICAgLy8gICAgICAgICBmb3N0ZXJDaGlsZDogZmFsc2UsXG4gICAgICAgICAgICAvLyAgICAgICAgIGhlYWRTdGFydFBhcnRpY2lwYW50OiBmYWxzZSxcbiAgICAgICAgICAgIC8vICAgICAgICAgaG9tZWxlc3NNaWdyYW50UnVuYXdheTogZmFsc2VcbiAgICAgICAgICAgIC8vICAgICB9LFxuICAgICAgICAgICAgLy8gICAgIGFzc2lzdGFuY2VQcm9ncmFtOiB7fSxcbiAgICAgICAgICAgIC8vICAgICBpbmNvbWVTb3VyY2VzOiBbXVxuICAgICAgICAgICAgLy8gfTtcblxuICAgICAgICAgICAgLy8gd2hpbGUgKG5ld1ZhbCA+ICRzY29wZS5ob3VzZWhvbGQuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyAgICAgJHNjb3BlLmhvdXNlaG9sZC5jaGlsZHJlbi5wdXNoKE9iamVjdC5jcmVhdGUobmV3Q2hpbGQpKTtcbiAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgaWYgKG5ld1ZhbCA+IHZtLmhvdXNlaG9sZC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQoJy9jaGlsZCcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0NoaWxkID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgdm0uaG91c2Vob2xkLmNoaWxkcmVuLnB1c2gobmV3Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWN1cnNlIGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgICAgICBhZGRDaGlsZChuZXdWYWwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkT3RoZXJNZW1iZXIobmV3VmFsKSB7XG4gICAgICAgICAgICBpZiAobmV3VmFsID4gdm0uaG91c2Vob2xkLm90aGVyTWVtYmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQoJy9ob3VzZWhvbGQtbWVtYmVyJykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3SG91c2Vob2xkTWVtYmVyID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgbmV3SG91c2Vob2xkTWVtYmVyID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZtLmhvdXNlaG9sZC5vdGhlck1lbWJlcnMucHVzaChuZXdIb3VzZWhvbGRNZW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWN1cnNlIGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgICAgICBhZGRPdGhlck1lbWJlcihuZXdWYWwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogZmluaXNoIHRoaXMgZnVuY3Rpb25cbiAgICAgICAgZnVuY3Rpb24gZXN0aW1hdGVJbmNvbWUoaG91c2Vob2xkKSB7XG4gICAgICAgICAgICByZXR1cm4gNDc7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0cmltQ2hpbGRyZW4oaG91c2Vob2xkKSB7XG4gICAgICAgICAgICAvLyBnZXQgcmlkIG9mIGV4dHJhIGVtcHR5IGNoaWxkIG9iZWpjZXRzIGNyZWF0ZWQgaW4gcHJvY2Vzc1xuICAgICAgICAgICAgaWYgKGhvdXNlaG9sZC5jaGlsZHJlbi5sZW5ndGggPiBob3VzZWhvbGQuY2hpbGRDb3VudCkge1xuICAgICAgICAgICAgICAgIGhvdXNlaG9sZC5jaGlsZHJlbiA9IGhvdXNlaG9sZC5jaGlsZHJlbi5zbGljZSgwLCBob3VzZWhvbGQuY2hpbGRDb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaG91c2Vob2xkO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdHJpbU90aGVyTWVtYmVycyhob3VzZWhvbGQpIHtcbiAgICAgICAgICAgIC8vIGdldCByaWQgb2YgZXh0cmEgZW1wdHkgb3RoZXJNZW1iZXIgb2JlamNldHMgY3JlYXRlZCBpbiBwcm9jZXNzXG4gICAgICAgICAgICBpZiAoaG91c2Vob2xkLm90aGVyTWVtYmVycy5sZW5ndGggPiBob3VzZWhvbGQub3RoZXJNZW1iZXJzQ291bnQpIHtcbiAgICAgICAgICAgICAgICBob3VzZWhvbGQub3RoZXJNZW1iZXJzLnNsaWNlKDAsIGhvdXNlaG9sZC5vdGhlck1lbWJlcnNDb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaG91c2Vob2xkO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgICAgICAgICAgSG91c2Vob2xkLnNhdmUoKTtcbiAgICAgICAgICAgIFNlY3Rpb25zLnVwZGF0ZVJlcXVpcmVkU2VjdGlvbnModm0uaG91c2Vob2xkKTtcbiAgICAgICAgICAgIFNlY3Rpb25zLmdvQmFjaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbmF2aWdhdGVUb05leHRTZWN0aW9uKCkge1xuICAgICAgICAgICAgdHJpbUNoaWxkcmVuKHZtLmhvdXNlaG9sZCk7XG4gICAgICAgICAgICB0cmltT3RoZXJNZW1iZXJzKHZtLmhvdXNlaG9sZCk7XG5cbiAgICAgICAgICAgIEhvdXNlaG9sZC5zYXZlKHZtLmhvdXNlaG9sZCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBTZWN0aW9ucy51cGRhdGVSZXF1aXJlZFNlY3Rpb25zKHZtLmhvdXNlaG9sZCk7XG4gICAgICAgICAgICAgICAgU2VjdGlvbnMubmF2aWdhdGVUb05leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3VibWl0QXBwbGljYXRpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuaG91c2Vob2xkLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICBuYXZpZ2F0ZVRvTmV4dFNlY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdhdGNoZXJzXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ2hvdXNlaG9sZC5jaGlsZENvdW50JywgYWRkQ2hpbGQpO1xuICAgICAgICAkc2NvcGUuJHdhdGNoKCdob3VzZWhvbGQub3RoZXJNZW1iZXJzQ291bnQnLCBhZGRPdGhlck1lbWJlcik7XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3NpZGVOYXZDb250cm9sbGVyJywgc2lkZU5hdkNvbnRyb2xsZXIpO1xuXG4gICAgc2lkZU5hdkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRzdGF0ZScsICdTZWN0aW9ucyddO1xuXG4gICAgZnVuY3Rpb24gc2lkZU5hdkNvbnRyb2xsZXIgKCRzY29wZSwgJHN0YXRlLCBTZWN0aW9ucykge1xuICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgICAgIHZhciB2bSA9ICRzY29wZTtcblxuICAgICAgICB2bS5jdXJyZW50U3RhdGUgPSAkc3RhdGUuJGN1cnJlbnQuc2VsZi5uYW1lO1xuICAgICAgICB2bS5zZWN0aW9ucyA9IFNlY3Rpb25zLnNlY3Rpb25zO1xuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgLmNvbnRyb2xsZXIoJ3NpZ251cENvbnRyb2xsZXInLCBbc2lnbnVwQ29udHJvbGxlcl0pO1xuICAgIHNpZ251cENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJ107XG4gICAgZnVuY3Rpb24gc2lnbnVwQ29udHJvbGxlcigkc2NvcGUpIHtcbiAgICAgICAgdmFyIHZtID0gJHNjb3BlO1xuICAgICAgICAvLyBkZWJ1Z2dlcjtcbiAgICAgICAgLy8gdm0uZXJyb3IgPSAkbG9jYXRpb247XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZWF0Q2hhbGxlbmdlQXBwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnaW5jb21lUXVlc3Rpb25zJywgaW5jb21lRGlyZWN0aXZlKTtcblxuICAgIGZ1bmN0aW9uIGluY29tZURpcmVjdGl2ZSgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgbWVtYmVyOiAnPSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvaW5jb21lLmh0bWwnLFxuICAgICAgICAgICAgbGluazogbGlua1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgfVxuXG4gICAgLy8gbGluay4kaW5qZWN0ID0gWydzY29wZSddO1xuXG4gICAgZnVuY3Rpb24gbGluayhzY29wZSkge1xuICAgICAgICBzY29wZS5pbmNvbWVTb3VyY2VzID0ge1xuICAgICAgICAgICAgd29yazoge1xuICAgICAgICAgICAgICAgIHZhdWxlOid3b3JrJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0Vhcm5pbmdzIGZyb20gd29yaycsXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ0EgY2hpbGQgaGFzIGEgam9iIHdoZXJlIHRoZXkgZWFybiBzYWxhcnkgb3Igd2FnZXMuIFBsZWFzZSByZXBvcnQgZ3Jvc3MgaW5jb21lLiBUaGlzIGlzIHRoZSBhbW91bnQgb2YgaW5jb21lIGVhcm5lZCBiZWZvcmUgYW55IG1vbmV5IGlzIHRha2VuIG91dCBmb3IgdGF4ZXMgb3IgZGVkdWN0aW9ucy4gSW5jbHVkZSBzYWxhcnksIHdhZ2VzLCBhbmQgY2FzaCBib251c2VzLicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc29jaWFsU2VjdXJpdHk6IHtcbiAgICAgICAgICAgICAgICB2YXVsZTonc29jaWFsU2VjdXJpdHknLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnU29jaWFsIFNlY3VyaXR5IERpc2FiaWxpdHkgUGF5bWVudHMgb3IgU3Vydml2b3LigJlzIEJlbmVmaXRzICcsXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICAvLyBhbm5vdGF0aW9uOiAnQSBjaGlsZCBpcyBibGluZCBvciBkaXNhYmxlZCBhbmQgcmVjZWl2ZXMgU29jaWFsIFNlY3VyaXR5IGJlbmVmaXRzLicsXG4gICAgICAgICAgICAgICAgICAgIC8vICcgQSBwYXJlbnQgaXMgZGlzYWJsZWQsIHJldGlyZWQsIG9yIGRlY2Vhc2VkLCBhbmQgdGhlaXIgY2hpbGQgcmVjZWl2ZXMgc29jaWFsIHNlY3VyaXR5IGJlbmVmaXRzJyxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvdGhlclBlcnNvbjoge1xuICAgICAgICAgICAgICAgIHZhdWxlOidvdGhlclBlcnNvbicsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdJbmNvbWUgZnJvbSBwZXJzb25zIG91dHNpZGUgdGhlIGhvdXNlaG9sZCcsXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBbJ3dlZWtseScsICdiaXdlZWtseScsICcyeCBtb250aCcsICdtb250aGx5J10sXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogJ0EgZnJpZW5kIG9yIGV4dGVuZGVkIGZhbWlseSBtZW1iZXIgcmVndWxhcmx5IGdpdmVzIGEgY2hpbGQgc3BlbmRpbmcgbW9uZXkuJyxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvdGhlclNvdXJjZToge1xuICAgICAgICAgICAgICAgIHZhdWxlOidvdGhlclNvdXJjZScsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdJbmNvbWUgZnJvbSBhbnkgb3RoZXIgc291cmNlJyxcbiAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IFsnd2Vla2x5JywgJ2Jpd2Vla2x5JywgJzJ4IG1vbnRoJywgJ21vbnRobHknXSxcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uOiAnQSBjaGlsZCByZWNlaXZlcyBpbmNvbWUgZnJvbSBhIHByaXZhdGUgcGVuc2lvbiBmdW5kLCBhbm51aXR5LCBvciB0cnVzdC4nLFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChzY29wZS5tZW1iZXIuaW5jb21lU291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHNjb3BlLm1lbWJlci5pbmNvbWVTb3VyY2VzID0gW107XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzY29wZS5pbmNvbWVTb3VyY2VzKS5mb3JFYWNoKGZ1bmN0aW9uKGluY29tZVNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLm1lbWJlci5pbmNvbWVTb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBpbmNvbWVTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBudWxsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3llc05vSW5wdXQnLCB5ZXNOb0lucHV0KTtcblxuICAgIGZ1bmN0aW9uIHllc05vSW5wdXQgKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgICBtb2RlbDogJz0nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3llc25vLmh0bWwnLFxuICAgICAgICB9O1xuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5zZXJ2aWNlKCdBdXRoJywgQXV0aCk7XG5cbiAgICBBdXRoLiRpbmplY3QgPSBbJyRodHRwJ107XG5cbiAgICBmdW5jdGlvbiBBdXRoKCRodHRwKSB7XG5cbiAgICAgICAgdmFyIHVzZXIgPSBmYWxzZTtcblxuICAgICAgICBmdW5jdGlvbiBzaWdudXAoZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJGh0dHAucG9zdCgnL3VzZXIvc2lnbnVwJywgZGF0YSlcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdXNlciA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIC5lcnJvcihmdW5jdGlvbihkYXRhKSB7fSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGxvZ2luKGVtYWlsLCBwYXNzd29yZCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJGh0dHAucG9zdCgnL3VzZXIvbG9naW4nLCBkYXRhKVxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB1c2VyID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gLmVycm9yKGZ1bmN0aW9uKGRhdGEpIHt9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGxvZ291dCgpIHtcbiAgICAgICAgICAgICRodHRwLnBvc3QoJy91c2VyL2xvZ291dCcpLnN1Y2Nlc3MoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdXNlciA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vXG4gICAgICAgIHZhciBzZXJ2aWNlICA9IHtcbiAgICAgICAgICAgIGxvZ2luOiBsb2dpbixcbiAgICAgICAgICAgIGxvZ291dDogbG9nb3V0LFxuICAgICAgICAgICAgdXNlcjogdXNlclxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VhdENoYWxsZW5nZUFwcCcpXG4gICAgICAgIC5zZXJ2aWNlKCdIb3VzZWhvbGQnLCBob3VzZWhvbGRTZXJ2aWNlKTtcblxuICAgIGhvdXNlaG9sZFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnXTtcblxuICAgIGZ1bmN0aW9uIGhvdXNlaG9sZFNlcnZpY2UoJGh0dHApIHtcbiAgICAgICAgLy8gVG9kbzogY29uc2lkZXIgbW92aW5nIHRvIHNlcnZlcj8/XG4gICAgICAgIHZhciBIb3VzZWhvbGQgPSAge307XG5cbiAgICAgICAgLy8gdGhpcy5nZXQgPSBnZXQ7XG4gICAgICAgIHRoaXMuc2F2ZSA9IHNhdmU7XG4gICAgICAgIHRoaXMuY2xlYXIgPSBjbGVhcjtcbiAgICAgICAgdGhpcy5ob3VzZWhvbGQgPSB7XG4gICAgICAgICAgICBjaGlsZENvdW50OiAwLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgICAgb3RoZXJNZW1iZXJzQ291bnQ6IDAsXG4gICAgICAgICAgICBvdGhlck1lbWJlcnM6IFtdLFxuICAgICAgICAgICAgY29tcGxldGVkQXBwbGljYXRpb246IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAvLyBpZiAodGhpcy5ob3VzZWhvbGQpIHtcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gdGhpcy5ob3VzZWhvbGQ7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAvLyAvLyBob3VzZWhvbGQgPSBcbiAgICAgICAgICAgIC8vIHJldHVybiBob3VzZWhvbGQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzYXZlKGhvdXNlaG9sZCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9ob3VzZWhvbGQnLCBob3VzZWhvbGQpO1xuICAgICAgICAgICAgLy8gLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2xlYXIgKCkge1xuICAgICAgICAgICAgdGhpcy5ob3VzZWhvbGQgPSBPYmplY3QuY3JlYXRlKEhvdXNlaG9sZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdlYXRDaGFsbGVuZ2VBcHAnKVxuICAgICAgICAuc2VydmljZSgnU2VjdGlvbnMnLCBzZWN0aW9uc1NlcnZpY2UpO1xuXG4gICAgc2VjdGlvbnNTZXJ2aWNlLiRpbmplY3QgPSBbJyRyb290U2NvcGUnICwnJHN0YXRlJ107XG5cbiAgICBmdW5jdGlvbiBzZWN0aW9uc1NlcnZpY2UoJHJvb3RTY29wZSwgJHN0YXRlKSB7XG4gICAgICAgIHZhciBzZWN0aW9ucyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0xldFxc4oCZcyBHZXQgU3RhcnRlZCEgJyxcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ3N0YXJ0JyxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTdW1tYXJ5QWZ0ZXI6IGZhbHNlXG4gICAgICAgICAgICB9LCAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0NoaWxkcmVuJyxcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2NoaWxkcmVuJyxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTdW1tYXJ5QWZ0ZXI6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdIb3VzZWhvbGQgTWVtYmVycycsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdob3VzZWhvbGQnLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvd1N1bW1hcnlBZnRlcjogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0NoaWxkcmVuXFwncyBJbmNvbWUnLFxuICAgICAgICAgICAgICAgIHN0YXRlOiAnY2hpbGRJbmNvbWUnLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvd1N1bW1hcnlBZnRlcjogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0hvdXNlaG9sZCBJbmNvbWUnLFxuICAgICAgICAgICAgICAgIHN0YXRlOiAnaG91c2Vob2xkSW5jb21lJyxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTdW1tYXJ5QWZ0ZXI6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdEaXNjbG9zdXJlJyxcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2Rpc2Nsb3N1cmUnLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvd1N1bW1hcnlBZnRlcjogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdTaWduIGFuZCBDb25maXJtJyxcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ3NpZ25hdHVyZScsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93U3VtbWFyeUFmdGVyOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcblxuICAgICAgICB2YXIgaW5kZXhlZFNlY3Rpb25zID0gXy5pbmRleEJ5KHNlY3Rpb25zLCAnc3RhdGUnKTtcblxuICAgICAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgICAgICAgIG1lYW5zVGVzdDogdHJ1ZSxcbiAgICAgICAgICAgIHNlY3Rpb25zOiBzZWN0aW9ucyxcbiAgICAgICAgICAgIGluZGV4ZWRTZWN0aW9uczogaW5kZXhlZFNlY3Rpb25zLFxuICAgICAgICAgICAgbmF2aWdhdGVUb05leHQ6IG5hdmlnYXRlVG9OZXh0LFxuICAgICAgICAgICAgZ29CYWNrOiBnb0JhY2ssXG4gICAgICAgICAgICB1cGRhdGVSZXF1aXJlZFNlY3Rpb25zOiB1cGRhdGVSZXF1aXJlZFNlY3Rpb25zXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVSZXF1aXJlZFNlY3Rpb25zKGhvdXNlaG9sZCkge1xuICAgICAgICAgICAgc2VydmljZS5tZWFuc1Rlc3QgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGFzc2lzdGFuY2VQcm9ncmFtSG91c2Vob2xkID0gaXNBc3Npc3RhbmNlSG91c2Vob2xkKGhvdXNlaG9sZCk7XG4gICAgICAgICAgICB2YXIgY2F0ZWdvcmljYWxseVF1YWxpZmllZCA9IGFsbFN0dWRlbnRzQ2F0ZWdvcmljYWxseVF1YWxpZnkoaG91c2Vob2xkKTtcblxuICAgICAgICAgICAgaWYgKGFzc2lzdGFuY2VQcm9ncmFtSG91c2Vob2xkIHx8IGNhdGVnb3JpY2FsbHlRdWFsaWZpZWQpIHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlLm1lYW5zVGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGluZGV4ZWRTZWN0aW9uc1snY2hpbGRJbmNvbWUnXS5yZXF1aXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGluZGV4ZWRTZWN0aW9uc1snaG91c2Vob2xkJ10ucmVxdWlyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpbmRleGVkU2VjdGlvbnNbJ2hvdXNlaG9sZEluY29tZSddLnJlcXVpcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKHNlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBzZWN0aW9uLnJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaXNBc3Npc3RhbmNlSG91c2Vob2xkKGhvdXNlaG9sZCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRDaGlsZDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IGhvdXNlaG9sZC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDaGlsZCA9IGhvdXNlaG9sZC5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoaWxkLmFzc2lzdGFuY2VQcm9ncmFtICYmIGN1cnJlbnRDaGlsZC5hc3Npc3RhbmNlUHJvZ3JhbS5wYXJ0aWNpcGFudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhbGxTdHVkZW50c0NhdGVnb3JpY2FsbHlRdWFsaWZ5KGhvdXNlaG9sZCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRDaGlsZCwgY2hpbGRRdWFsaWZpZXM7XG5cbiAgICAgICAgICAgIHZhciBlbnJvbGxlZENoaWxkcmVuID0gXy5maWx0ZXIoaG91c2Vob2xkLmNoaWxkcmVuLCBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGMuZW5yb2xsZWQgPT09IHRydWU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gbXVzdCBoYXZlIGtpZHMgdG8gcXVhbGlmeVxuICAgICAgICAgICAgaWYgKGVucm9sbGVkQ2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL2FsbCBjaGlsZHJlbiBhcmUgY2F0ZWdvcmljYWxseSBxdWFsaWZpZWRcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IGVucm9sbGVkQ2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2hpbGQgPSBob3VzZWhvbGQuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50Q2hpbGQuc3BlY2lhbFN0YXR1cy5mb3N0ZXJDaGlsZCAmJlxuICAgICAgICAgICAgICAgICAgICAhY3VycmVudENoaWxkLnNwZWNpYWxTdGF0dXMuaG9tZWxlc3NNaWdyYW50UnVuYXdheSAmJlxuICAgICAgICAgICAgICAgICAgICAhY3VycmVudENoaWxkLnNwZWNpYWxTdGF0dXMuaGVhZFN0YXJ0UGFydGljaXBhbnRcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGZpbmROZXh0KGN1cnJlbnRTdGF0ZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IF8uZmluZEluZGV4KHNlY3Rpb25zLCBmdW5jdGlvbihzZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb24uc3RhdGUgPT09IGN1cnJlbnRTdGF0ZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBMb29rIGZvciB0aGUgbmV4dCByZXF1aXJlZCBzZWN0aW9uXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gY3VycmVudEluZGV4ICsgMTsgaSA8IHNlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlY3Rpb25zW2ldLnJlcXVpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWN0aW9uc1tpXS5zdGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSBubyBtb3JlIHJlcXVpcmVkIHNlY3Rpb25zLCB3ZSdyZSBkb25lLlxuICAgICAgICAgICAgcmV0dXJuICdjb25maXJtYXRpb24nO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbmF2aWdhdGVUb05leHQoKSB7XG4gICAgICAgICAgICB2YXIgbmV4dFNlY3Rpb247XG4gICAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gJHJvb3RTY29wZS5jdXJyZW50U3RhdGUgfHwgJHN0YXRlLiRjdXJyZW50LnNlbGYubmFtZTtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c1N0YXRlID0gJHJvb3RTY29wZS5wcmV2aW91c1N0YXRlIHx8ICdzdGFydCc7XG4gICAgICAgICAgICAvLyBJZiBvbiB0aGUgc3VtbWFyeSBwYWdlIGdvIHRvIHRoZSBuZXh0IGZvcm0gcGFnZVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gJ3NvRmFyJykge1xuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c1N0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHRTZWN0aW9uICA9IGZpbmROZXh0KHByZXZpb3VzU3RhdGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaGFwcGVucyBpZiB5b3UgcmVmcmVzaCB0aGUgcGFnZSBvbiB0aGUgc28gZmFyIHNjcmVlbi5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tZSB1cCB3aXRoIHNvbWV0aGluZyBiZXR0ZXI/IHN0YXNoIGluIHVybD9cbiAgICAgICAgICAgICAgICAgICAgbmV4dFNlY3Rpb24gPSAnc3RhcnQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXhlZFNlY3Rpb25zW2N1cnJlbnRTdGF0ZV0uc2hvd1N1bW1hcnlBZnRlcikge1xuICAgICAgICAgICAgICAgIC8vIGlmIG9uIGEgZm9ybSBwYWdlLCBnbyB0byBzdW1tYXJ5IHBhZ2VcbiAgICAgICAgICAgICAgICBuZXh0U2VjdGlvbiA9ICdzb0Zhcic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIHlvdSdyZSBvbiBzb21lIG90aGVyIHBhZ2UgbGlrZSBzdGFydCBvciBzaWduYXR1cmVcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIGFoZWFkIGFzIG5vcm1hbFxuICAgICAgICAgICAgICAgIG5leHRTZWN0aW9uICA9IGZpbmROZXh0KGN1cnJlbnRTdGF0ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRzdGF0ZS5nbyhuZXh0U2VjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgICAgICAgICB2YXIgcHJldmlvdXNTdGF0ZSA9ICRyb290U2NvcGUucHJldmlvdXNTdGF0ZSB8fCAnc3RhcnQnO1xuICAgICAgICAgICAgJHN0YXRlLmdvKHByZXZpb3VzU3RhdGUpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
